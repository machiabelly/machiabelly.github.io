"use strict";
import { CadLoaderSync } from "./CadLoaderSync";
export function withCadException(oc, callback) {
  try {
    return callback();
  } catch (e) {
    const message = cadProcessError(e);
    console.log(`That didn't work because: ${message}`);
    console.log(e, message);
  }
}
export function cadProcessError(e) {
  const oc = CadLoaderSync.oc();
  console.warn(e, typeof e === "number");
  if (typeof e === "number") {
    const exceptionData = oc.OCJS.getStandard_FailureData(e);
    console.log(exceptionData.GetMessageString());
    return exceptionData.GetMessageString();
  } else {
    const message = e.message;
    console.log(e, message);
    if (typeof message === "string") {
      return message;
    } else {
      console.log(e);
      return "Unknow CAD Error";
    }
  }
}
