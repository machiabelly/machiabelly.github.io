"use strict";
import { Vector4 } from "three";
import { QuadPrimitive } from "../QuadPrimitive";
import { QuadGraph } from "./QuadGraph";
import { arrayDifference } from "../../../../ArrayUtils";
const _v4 = new Vector4();
export function quadGraphFromQuadObject(object) {
  const quadGraph = new QuadGraph();
  const indices = object.geometry.index;
  const primitivesCount = QuadPrimitive.entitiesCount(object);
  for (let i = 0; i < primitivesCount; i++) {
    _v4.fromArray(indices, i * 4);
    quadGraph.addQuad(i, _v4.toArray());
  }
  return quadGraph;
}
const _neighbourIdsSharingEdge = [];
const _neighbourIdsSharingPoint = [];
export function quadGraphDirectDiagonalTiles(graph, quadId, target) {
  graph.neighbourIdsSharingPoint(quadId, _neighbourIdsSharingPoint);
  graph.neighbourIdsSharingEdge(quadId, _neighbourIdsSharingEdge);
  arrayDifference(_neighbourIdsSharingPoint, _neighbourIdsSharingEdge, target);
}
