"use strict";
let physics;
let _importStarted = false;
let _resolves = [];
export async function CorePhysics() {
  if (physics) {
    return physics;
  }
  return new Promise((resolve) => {
    if (_importStarted) {
      _resolves.push(resolve);
      return;
    }
    _importStarted = true;
    import("@dimforge/rapier3d-compat").then((RAPIER) => {
      RAPIER.init().then(() => {
        physics = RAPIER;
        resolve(physics);
        if (_resolves.length > 0) {
          for (const _resolve of _resolves) {
            _resolve(physics);
          }
        }
      });
    });
  });
}
export function CorePhysicsLoaded() {
  if (physics) {
    return physics;
  }
}
