"use strict";
import { Poly } from "../../Poly";
import { BaseMethod } from "./_Base";
export class CamerasCountExpression extends BaseMethod {
  static requiredArguments() {
    return [["string", "path to node"]];
  }
  findDependency(args) {
    return this.createDependencyFromIndexOrPath(args);
  }
  async processArguments(args) {
    if (args.length == 1) {
      const index_or_path = args[0];
      const container = await this.getReferencedNodeContainer(index_or_path);
      if (container) {
        const coreContent = container.coreContent();
        if (coreContent) {
          const count = coreContent.threejsObjects().filter((object) => Poly.camerasRegister.objectRegistered(object)).length;
          return count;
        }
      }
    }
    return 0;
  }
}
