export default "varying vec2 vUv;\nuniform sampler2D blurTexture1;\nuniform sampler2D blurTexture2;\nuniform sampler2D blurTexture3;\nuniform sampler2D blurTexture4;\nuniform sampler2D blurTexture5;\nuniform sampler2D dirtTexture;\nuniform float bloomStrength;\nuniform float bloomRadius;\nuniform float bloomFactors[NUM_MIPS];\nuniform vec3 bloomTintColors[NUM_MIPS];\n// uniform bool bloomPremult;\n\nfloat lerpBloomFactor(const in float factor) {\n	float mirrorFactor = 1.2 - factor;\n	return mix(factor, mirrorFactor, bloomRadius);\n}\n\nvec3 LUMA = vec3( 0.2125, 0.7154, 0.0721 );\nfloat luminance( vec3 rgb ) {\n	return dot( rgb, LUMA );\n}\n\nvoid main() {\n	gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n		lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n		lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n		lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n		lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\n	// if(bloomPremult){\n		// gl_FragColor.a = luminance(gl_FragColor.rgb);\n		gl_FragColor.a = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n		// gl_FragColor.rgb *= gl_FragColor.a;\n	// }\n}";
