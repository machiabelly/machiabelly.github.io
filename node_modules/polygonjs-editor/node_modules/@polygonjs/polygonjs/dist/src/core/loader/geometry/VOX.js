"use strict";
import { Mesh } from "three";
import { VOXLoader, VOXMesh } from "three/examples/jsm/loaders/VOXLoader";
import { BaseObject3DLoaderHandler } from "./_BaseLoaderHandler";
export class VOXLoaderHandler extends BaseObject3DLoaderHandler {
  async _getLoader() {
    return this._loader = this._loader || new VOXLoader(this.loadingManager);
  }
  _onLoadSuccess(chunks) {
    const meshes = [];
    for (const chunk of chunks) {
      const voxMesh = new VOXMesh(chunk);
      const mesh = new Mesh(voxMesh.geometry, voxMesh.material);
      meshes.push(mesh);
    }
    return meshes;
  }
}
