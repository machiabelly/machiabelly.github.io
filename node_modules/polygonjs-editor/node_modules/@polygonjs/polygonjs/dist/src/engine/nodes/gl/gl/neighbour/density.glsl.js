export default "\n\nfloat __FUNCTION__NAME__(\n	sampler2D texturePosition,\n	vec2 particleUv,\n	vec3 currentPosition,\n	// density\n	float maxDist\n	){\n\n	vec3 otherPosition;\n	float dist;\n\n	float density = 0.;\n	float range = abs(maxDist);\n\n	const float width = resolution.x;\n	const float height = resolution.y;\n	for ( float y = 0.0; y < height; y++ ) {\n		for ( float x = 0.0; x < width; x++ ) {\n\n			// ignore if this is self\n			if(x == particleUv.x && y == particleUv.y) continue;\n\n			vec2 ref = vec2( x + 0.5, y + 0.5 ) / resolution.xy;\n			otherPosition = texture2D( texturePosition, ref ).__COMPONENT__;\n\n			dist = distance( otherPosition, currentPosition );\n\n			if(dist < maxDist){\n				float weight = 1.0 - dist / range;\n				density += weight;\n			}\n		}\n	}\n\n	return density;\n\n}";
