(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_docs_expressions_Expressions_vue"],{

/***/ 80035:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": function() { return /* binding */ docifyLink; },
/* harmony export */   "x": function() { return /* binding */ replaceAnchorsByRouterLinks; }
/* harmony export */ });
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5831);
/* harmony import */ var _polygonjs_polygonjs_src_core_UrlHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51529);



function replaceAnchorsByRouterLinks(element, route) {
  const anchors = Array.from(element.getElementsByTagName("a"));
  for (let anchor of anchors) {
    _replaceAnchorByRouterLink(anchor, route);
  }
}
function _replaceAnchorByRouterLink(anchor, route) {
  const url = anchor.getAttribute("href");
  if (!url) {
    return;
  }
  if (url.startsWith("http")) {
    return;
  }
  anchor.removeAttribute("href");
  const docifyUrl = docifyLink(url, route);
  if (!docifyUrl) {
    anchor.classList.add("bg-red-500");
    return;
  }
  anchor.classList.add("cursor-pointer");
  anchor.addEventListener("click", (e) => {
    e.preventDefault();
    console.log(url);
    _routes__WEBPACK_IMPORTED_MODULE_0__/* .router.push */ .Nd.push(url);
  });
}
function _isPathResolved(route, path) {
  const matched = _routes__WEBPACK_IMPORTED_MODULE_0__/* .matcher.resolve */ .C2.resolve({ path }, route).matched;
  if (matched.length == 1 && matched[0].name == _routes__WEBPACK_IMPORTED_MODULE_0__/* .NOT_FOUND_ROUTE_NAME */ .sW) {
    return false;
  }
  const result = matched.length > 0;
  return result;
}
function docifyLink(href, route) {
  if (_isPathResolved(route, href)) {
    return href;
  }
  const withDoc = (0,_polygonjs_polygonjs_src_core_UrlHelper__WEBPACK_IMPORTED_MODULE_1__/* .sanitizeUrl */ .N)((0,_routes__WEBPACK_IMPORTED_MODULE_0__/* .docsRoute */ .$W)(href));
  if (_isPathResolved(route, withDoc)) {
    return withDoc;
  }
  const withoutDoc = (0,_polygonjs_polygonjs_src_core_UrlHelper__WEBPACK_IMPORTED_MODULE_1__/* .sanitizeUrl */ .N)((0,_routes__WEBPACK_IMPORTED_MODULE_0__/* .withoutDocRoute */ .pD)(href));
  if (_isPathResolved(route, withoutDoc)) {
    return withoutDoc;
  }
  console.error(`no match for link:${href}`);
}


/***/ }),

/***/ 56123:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": function() { return /* binding */ fetchAndParse; }
/* harmony export */ });
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92584);

var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

function fetchAndParse(url) {
  return __async(this, null, function* () {
    try {
      const response = yield fetch(url);
      const responseText = yield response.text();
      const markdown = marked__WEBPACK_IMPORTED_MODULE_0__/* .marked.parse */ .TU.parse(responseText);
      const element = document.createElement("div");
      element.innerHTML = markdown;
      const text = element.innerText;
      const result = {
        markdown,
        text
      };
      return result;
    } catch (err) {
      console.error(`failed to fetch '${url}'`);
    }
  });
}


/***/ }),

/***/ 52504:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ getRegisteredExpressions; }
/* harmony export */ });
/* harmony import */ var _polygonjs_polygonjs_src_engine_Poly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99934);
/* harmony import */ var _config_AppConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93265);

var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


function getRegisteredExpressions(options) {
  return __async(this, null, function* () {
    yield _config_AppConfig__WEBPACK_IMPORTED_MODULE_0__/* .AppConfig.register */ .X.register({ sceneName: null });
    const { expressionNames } = options;
    const expressionNamesSet = /* @__PURE__ */ new Set();
    _polygonjs_polygonjs_src_engine_Poly__WEBPACK_IMPORTED_MODULE_1__/* .Poly.expressionsRegister.availableMethods */ .L.expressionsRegister.availableMethods().forEach((expressionName) => {
      expressionNamesSet.add(expressionName);
    });
    expressionNames.splice(0, expressionNames.length);
    expressionNamesSet.forEach((expressionName) => expressionNames.push(expressionName));
  });
}


/***/ }),

/***/ 47974:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ Expressions; }
});

// EXTERNAL MODULE: ../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js
var runtime_core_esm_bundler = __webpack_require__(88917);
// EXTERNAL MODULE: ../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.js
var shared_esm_bundler = __webpack_require__(13053);
;// CONCATENATED MODULE: ../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!../src/docs/expressions/Expressions.vue?vue&type=template&id=8533c726&ts=true

const _hoisted_1 = /* @__PURE__ */ (0,runtime_core_esm_bundler/* createElementVNode */._)(
  "h1",
  { class: "mb-16" },
  [
    /* @__PURE__ */ (0,runtime_core_esm_bundler/* createElementVNode */._)("span", null, " Expressions")
  ],
  -1
  /* HOISTED */
);
const _hoisted_2 = {
  role: "list",
  class: "list-none border-l border-transparent"
};
const _hoisted_3 = { class: "relative py-0 my-0" };
const _hoisted_4 = /* @__PURE__ */ (0,runtime_core_esm_bundler/* createElementVNode */._)(
  "span",
  { class: "absolute inset-y-0 left-0 w-px bg-zinc-200/10 group-hover:bg-emerald-500" },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5 = { class: "" };
const _hoisted_6 = {
  key: 0,
  class: "bg-orange-500 text-white text-xs ml-2 px-2 py-px rounded-full leading-none opacity-80 group-hover:opacity-100"
};
const _hoisted_7 = ["innerHTML"];
function render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_router_link = (0,runtime_core_esm_bundler/* resolveComponent */.up)("router-link");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(
    runtime_core_esm_bundler/* Fragment */.HY,
    null,
    [
      _hoisted_1,
      (0,runtime_core_esm_bundler/* createElementVNode */._)("ul", _hoisted_2, [
        ((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(
          runtime_core_esm_bundler/* Fragment */.HY,
          null,
          (0,runtime_core_esm_bundler/* renderList */.Ko)(_ctx.expressionNames, (expressionName, i) => {
            return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("li", _hoisted_3, [
              (0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_router_link, {
                class: "group flex justify-between gap-2 py-1 my-0 text-sm pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white no-underline hover:no-underline hover:bg-zinc-800/50",
                to: _ctx.docsExpression(expressionName)
              }, {
                default: (0,runtime_core_esm_bundler/* withCtx */.w5)(() => [
                  _hoisted_4,
                  (0,runtime_core_esm_bundler/* createElementVNode */._)("span", null, [
                    (0,runtime_core_esm_bundler/* createElementVNode */._)(
                      "span",
                      _hoisted_5,
                      (0,shared_esm_bundler/* toDisplayString */.zw)(expressionName),
                      1
                      /* TEXT */
                    ),
                    _ctx.examplesCountList[i] > 0 ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(
                      "span",
                      _hoisted_6,
                      (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.examplesCountLabels[i]),
                      1
                      /* TEXT */
                    )) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("v-if", true)
                  ])
                ]),
                _: 2
                /* DYNAMIC */
              }, 1032, ["to"])
            ]);
          }),
          256
          /* UNKEYED_FRAGMENT */
        ))
      ]),
      (0,runtime_core_esm_bundler/* createElementVNode */._)("div", null, [
        (0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
          ref: "descriptionElement",
          innerHTML: _ctx.description
        }, null, 8, _hoisted_7)
      ])
    ],
    64
    /* STABLE_FRAGMENT */
  );
}

;// CONCATENATED MODULE: ../src/docs/expressions/Expressions.vue?vue&type=template&id=8533c726&ts=true

// EXTERNAL MODULE: ../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js + 1 modules
var reactivity_esm_bundler = __webpack_require__(61334);
// EXTERNAL MODULE: ../src/docs/expressions/Common.ts
var Common = __webpack_require__(52504);
// EXTERNAL MODULE: ../src/routes.ts
var routes = __webpack_require__(5831);
// EXTERNAL MODULE: ../src/engine/examples/ExamplesRegisterAsync.ts
var ExamplesRegisterAsync = __webpack_require__(93334);
// EXTERNAL MODULE: ../src/docs/documents/Common.ts
var documents_Common = __webpack_require__(56123);
;// CONCATENATED MODULE: ../src/docs/documents/DocumentExpressions.ts

var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

class DocumentExpressionsClass {
  constructor() {
    this._resultByUrl = /* @__PURE__ */ new Map();
  }
  static instance() {
    return this._instance = this._instance || new DocumentExpressionsClass();
  }
  url() {
    return `/editor/docs/description/expressions/traversers/functiongenerator.md`;
  }
  fetch() {
    return __async(this, null, function* () {
      const url = this.url();
      let result = this._resultByUrl.get(url);
      if (!result) {
        result = yield (0,documents_Common/* fetchAndParse */.A)(url);
      }
      return result;
    });
  }
}
const DocumentExpressions = DocumentExpressionsClass.instance();

// EXTERNAL MODULE: ../src/docs/common/RouteUtils.ts
var RouteUtils = __webpack_require__(80035);
// EXTERNAL MODULE: ../node_modules/vue-router/dist/vue-router.mjs
var vue_router = __webpack_require__(67332);
;// CONCATENATED MODULE: ../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!../src/docs/expressions/Expressions.vue?vue&type=script&lang=ts
var Expressionsvue_type_script_lang_ts_async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







/* harmony default export */ var Expressionsvue_type_script_lang_ts = ((0,runtime_core_esm_bundler/* defineComponent */.aZ)({
  name: "docs-expressions",
  components: {},
  props: {},
  setup() {
    const examplesLoaded = (0,reactivity_esm_bundler/* ref */.iH)(false);
    let ExamplesRegister;
    (0,runtime_core_esm_bundler/* onMounted */.bv)(loadExamples);
    function loadExamples() {
      return Expressionsvue_type_script_lang_ts_async(this, null, function* () {
        examplesLoaded.value = false;
        ExamplesRegister = yield (0,ExamplesRegisterAsync/* ExamplesRegisterAsync */.q)();
        examplesLoaded.value = true;
      });
    }
    const expressionNames = (0,reactivity_esm_bundler/* ref */.iH)([]);
    const examplesCountList = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      return expressionNames.value.map((expressionName) => {
        const examples = examplesLoaded.value && ExamplesRegister ? ExamplesRegister.examplesFromExpression(expressionName) : [];
        return (examples == null ? void 0 : examples.length) || 0;
      });
    });
    const examplesCountLabels = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      return examplesCountList.value.map((count) => {
        return count == 1 ? "1 example" : `${count} examples`;
      });
    });
    (0,runtime_core_esm_bundler/* onMounted */.bv)(loadRegisteredExpressions);
    function loadRegisteredExpressions() {
      return Expressionsvue_type_script_lang_ts_async(this, null, function* () {
        yield (0,Common/* getRegisteredExpressions */.Z)({
          expressionNames: expressionNames.value
        });
      });
    }
    const route = (0,vue_router/* useRoute */.yj)();
    const descriptionElement = (0,reactivity_esm_bundler/* ref */.iH)(null);
    const description = (0,reactivity_esm_bundler/* ref */.iH)("loading...");
    (0,runtime_core_esm_bundler/* onMounted */.bv)(_loadDescription);
    function _loadDescription() {
      return Expressionsvue_type_script_lang_ts_async(this, null, function* () {
        const result = yield DocumentExpressions.fetch();
        if (result) {
          description.value = result.markdown;
          (0,runtime_core_esm_bundler/* nextTick */.Y3)(_replaceAnchorsByRouterLinks);
        }
      });
    }
    function _replaceAnchorsByRouterLinks() {
      if (!descriptionElement.value) {
        return;
      }
      (0,RouteUtils/* replaceAnchorsByRouterLinks */.x)(descriptionElement.value, route);
    }
    return {
      expressionNames,
      docsExpression: routes/* docsExpression */.U4,
      examplesCountList,
      examplesCountLabels,
      descriptionElement,
      description
    };
  }
}));

;// CONCATENATED MODULE: ../src/docs/expressions/Expressions.vue?vue&type=script&lang=ts
 
// EXTERNAL MODULE: ../node_modules/vue-loader/dist/exportHelper.js
var exportHelper = __webpack_require__(6959);
;// CONCATENATED MODULE: ../src/docs/expressions/Expressions.vue




;


const __exports__ = /*#__PURE__*/(0,exportHelper/* default */.Z)(Expressionsvue_type_script_lang_ts, [['render',render]])

/* harmony default export */ var Expressions = (__exports__);

/***/ })

}])
//# sourceMappingURL=src_docs_expressions_Expressions_vue.b4776a75eb0f1f782eaa.js.map