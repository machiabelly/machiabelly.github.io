{"version":3,"file":"src_docs_search_SearchIndexController_ts.8a16efbc250d260ec170.js","mappings":"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","sources":["webpack:///../src/docs/documents/Common.ts","webpack:///../src/docs/documents/DocumentApi.ts","webpack:///../src/docs/documents/DocumentExpression.ts","webpack:///../src/docs/documents/DocumentNode.ts","webpack:///../src/docs/documents/DocumentPage.ts","webpack:///../src/docs/documents/DocumentNodeNotFetched.ts","webpack:///../src/docs/search/SearchIndexController.ts","webpack:///../node_modules/flexsearch/dist/flexsearch.bundle.js"],"sourcesContent":["import {marked} from 'marked';\n\nexport interface FetchResult {\n\tmarkdown: string;\n\ttext: string;\n}\n\nexport async function fetchAndParse(url: string): Promise<FetchResult | undefined> {\n\ttry {\n\t\tconst response = await fetch(url);\n\t\tconst responseText = await response.text();\n\t\tconst markdown = marked.parse(responseText);\n\t\tconst element = document.createElement('div');\n\t\telement.innerHTML = markdown;\n\t\tconst text = element.innerText;\n\t\tconst result: FetchResult = {\n\t\t\tmarkdown,\n\t\t\ttext,\n\t\t};\n\t\treturn result;\n\t} catch (err) {\n\t\tconsole.error(`failed to fetch '${url}'`);\n\t}\n}\n","import {fetchAndParse, FetchResult} from './Common';\nimport {ApiName} from '../api/Common';\ninterface DocumentApiOptions {\n\tapiName: ApiName;\n}\n\nexport class DocumentApiClass {\n\tprivate static _instance: DocumentApiClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new DocumentApiClass());\n\t}\n\tprivate constructor() {}\n\n\tprivate _resultByUrl: Map<string, FetchResult> = new Map();\n\turl(options: DocumentApiOptions) {\n\t\tconst path = options.apiName == ApiName.INDEX ? 'index' : options.apiName;\n\t\treturn `/editor/docs/description/api/${path.toLowerCase()}.md`;\n\t}\n\n\tasync fetch(options: DocumentApiOptions): Promise<FetchResult | undefined> {\n\t\tconst url = this.url(options);\n\t\tlet result = this._resultByUrl.get(url);\n\t\tif (!result) {\n\t\t\tresult = await fetchAndParse(url);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport const DocumentApi = DocumentApiClass.instance();\n","import {fetchAndParse, FetchResult} from './Common';\ninterface DocumentExpressionOptions {\n\texpressionName: string;\n}\n\nexport class DocumentExpressionClass {\n\tprivate static _instance: DocumentExpressionClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new DocumentExpressionClass());\n\t}\n\tprivate constructor() {}\n\n\tprivate _resultByUrl: Map<string, FetchResult> = new Map();\n\turl(options: DocumentExpressionOptions) {\n\t\treturn `/editor/docs/description/expressions/methods/${options.expressionName.toLowerCase()}.md`;\n\t}\n\n\tasync fetch(options: DocumentExpressionOptions): Promise<FetchResult | undefined> {\n\t\tconst url = this.url(options);\n\t\tlet result = this._resultByUrl.get(url);\n\t\tif (!result) {\n\t\t\tresult = await fetchAndParse(url);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport const DocumentExpression = DocumentExpressionClass.instance();\n","import {NodeContext} from '../../../@polygonjs/polygonjs/src/engine/poly/NodeContext';\nimport {fetchAndParse, FetchResult} from './Common';\ninterface DocumentNodeOptions {\n\tcontext: NodeContext;\n\ttype: string;\n}\n\nexport const NODE_CONTEXT_LABEL: Record<NodeContext, string> = {\n\t[NodeContext.ANIM]: 'Animation',\n\t[NodeContext.AUDIO]: 'Sound',\n\t[NodeContext.COP]: 'Textures',\n\t[NodeContext.EVENT]: 'Scene Events',\n\t[NodeContext.SOP]: 'Procedural Modeling',\n\t[NodeContext.GL]: 'Advanced Shaders',\n\t[NodeContext.JS]: 'States & Events + Advanced Operations',\n\t[NodeContext.MAT]: 'Materials',\n\t[NodeContext.OBJ]: 'Objects',\n\t[NodeContext.POST]: 'Post Processing',\n\t[NodeContext.ROP]: 'Renderers',\n\n\t[NodeContext.MANAGER]: '',\n};\nexport const NON_DOCUMENTED_CONTEXTS: Set<NodeContext> = new Set([NodeContext.MANAGER]);\n\nexport class DocumentNodeClass {\n\tprivate static _instance: DocumentNodeClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new DocumentNodeClass());\n\t}\n\tprivate constructor() {}\n\n\tprivate _resultByUrl: Map<string, FetchResult> = new Map();\n\turl(options: DocumentNodeOptions) {\n\t\treturn `/editor/docs/description/nodes/${options.context}/${options.type.toLowerCase()}.md`;\n\t}\n\n\tasync fetch(options: DocumentNodeOptions): Promise<FetchResult | undefined> {\n\t\tconst url = this.url(options);\n\t\tlet result = this._resultByUrl.get(url);\n\t\tif (!result) {\n\t\t\tresult = await fetchAndParse(url);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport const DocumentNode = DocumentNodeClass.instance();\n","import {fetchAndParse, FetchResult} from './Common';\nimport {DocsRoute, MDX_PATH} from '../pages/Pages';\nimport {API_NAMES, apiRoute} from '../api/Common';\n\nexport interface DocumentPageOptions {\n\troute: DocsRoute;\n}\nconst EXCLUDED: Set<DocsRoute | string> = new Set([DocsRoute.ASSETS_FILES, ...API_NAMES.map(apiRoute)]);\n\nexport class DocumentPageClass {\n\tprivate static _instance: DocumentPageClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new DocumentPageClass());\n\t}\n\tprivate constructor() {}\n\n\tprivate _resultByUrl: Map<string, FetchResult> = new Map();\n\turl(options: DocumentPageOptions) {\n\t\tconst templateName = MDX_PATH[options.route] || options.route;\n\t\treturn `/editor/docs/pages/mdx/${templateName}.mdx`;\n\t}\n\n\tasync fetch(options: DocumentPageOptions): Promise<FetchResult | undefined> {\n\t\tif (EXCLUDED.has(options.route)) {\n\t\t\treturn;\n\t\t}\n\t\tconst url = this.url(options);\n\t\tlet result = this._resultByUrl.get(url);\n\t\tif (!result) {\n\t\t\tresult = await fetchAndParse(url);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport const DocumentPage = DocumentPageClass.instance();\n","import {NodeContext} from '../../../@polygonjs/polygonjs/src/engine/poly/NodeContext';\nexport const DOCUMENT_NODES_NOT_FETCHED: Record<NodeContext, string[]> = {\n\t[NodeContext.ANIM]: [],\n\t[NodeContext.AUDIO]: [],\n\t// [NodeContext.CAD]: [],\n\t// [NodeContext.COP]: 'Textures',\n\t// [NodeContext.CSG]: [],\n\t[NodeContext.EVENT]: [],\n\t// [NodeContext.SOP]: 'Geometry',\n\t// [NodeContext.GL]: 'Shaders',\n\t// [NodeContext.MAT]: 'Materials',\n\t[NodeContext.OBJ]: [],\n\t[NodeContext.POST]: [],\n\t[NodeContext.ROP]: [],\n\t[NodeContext.JS]: [],\n\t[NodeContext.MANAGER]: [],\n\t[NodeContext.COP]: ['sdfblur'],\n\t[NodeContext.GL]: [\n\t\t'asin',\n\t\t'add',\n\t\t'abs',\n\t\t'and',\n\t\t'atan',\n\t\t'booltoint',\n\t\t'ceil',\n\t\t'clamp',\n\t\t'cos',\n\t\t'degrees',\n\t\t'divide',\n\t\t'exp',\n\t\t'distance',\n\t\t'dot',\n\t\t'fit',\n\t\t'exp2',\n\t\t'faceforward',\n\t\t'neighbourdensity',\n\t\t'fitto01',\n\t\t'fitfrom01',\n\t\t'fitfrom01tovariance',\n\t\t'floattoint',\n\t\t'floattovec2',\n\t\t'floattovec3',\n\t\t'floattovec4',\n\t\t'floor',\n\t\t'fract',\n\t\t'impostoruv',\n\t\t'inttobool',\n\t\t'inttofloat',\n\t\t'inversesqrt',\n\t\t'log',\n\t\t'log2',\n\t\t'min',\n\t\t'max',\n\t\t'mult',\n\t\t'mod',\n\t\t'normalize',\n\t\t'oklabtorgb',\n\t\t'or',\n\t\t'quatslerp',\n\t\t'pow',\n\t\t'radians',\n\t\t'sign',\n\t\t'rgbtooklab',\n\t\t'reflect',\n\t\t'smoothstep',\n\t\t'sin',\n\t\t'acos',\n\t\t'step',\n\t\t'tan',\n\t\t'sqrt',\n\t\t'subtract',\n\t\t'uvtooklab',\n\t\t'toworldspace',\n\t\t'vec2tovec3',\n\t\t'vec3tovec2',\n\t\t'vec3tofloat',\n\t\t'vec4tovec3',\n\t\t'vec3tovec4',\n\t\t'vec4tofloat',\n\t\t'vec2tofloat',\n\t],\n\t[NodeContext.MAT]: ['envmap', 'color', 'meshdepthbuilder', 'meshdepth', 'meshdistance', 'meshdistancebuilder'],\n\t[NodeContext.SOP]: ['animationcopy', 'operationscomposer', 'facet', 'physicsjoints'],\n};\n","// @ts-ignore\n// import {encode} from 'flexsearch/dist/lang/latin/extra.min.js';\nimport {ref, Ref, computed, ComputedRef} from 'vue';\nimport {Document} from 'flexsearch';\nimport {NodeContext} from '../../../@polygonjs/polygonjs/src/engine/poly/NodeContext';\nimport {DocumentPage} from '../documents/DocumentPage';\nimport {DocumentNode} from '../documents/DocumentNode';\nimport {DocumentApi} from '../documents/DocumentApi';\nimport {DocumentExpression} from '../documents/DocumentExpression';\nimport {DOCUMENT_NODES_NOT_FETCHED} from '../documents/DocumentNodeNotFetched';\nimport {DOCS_PAGES, PageData} from '../pages/Pages';\nimport {docsNode, docsExpression, docsRoute} from '../../routes';\nimport {ApiName, API_NAMES, docsApiRoute} from '../api/Common';\nimport {Poly} from '../../../@polygonjs/polygonjs/src/engine/Poly';\nimport {StoreController} from '../../editor/store/controllers/StoreController';\nimport {AppConfig} from '../../config/AppConfig';\nimport {versions} from '../../editor/versions';\nenum SearchField {\n\tTITLE = 'title',\n\tCONTENT = 'content',\n}\ntype PageDataCallback = (pageData: PageData) => void;\nexport interface SearchDocument {\n\tid: number;\n\ttitle: string;\n\tcontent: string;\n\turl: string;\n}\nconst RESULTS_COUNT_LIMIT = 10;\n\nconst IMPORT_KEYS: string[] = [\n\t'reg',\n\t'title.cfg',\n\t'title.map',\n\t'title.ctx',\n\t'content.cfg',\n\t'content.map',\n\t'content.ctx',\n];\nconst DOCUMENTS_BY_ID_KEY = 'documentsbyid';\nconst IMPORT_KEYS_WITH_UNDEFINED: string[] = ['tag', 'store'];\n\ntype ExportCallback = (key: string, content: string) => void;\n\nexport class SearchIndexControllerClass {\n\tprivate static _instance: SearchIndexControllerClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new SearchIndexControllerClass());\n\t}\n\tprivate constructor() {}\n\tprivate _index = new Document({\n\t\t// charset: 'latin:extra',\n\t\tpreset: 'match',\n\t\ttokenize: 'full',\n\t\t// encode: 'extra',\n\t\t// encode: encode,\n\t\tdocument: {\n\t\t\tid: 'id',\n\t\t\tindex: [SearchField.TITLE, SearchField.CONTENT],\n\t\t},\n\t});\n\tprivate _documentById: Map<number, SearchDocument> = new Map();\n\tprivate _indexCreationInProgress: Ref<boolean> = ref(false);\n\tprivate _indexCreated: Ref<boolean> = ref(false);\n\t// private _query = ref('')\n\n\tasync prepareIndex() {\n\t\tif (0) {\n\t\t\tawait this._createIndex_();\n\t\t} else {\n\t\t\tawait this._import();\n\t\t}\n\t}\n\n\tasync _createIndex_() {\n\t\tif (this._indexCreationInProgress.value) {\n\t\t\treturn;\n\t\t}\n\t\tawait AppConfig.register({sceneName: null});\n\t\tthis._indexCreationInProgress.value = true;\n\t\tthis._documentById.clear();\n\t\t// console.log(FlexSearch);\n\t\t// const index = new Index();\n\t\t// const document = new Document({});\n\t\t// const worker = new Worker();\n\n\t\t// index.add(id, text);\n\n\t\tlet id = 0;\n\t\tconst promises: Promise<void>[] = [];\n\n\t\tconst indexExpressionDocument = async (expressionName: string) => {\n\t\t\tconst fetchResult = await DocumentExpression.fetch({expressionName});\n\t\t\tif (!fetchResult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst doc: SearchDocument = {\n\t\t\t\tid: id,\n\t\t\t\ttitle: `${expressionName}`,\n\t\t\t\tcontent: fetchResult.text,\n\t\t\t\turl: docsExpression(expressionName),\n\t\t\t};\n\t\t\tthis._index.add(doc.id, {\n\t\t\t\ttitle: doc.title,\n\t\t\t\tcontent: doc.content,\n\t\t\t});\n\t\t\tthis._documentById.set(id, doc);\n\t\t\tid++;\n\t\t};\n\t\tconst indexNodeDocument = async (context: NodeContext, type: string) => {\n\t\t\tconst fetchResult = await DocumentNode.fetch({context, type});\n\t\t\tif (!fetchResult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst doc: SearchDocument = {\n\t\t\t\tid: id,\n\t\t\t\ttitle: `${context}/${type}`,\n\t\t\t\tcontent: fetchResult.text,\n\t\t\t\turl: docsNode(context, type),\n\t\t\t};\n\t\t\tthis._index.add(doc.id, {\n\t\t\t\ttitle: doc.title,\n\t\t\t\tcontent: doc.content,\n\t\t\t});\n\t\t\tthis._documentById.set(id, doc);\n\t\t\tid++;\n\t\t};\n\t\tconst indexApiDocument = async (apiName: ApiName) => {\n\t\t\tconst fetchResult = await DocumentApi.fetch({apiName});\n\t\t\tif (!fetchResult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst doc: SearchDocument = {\n\t\t\t\tid: id,\n\t\t\t\ttitle: `API / ${apiName}`,\n\t\t\t\tcontent: fetchResult.text,\n\t\t\t\turl: docsApiRoute(apiName),\n\t\t\t};\n\t\t\tthis._index.add(doc.id, {\n\t\t\t\ttitle: doc.title,\n\t\t\t\tcontent: doc.content,\n\t\t\t});\n\t\t\tthis._documentById.set(id, doc);\n\t\t\tid++;\n\t\t};\n\t\tconst indexPageDocument = async (pageData: PageData) => {\n\t\t\tconst fetchResult = await DocumentPage.fetch({route: pageData.route});\n\t\t\tif (!fetchResult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst doc: SearchDocument = {\n\t\t\t\tid: id,\n\t\t\t\ttitle: `${pageData.name}`,\n\t\t\t\tcontent: fetchResult.text,\n\t\t\t\turl: docsRoute(pageData.route),\n\t\t\t};\n\t\t\tthis._index.add(doc.id, {\n\t\t\t\ttitle: doc.title,\n\t\t\t\tcontent: doc.content,\n\t\t\t});\n\t\t\tthis._documentById.set(id, doc);\n\t\t\tid++;\n\t\t};\n\t\tPoly.expressionsRegister.availableMethods().forEach((expressionName) => {\n\t\t\tpromises.push(indexExpressionDocument(expressionName));\n\t\t});\n\t\tPoly.nodesRegister.map().forEach((contextMap, context) => {\n\t\t\tconst notFetched = DOCUMENT_NODES_NOT_FETCHED[context];\n\t\t\tcontextMap.forEach((_, nodeType) => {\n\t\t\t\tif (notFetched.includes(nodeType.toLowerCase())) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tpromises.push(indexNodeDocument(context, nodeType));\n\t\t\t});\n\t\t});\n\t\tfunction traverseDocPage(docPage: PageData, callback: PageDataCallback) {\n\t\t\tcallback(docPage);\n\t\t\tif (docPage.children) {\n\t\t\t\tfor (let child of docPage.children) {\n\t\t\t\t\tcallback(child);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const apiName of API_NAMES) {\n\t\t\tpromises.push(indexApiDocument(apiName));\n\t\t}\n\t\tfor (const docPage of DOCS_PAGES) {\n\t\t\ttraverseDocPage(docPage, (child) => {\n\t\t\t\tpromises.push(indexPageDocument(child));\n\t\t\t});\n\t\t}\n\n\t\tconst indexStartTime = performance.now();\n\t\tawait Promise.all(promises);\n\t\tconst totalTime = performance.now() - indexStartTime;\n\t\tconsole.log(`indexed ${promises.length} documents in ${totalTime.toFixed(4)}ms`);\n\n\t\tthis._indexCreated.value = true;\n\t}\n\texport(callback: ExportCallback) {\n\t\t// store\n\t\t// const storedData: Record<string, unknown> = {};\n\t\tthis._index.export(function (key, data) {\n\t\t\t// console.log(key, (data as any)?.length);\n\t\t\t// console.log(data);\n\t\t\t// storedData[key] = data;\n\t\t\tcallback(`${key}`, data as string);\n\t\t});\n\t\t// make sure to include this._documentById\n\t\tconst documentsById: SearchDocument[] = [];\n\t\tthis._documentById.forEach((doc, id) => {\n\t\t\tconst simplifiedDoc: SearchDocument = {\n\t\t\t\t...doc,\n\t\t\t};\n\t\t\tsimplifiedDoc.content = doc.content.split('\\n')[0];\n\t\t\tdocumentsById[id] = simplifiedDoc;\n\t\t});\n\t\tcallback(DOCUMENTS_BY_ID_KEY, JSON.stringify(documentsById));\n\t\t// console.log(DOCUMENTS_BY_ID_KEY);\n\t\t// console.log(JSON.stringify(documentsById));\n\t}\n\tprivate async _import() {\n\t\tthis._indexCreated.value = false;\n\t\tconst documentById = this._documentById;\n\t\tconst index = this._index;\n\t\tconst timestamp = versions().editor;\n\t\tfunction _url(key: string, ext = 'txt') {\n\t\t\tconst searchIndexElement = document.getElementById('search-index-config');\n\t\t\t// By default, the search index will be fetched from this url.\n\t\t\t// This is the case for:\n\t\t\t// - the local app\n\t\t\t// - the remote app WHEN it is using the last version\n\t\t\t// When it is not using the last version, it will fetch it from s3\n\t\t\tlet urlPrefix = `/editor/docs/search`;\n\t\t\tif (searchIndexElement) {\n\t\t\t\tconsole.log('searchIndexElement.dataset', searchIndexElement.dataset);\n\t\t\t\tconst urlPrefixOverride = searchIndexElement.dataset['indexprefix'];\n\t\t\t\tif (urlPrefixOverride) {\n\t\t\t\t\turlPrefix = urlPrefixOverride;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn `${urlPrefix}/${key}.${ext}?t=${timestamp}`;\n\t\t}\n\t\tasync function fetchKey(key: string) {\n\t\t\tconst response = await fetch(_url(key));\n\t\t\tconst text = await response.text();\n\t\t\tindex.import(key, text);\n\t\t}\n\n\t\tasync function fetchDocumentsById() {\n\t\t\tconst response = await fetch(_url(DOCUMENTS_BY_ID_KEY, 'json'));\n\t\t\tconst json = (await response.json()) as SearchDocument[];\n\t\t\tdocumentById.clear();\n\t\t\tfor (let jsonDoc of json) {\n\t\t\t\tdocumentById.set(jsonDoc.id, jsonDoc);\n\t\t\t}\n\t\t}\n\t\tconst promises: Promise<void>[] = [];\n\t\tfor (const key of IMPORT_KEYS) {\n\t\t\tpromises.push(fetchKey(key));\n\t\t}\n\t\tpromises.push(fetchDocumentsById());\n\t\tconst indexStartTime = performance.now();\n\t\tawait Promise.all(promises);\n\n\t\tfor (const key of IMPORT_KEYS_WITH_UNDEFINED) {\n\t\t\tindex.import(key, undefined);\n\t\t}\n\n\t\tconst totalTime = performance.now() - indexStartTime;\n\t\tconsole.log(`loaded cached index in ${totalTime.toFixed(4)}ms`);\n\t\tthis._indexCreated.value = true;\n\t}\n\tpublic loading = computed(() => this._indexCreated.value == false);\n\tpublic searchResults: ComputedRef<SearchDocument[]> = computed(() => {\n\t\tif (!this._indexCreated.value) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\tconst query = StoreController.editor.docs.searchQuery.value;\n\t\t\treturn this._getRearch(query);\n\t\t}\n\t});\n\tprivate _getRearch(query: string): SearchDocument[] {\n\t\tconst results = this._index.search(query, RESULTS_COUNT_LIMIT);\n\t\tconst ids: number[] = [];\n\n\t\t// 1. check the title results first\n\t\tconst titleResults = results.find((result) => result.field == SearchField.TITLE);\n\t\tif (titleResults) {\n\t\t\tids.push(...(titleResults.result as number[]));\n\t\t}\n\t\t// 2. then check the content results\n\t\tconst contentResults = results.find((result) => result.field == SearchField.CONTENT);\n\t\tif (contentResults) {\n\t\t\tfor (let id of contentResults.result as number[]) {\n\t\t\t\tif (!ids.includes(id) && ids.length < RESULTS_COUNT_LIMIT) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst documents: SearchDocument[] = [];\n\t\tfor (let id of ids) {\n\t\t\tconst doc = this._documentById.get(id);\n\t\t\tif (doc) {\n\t\t\t\tdocuments.push(doc);\n\t\t\t}\n\t\t}\n\t\treturn documents;\n\t}\n}\nexport const SearchIndexController = SearchIndexControllerClass.instance();\n","/**!\r\n * FlexSearch.js v0.7.21 (Bundle)\r\n * Copyright 2018-2021 Nextapps GmbH\r\n * Author: Thomas Wilkerling\r\n * Licence: Apache-2.0\r\n * https://github.com/nextapps-de/flexsearch\r\n */\n(function _f(self){'use strict';try{if(module)self=module}catch(e){}self._factory=_f;var t;function u(a){return\"undefined\"!==typeof a?a:!0}function aa(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=v();return b}function v(){return Object.create(null)}function ba(a,b){return b.length-a.length}function x(a){return\"string\"===typeof a}function C(a){return\"object\"===typeof a}function D(a){return\"function\"===typeof a};function ca(a,b){var c=da;if(a&&(b&&(a=E(a,b)),this.H&&(a=E(a,this.H)),this.J&&1<a.length&&(a=E(a,this.J)),c||\"\"===c)){a=a.split(c);if(this.filter){b=this.filter;c=a.length;const d=[];for(let e=0,f=0;e<c;e++){const g=a[e];g&&!b[g]&&(d[f++]=g)}a=d}return a}return a}const da=/[\\p{Z}\\p{S}\\p{P}\\p{C}]+/u,ea=/[\\u0300-\\u036f]/g;\nfunction fa(a,b){const c=Object.keys(a),d=c.length,e=[];let f=\"\",g=0;for(let h=0,k,m;h<d;h++)k=c[h],(m=a[k])?(e[g++]=F(b?\"(?!\\\\b)\"+k+\"(\\\\b|_)\":k),e[g++]=m):f+=(f?\"|\":\"\")+k;f&&(e[g++]=F(b?\"(?!\\\\b)(\"+f+\")(\\\\b|_)\":\"(\"+f+\")\"),e[g]=\"\");return e}function E(a,b){for(let c=0,d=b.length;c<d&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a}function F(a){return new RegExp(a,\"g\")}function ha(a){let b=\"\",c=\"\";for(let d=0,e=a.length,f;d<e;d++)(f=a[d])!==c&&(b+=c=f);return b};var ja={encode:ia,F:!1,G:\"\"};function ia(a){return ca.call(this,(\"\"+a).toLowerCase(),!1)};const ka={},G={};function la(a){I(a,\"add\");I(a,\"append\");I(a,\"search\");I(a,\"update\");I(a,\"remove\")}function I(a,b){a[b+\"Async\"]=function(){const c=this,d=arguments;var e=d[d.length-1];let f;D(e)&&(f=e,delete d[d.length-1]);e=new Promise(function(g){setTimeout(function(){c.async=!0;const h=c[b].apply(c,d);c.async=!1;g(h)})});return f?(e.then(f),this):e}};function ma(a,b,c,d){const e=a.length;let f=[],g,h,k=0;d&&(d=[]);for(let m=e-1;0<=m;m--){const n=a[m],w=n.length,q=v();let r=!g;for(let l=0;l<w;l++){const p=n[l],z=p.length;if(z)for(let B=0,A,y;B<z;B++)if(y=p[B],g){if(g[y]){if(!m)if(c)c--;else if(f[k++]=y,k===b)return f;if(m||d)q[y]=1;r=!0}if(d&&(h[y]=(A=h[y])?++A:A=1,A<e)){const H=d[A-2]||(d[A-2]=[]);H[H.length]=y}}else q[y]=1}if(d)g||(h=q);else if(!r)return[];g=q}if(d)for(let m=d.length-1,n,w;0<=m;m--){n=d[m];w=n.length;for(let q=0,r;q<w;q++)if(r=\nn[q],!g[r]){if(c)c--;else if(f[k++]=r,k===b)return f;g[r]=1}}return f}function na(a,b){const c=v(),d=v(),e=[];for(let f=0;f<a.length;f++)c[a[f]]=1;for(let f=0,g;f<b.length;f++){g=b[f];for(let h=0,k;h<g.length;h++)k=g[h],c[k]&&!d[k]&&(d[k]=1,e[e.length]=k)}return e};function J(a){this.l=!0!==a&&a;this.cache=v();this.h=[]}function oa(a,b,c){C(a)&&(a=a.query);let d=this.cache.get(a);d||(d=this.search(a,b,c),this.cache.set(a,d));return d}J.prototype.set=function(a,b){if(!this.cache[a]){var c=this.h.length;c===this.l?delete this.cache[this.h[c-1]]:c++;for(--c;0<c;c--)this.h[c]=this.h[c-1];this.h[0]=a}this.cache[a]=b};J.prototype.get=function(a){const b=this.cache[a];if(this.l&&b&&(a=this.h.indexOf(a))){const c=this.h[a-1];this.h[a-1]=this.h[a];this.h[a]=c}return b};const qa={memory:{charset:\"latin:extra\",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:\"latin:extra\",G:\"reverse\"},score:{charset:\"latin:advanced\",D:20,B:3,context:{depth:3,D:9}},\"default\":{}};function ra(a,b,c,d,e,f){setTimeout(function(){const g=a(c,JSON.stringify(f));g&&g.then?g.then(function(){b.export(a,b,c,d,e+1)}):b.export(a,b,c,d,e+1)})};function K(a,b){if(!(this instanceof K))return new K(a);var c;if(a){x(a)?a=qa[a]:(c=a.preset)&&(a=Object.assign({},c[c],a));c=a.charset;var d=a.lang;x(c)&&(-1===c.indexOf(\":\")&&(c+=\":default\"),c=G[c]);x(d)&&(d=ka[d])}else a={};let e,f,g=a.context||{};this.encode=a.encode||c&&c.encode||ia;this.register=b||v();this.D=e=a.resolution||9;this.G=b=c&&c.G||a.tokenize||\"strict\";this.depth=\"strict\"===b&&g.depth;this.l=u(g.bidirectional);this.s=f=u(a.optimize);this.m=u(a.fastupdate);this.B=a.minlength||1;this.C=\na.boost;this.map=f?aa(e):v();this.A=e=g.resolution||1;this.h=f?aa(e):v();this.F=c&&c.F||a.rtl;this.H=(b=a.matcher||d&&d.H)&&fa(b,!1);this.J=(b=a.stemmer||d&&d.J)&&fa(b,!0);if(c=b=a.filter||d&&d.filter){c=b;d=v();for(let h=0,k=c.length;h<k;h++)d[c[h]]=1;c=d}this.filter=c;this.cache=(b=a.cache)&&new J(b)}t=K.prototype;t.append=function(a,b){return this.add(a,b,!0)};\nt.add=function(a,b,c,d){if(b&&(a||0===a)){if(!d&&!c&&this.register[a])return this.update(a,b);b=this.encode(b);if(d=b.length){const m=v(),n=v(),w=this.depth,q=this.D;for(let r=0;r<d;r++){let l=b[this.F?d-1-r:r];var e=l.length;if(l&&e>=this.B&&(w||!n[l])){var f=L(q,d,r),g=\"\";switch(this.G){case \"full\":if(3<e){for(f=0;f<e;f++)for(var h=e;h>f;h--)if(h-f>=this.B){var k=L(q,d,r,e,f);g=l.substring(f,h);M(this,n,g,k,a,c)}break}case \"reverse\":if(2<e){for(h=e-1;0<h;h--)g=l[h]+g,g.length>=this.B&&M(this,n,\ng,L(q,d,r,e,h),a,c);g=\"\"}case \"forward\":if(1<e){for(h=0;h<e;h++)g+=l[h],g.length>=this.B&&M(this,n,g,f,a,c);break}default:if(this.C&&(f=Math.min(f/this.C(b,l,r)|0,q-1)),M(this,n,l,f,a,c),w&&1<d&&r<d-1)for(e=v(),g=this.A,f=l,h=Math.min(w+1,d-r),e[f]=1,k=1;k<h;k++)if((l=b[this.F?d-1-r-k:r+k])&&l.length>=this.B&&!e[l]){e[l]=1;const p=this.l&&l>f;M(this,m,p?f:l,L(g+(d/2>g?0:1),d,r,h-1,k-1),a,c,p?l:f)}}}}this.m||(this.register[a]=1)}}return this};\nfunction L(a,b,c,d,e){return c&&1<a?b+(d||0)<=a?c+(e||0):(a-1)/(b+(d||0))*(c+(e||0))+1|0:0}function M(a,b,c,d,e,f,g){let h=g?a.h:a.map;if(!b[c]||g&&!b[c][g])a.s&&(h=h[d]),g?(b=b[c]||(b[c]=v()),b[g]=1,h=h[g]||(h[g]=v())):b[c]=1,h=h[c]||(h[c]=[]),a.s||(h=h[d]||(h[d]=[])),f&&-1!==h.indexOf(e)||(h[h.length]=e,a.m&&(a=a.register[e]||(a.register[e]=[]),a[a.length]=h))}\nt.search=function(a,b,c){c||(!b&&C(a)?(c=a,a=c.query):C(b)&&(c=b));let d=[],e;let f,g=0;if(c){b=c.limit;g=c.offset||0;var h=c.context;f=c.suggest}if(a&&(a=this.encode(a),e=a.length,1<e)){c=v();var k=[];for(let n=0,w=0,q;n<e;n++)if((q=a[n])&&q.length>=this.B&&!c[q])if(this.s||f||this.map[q])k[w++]=q,c[q]=1;else return d;a=k;e=a.length}if(!e)return d;b||(b=100);h=this.depth&&1<e&&!1!==h;c=0;let m;h?(m=a[0],c=1):1<e&&a.sort(ba);for(let n,w;c<e;c++){w=a[c];h?(n=sa(this,d,f,b,g,2===e,w,m),f&&!1===n&&d.length||\n(m=w)):n=sa(this,d,f,b,g,1===e,w);if(n)return n;if(f&&c===e-1){k=d.length;if(!k){if(h){h=0;c=-1;continue}return d}if(1===k)return ta(d[0],b,g)}}return ma(d,b,g,f)};\nfunction sa(a,b,c,d,e,f,g,h){let k=[],m=h?a.h:a.map;a.s||(m=ua(m,g,h,a.l));if(m){let n=0;const w=Math.min(m.length,h?a.A:a.D);for(let q=0,r=0,l,p;q<w;q++)if(l=m[q])if(a.s&&(l=ua(l,g,h,a.l)),e&&l&&f&&(p=l.length,p<=e?(e-=p,l=null):(l=l.slice(e),e=0)),l&&(k[n++]=l,f&&(r+=l.length,r>=d)))break;if(n){if(f)return ta(k,d,0);b[b.length]=k;return}}return!c&&k}function ta(a,b,c){a=1===a.length?a[0]:[].concat.apply([],a);return c||a.length>b?a.slice(c,c+b):a}\nfunction ua(a,b,c,d){c?(d=d&&b>c,a=(a=a[d?b:c])&&a[d?c:b]):a=a[b];return a}t.contain=function(a){return!!this.register[a]};t.update=function(a,b){return this.remove(a).add(a,b)};\nt.remove=function(a,b){const c=this.register[a];if(c){if(this.m)for(let d=0,e;d<c.length;d++)e=c[d],e.splice(e.indexOf(a),1);else N(this.map,a,this.D,this.s),this.depth&&N(this.h,a,this.A,this.s);b||delete this.register[a];if(this.cache){b=this.cache;for(let d=0,e,f;d<b.h.length;d++)f=b.h[d],e=b.cache[f],-1!==e.indexOf(a)&&(b.h.splice(d--,1),delete b.cache[f])}}return this};\nfunction N(a,b,c,d,e){let f=0;if(a.constructor===Array)if(e)b=a.indexOf(b),-1!==b?1<a.length&&(a.splice(b,1),f++):f++;else{e=Math.min(a.length,c);for(let g=0,h;g<e;g++)if(h=a[g])f=N(h,b,c,d,e),d||f||delete a[g]}else for(let g in a)(f=N(a[g],b,c,d,e))||delete a[g];return f}t.searchCache=oa;\nt.export=function(a,b,c,d,e){let f,g;switch(e||(e=0)){case 0:f=\"reg\";if(this.m){g=v();for(let h in this.register)g[h]=1}else g=this.register;break;case 1:f=\"cfg\";g={doc:0,opt:this.s?1:0};break;case 2:f=\"map\";g=this.map;break;case 3:f=\"ctx\";g=this.h;break;default:return}ra(a,b||this,c?c+\".\"+f:f,d,e,g);return!0};t.import=function(a,b){if(b)switch(x(b)&&(b=JSON.parse(b)),a){case \"cfg\":this.s=!!b.opt;break;case \"reg\":this.m=!1;this.register=b;break;case \"map\":this.map=b;break;case \"ctx\":this.h=b}};la(K.prototype);function va(a){a=a.data;var b=self._index;const c=a.args;var d=a.task;switch(d){case \"init\":d=a.options||{};a=a.factory;b=d.encode;d.cache=!1;b&&0===b.indexOf(\"function\")&&(d.encode=Function(\"return \"+b)());a?(Function(\"return \"+a)()(self),self._index=new self.FlexSearch.Index(d),delete self.FlexSearch):self._index=new K(d);break;default:a=a.id,b=b[d].apply(b,c),postMessage(\"search\"===d?{id:a,msg:b}:{id:a})}};let wa=0;function O(a){if(!(this instanceof O))return new O(a);var b;a?D(b=a.encode)&&(a.encode=b.toString()):a={};(b=(self||window)._factory)&&(b=b.toString());const c=self.exports,d=this;this.o=xa(b,c,a.worker);this.h=v();if(this.o){if(c)this.o.on(\"message\",function(e){d.h[e.id](e.msg);delete d.h[e.id]});else this.o.onmessage=function(e){e=e.data;d.h[e.id](e.msg);delete d.h[e.id]};this.o.postMessage({task:\"init\",factory:b,options:a})}}P(\"add\");P(\"append\");P(\"search\");P(\"update\");P(\"remove\");\nfunction P(a){O.prototype[a]=O.prototype[a+\"Async\"]=function(){const b=this,c=[].slice.call(arguments);var d=c[c.length-1];let e;D(d)&&(e=d,c.splice(c.length-1,1));d=new Promise(function(f){setTimeout(function(){b.h[++wa]=f;b.o.postMessage({task:a,id:wa,args:c})})});return e?(d.then(e),this):d}}\nfunction xa(a,b,c){let d;try{d=b?eval('new (require(\"worker_threads\")[\"Worker\"])(\"../dist/node/node.js\")'):a?new Worker(URL.createObjectURL(new Blob([\"onmessage=\"+va.toString()],{type:\"text/javascript\"}))):new Worker(x(c)?c:\"worker/worker.js\",{type:\"module\"})}catch(e){}return d};function Q(a){if(!(this instanceof Q))return new Q(a);var b=a.document||a.doc||a,c;this.K=[];this.h=[];this.A=[];this.register=v();this.key=(c=b.key||b.id)&&S(c,this.A)||\"id\";this.m=u(a.fastupdate);this.C=(c=b.store)&&!0!==c&&[];this.store=c&&v();this.I=(c=b.tag)&&S(c,this.A);this.l=c&&v();this.cache=(c=a.cache)&&new J(c);a.cache=!1;this.o=a.worker;this.async=!1;c=v();let d=b.index||b.field||b;x(d)&&(d=[d]);for(let e=0,f,g;e<d.length;e++)f=d[e],x(f)||(g=f,f=f.field),g=C(g)?Object.assign({},a,g):a,\nthis.o&&(c[f]=new O(g),c[f].o||(this.o=!1)),this.o||(c[f]=new K(g,this.register)),this.K[e]=S(f,this.A),this.h[e]=f;if(this.C)for(a=b.store,x(a)&&(a=[a]),b=0;b<a.length;b++)this.C[b]=S(a[b],this.A);this.index=c}function S(a,b){const c=a.split(\":\");let d=0;for(let e=0;e<c.length;e++)a=c[e],0<=a.indexOf(\"[]\")&&(a=a.substring(0,a.length-2))&&(b[d]=!0),a&&(c[d++]=a);d<c.length&&(c.length=d);return 1<d?c:c[0]}function T(a,b){if(x(b))a=a[b];else for(let c=0;a&&c<b.length;c++)a=a[b[c]];return a}\nfunction U(a,b,c,d,e){a=a[e];if(d===c.length-1)b[e]=a;else if(a)if(a.constructor===Array)for(b=b[e]=Array(a.length),e=0;e<a.length;e++)U(a,b,c,d,e);else b=b[e]||(b[e]=v()),e=c[++d],U(a,b,c,d,e)}function V(a,b,c,d,e,f,g,h){if(a=a[g])if(d===b.length-1){if(a.constructor===Array){if(c[d]){for(b=0;b<a.length;b++)e.add(f,a[b],!0,!0);return}a=a.join(\" \")}e.add(f,a,h,!0)}else if(a.constructor===Array)for(g=0;g<a.length;g++)V(a,b,c,d,e,f,g,h);else g=b[++d],V(a,b,c,d,e,f,g,h)}t=Q.prototype;\nt.add=function(a,b,c){C(a)&&(b=a,a=T(b,this.key));if(b&&(a||0===a)){if(!c&&this.register[a])return this.update(a,b);for(let d=0,e,f;d<this.h.length;d++)f=this.h[d],e=this.K[d],x(e)&&(e=[e]),V(b,e,this.A,0,this.index[f],a,e[0],c);if(this.I){let d=T(b,this.I),e=v();x(d)&&(d=[d]);for(let f=0,g,h;f<d.length;f++)if(g=d[f],!e[g]&&(e[g]=1,h=this.l[g]||(this.l[g]=[]),!c||-1===h.indexOf(a)))if(h[h.length]=a,this.m){const k=this.register[a]||(this.register[a]=[]);k[k.length]=h}}if(this.store&&(!c||!this.store[a])){let d;\nif(this.C){d=v();for(let e=0,f;e<this.C.length;e++)f=this.C[e],x(f)?d[f]=b[f]:U(b,d,f,0,f[0])}this.store[a]=d||b}}return this};t.append=function(a,b){return this.add(a,b,!0)};t.update=function(a,b){return this.remove(a).add(a,b)};\nt.remove=function(a){C(a)&&(a=T(a,this.key));if(this.register[a]){for(var b=0;b<this.h.length&&(this.index[this.h[b]].remove(a,!this.o),!this.m);b++);if(this.I&&!this.m)for(let c in this.l){b=this.l[c];const d=b.indexOf(a);-1!==d&&(1<b.length?b.splice(d,1):delete this.l[c])}this.store&&delete this.store[a];delete this.register[a]}return this};\nt.search=function(a,b,c,d){c||(!b&&C(a)?(c=a,a=c.query):C(b)&&(c=b,b=0));let e=[],f=[],g,h,k,m,n,w,q=0;if(c)if(c.constructor===Array)k=c,c=null;else{k=(g=c.pluck)||c.index||c.field;m=c.tag;h=this.store&&c.enrich;n=\"and\"===c.bool;b=c.limit||100;w=c.offset||0;if(m&&(x(m)&&(m=[m]),!a)){for(let l=0,p;l<m.length;l++)if(p=ya.call(this,m[l],b,w,h))e[e.length]=p,q++;return q?e:[]}x(k)&&(k=[k])}k||(k=this.h);n=n&&(1<k.length||m&&1<m.length);const r=!d&&(this.o||this.async)&&[];for(let l=0,p,z,B;l<k.length;l++){let A;\nz=k[l];x(z)||(A=z,z=z.field);if(r)r[l]=this.index[z].searchAsync(a,b,A||c);else{d?p=d[l]:p=this.index[z].search(a,b,A||c);B=p&&p.length;if(m&&B){const y=[];let H=0;n&&(y[0]=[p]);for(let X=0,pa,R;X<m.length;X++)if(pa=m[X],B=(R=this.l[pa])&&R.length)H++,y[y.length]=n?[R]:R;H&&(p=n?ma(y,b||100,w||0):na(p,y),B=p.length)}if(B)f[q]=z,e[q++]=p;else if(n)return[]}}if(r){const l=this;return new Promise(function(p){Promise.all(r).then(function(z){p(l.search(a,b,c,z))})})}if(!q)return[];if(g&&(!h||!this.store))return e[0];\nfor(let l=0,p;l<f.length;l++){p=e[l];p.length&&h&&(p=za.call(this,p));if(g)return p;e[l]={field:f[l],result:p}}return e};function ya(a,b,c,d){let e=this.l[a],f=e&&e.length-c;if(f&&0<f){if(f>b||c)e=e.slice(c,c+b);d&&(e=za.call(this,e));return{tag:a,result:e}}}function za(a){const b=Array(a.length);for(let c=0,d;c<a.length;c++)d=a[c],b[c]={id:d,doc:this.store[d]};return b}t.contain=function(a){return!!this.register[a]};t.get=function(a){return this.store[a]};t.set=function(a,b){this.store[a]=b;return this};\nt.searchCache=oa;t.export=function(a,b,c,d,e){e||(e=0);d||(d=0);if(d<this.h.length){const f=this.h[d],g=this.index[f];b=this;setTimeout(function(){g.export(a,b,e?f.replace(\":\",\"-\"):\"\",d,e++)||(d++,e=1,b.export(a,b,f,d,e))})}else{let f;switch(e){case 1:c=\"tag\";f=this.l;break;case 2:c=\"store\";f=this.store;break;default:return}ra(a,this,c,d,e,f)}};\nt.import=function(a,b){if(b)switch(x(b)&&(b=JSON.parse(b)),a){case \"tag\":this.l=b;break;case \"reg\":this.m=!1;this.register=b;for(let d=0,e;d<this.h.length;d++)e=this.index[this.h[d]],e.register=b,e.m=!1;break;case \"store\":this.store=b;break;default:a=a.split(\".\");const c=a[0];a=a[1];c&&a&&this.index[c].import(a,b)}};la(Q.prototype);var Ba={encode:Aa,F:!1,G:\"\"};const Ca=[F(\"[\\u00e0\\u00e1\\u00e2\\u00e3\\u00e4\\u00e5]\"),\"a\",F(\"[\\u00e8\\u00e9\\u00ea\\u00eb]\"),\"e\",F(\"[\\u00ec\\u00ed\\u00ee\\u00ef]\"),\"i\",F(\"[\\u00f2\\u00f3\\u00f4\\u00f5\\u00f6\\u0151]\"),\"o\",F(\"[\\u00f9\\u00fa\\u00fb\\u00fc\\u0171]\"),\"u\",F(\"[\\u00fd\\u0177\\u00ff]\"),\"y\",F(\"\\u00f1\"),\"n\",F(\"[\\u00e7c]\"),\"k\",F(\"\\u00df\"),\"s\",F(\" & \"),\" and \"];function Aa(a){var b=a;b.normalize&&(b=b.normalize(\"NFD\").replace(ea,\"\"));return ca.call(this,b.toLowerCase(),!a.normalize&&Ca)};var Ea={encode:Da,F:!1,G:\"strict\"};const Fa=/[^a-z0-9]+/,Ga={b:\"p\",v:\"f\",w:\"f\",z:\"s\",x:\"s\",\"\\u00df\":\"s\",d:\"t\",n:\"m\",c:\"k\",g:\"k\",j:\"k\",q:\"k\",i:\"e\",y:\"e\",u:\"o\"};function Da(a){a=Aa.call(this,a).join(\" \");const b=[];if(a){const c=a.split(Fa),d=c.length;for(let e=0,f,g=0;e<d;e++)if((a=c[e])&&(!this.filter||!this.filter[a])){f=a[0];let h=Ga[f]||f,k=h;for(let m=1;m<a.length;m++){f=a[m];const n=Ga[f]||f;n&&n!==k&&(h+=n,k=n)}b[g++]=h}}return b};var Ia={encode:Ha,F:!1,G:\"\"};const Ja=[F(\"ae\"),\"a\",F(\"oe\"),\"o\",F(\"sh\"),\"s\",F(\"th\"),\"t\",F(\"ph\"),\"f\",F(\"pf\"),\"f\",F(\"(?![aeo])h(?![aeo])\"),\"\",F(\"(?!^[aeo])h(?!^[aeo])\"),\"\"];function Ha(a,b){a&&(a=Da.call(this,a).join(\" \"),2<a.length&&(a=E(a,Ja)),b||(1<a.length&&(a=ha(a)),a&&(a=a.split(\" \"))));return a};var La={encode:Ka,F:!1,G:\"\"};const Ma=F(\"(?!\\\\b)[aeo]\");function Ka(a){a&&(a=Ha.call(this,a,!0),1<a.length&&(a=a.replace(Ma,\"\")),1<a.length&&(a=ha(a)),a&&(a=a.split(\" \")));return a};G[\"latin:default\"]=ja;G[\"latin:simple\"]=Ba;G[\"latin:balance\"]=Ea;G[\"latin:advanced\"]=Ia;G[\"latin:extra\"]=La;const W=self;let Y;const Z={Index:K,Document:Q,Worker:O,registerCharset:function(a,b){G[a]=b},registerLanguage:function(a,b){ka[a]=b}};(Y=W.define)&&Y.amd?Y([],function(){return Z}):W.exports?W.exports=Z:W.FlexSearch=Z;}(this));\n"],"names":["SearchField"],"sourceRoot":""}