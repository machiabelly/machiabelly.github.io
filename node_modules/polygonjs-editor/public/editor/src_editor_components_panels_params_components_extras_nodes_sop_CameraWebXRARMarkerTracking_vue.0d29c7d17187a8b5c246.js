(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_editor_components_panels_params_components_extras_nodes_sop_CameraWebXRARMarkerTracking_vue"],{

/***/ 71492:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = __webpack_require__(61043)

module.exports = function render(_ctx, _cache) {
  return (_openBlock(), _createElementBlock("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    "aria-hidden": "true"
  }, [
    _createElementVNode("path", {
      "fill-rule": "evenodd",
      d: "M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z",
      "clip-rule": "evenodd"
    })
  ]))
}

/***/ }),

/***/ 31967:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = __webpack_require__(61043)

module.exports = function render(_ctx, _cache) {
  return (_openBlock(), _createElementBlock("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    "aria-hidden": "true"
  }, [
    _createElementVNode("path", { d: "M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" })
  ]))
}

/***/ }),

/***/ 39445:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ CameraWebXRARMarkerTracking; }
});

// EXTERNAL MODULE: ../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js
var runtime_core_esm_bundler = __webpack_require__(88917);
// EXTERNAL MODULE: ../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.js
var shared_esm_bundler = __webpack_require__(13053);
;// CONCATENATED MODULE: ../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!../src/editor/components/panels/params/components/extras/nodes/sop/CameraWebXRARMarkerTracking.vue?vue&type=template&id=6aab2d0e&ts=true

const _hoisted_1 = { class: "w-full text-center text-xs pb-16" };
const _hoisted_2 = { key: 0 };
const _hoisted_3 = { class: "mb-1" };
const _hoisted_4 = /* @__PURE__ */ (0,runtime_core_esm_bundler/* createElementVNode */._)(
  "span",
  null,
  "or",
  -1
  /* HOISTED */
);
const _hoisted_5 = ["href"];
const _hoisted_6 = ["src"];
const _hoisted_7 = { key: 1 };
function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", _hoisted_1, [
    (0,runtime_core_esm_bundler/* createCommentVNode */.kq)(' <div class="w-full text-right mb-2">\n			<button\n				type="button"\n				class="relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-1 py-1 text-xs font-medium text-gray-500 hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 cursor-pointer"\n				id="sop-camera-webxrar-marker-tracking-value-decrement"\n				@click="decrementBarCodeValue"\n			>\n				<span class="sr-only">Decrement Bar Code Value</span>\n				<MinusIcon class="h-5 w-5" aria-hidden="true" />\n			</button>\n			<button\n				type="button"\n				class="relative -ml-px inline-flex items-center rounded-r-md border border-gray-300 bg-white px-1 py-1 text-xs font-medium text-gray-500 hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 cursor-pointer"\n				id="sop-camera-webxrar-marker-tracking-value-increment"\n				@click="incrementBarCodeValue"\n			>\n				<span class="sr-only">Increment Bar Code Value</span>\n				<PlusIcon class="h-5 w-5" aria-hidden="true" />\n			</button>\n		</div> '),
    _ctx.isValueValid ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", _hoisted_2, [
      (0,runtime_core_esm_bundler/* createElementVNode */._)("div", _hoisted_3, [
        (0,runtime_core_esm_bundler/* createElementVNode */._)("span", {
          onClick: _cache[0] || (_cache[0] = //@ts-ignore
          (...args) => _ctx.printImage && _ctx.printImage(...args)),
          class: "inline-block cursor-pointer px-2 py-2 text-indigo-300 hover:text-indigo-500"
        }, "Print"),
        _hoisted_4,
        (0,runtime_core_esm_bundler/* createElementVNode */._)("a", {
          href: _ctx.imageUrl,
          target: "_blank",
          class: "inline-block cursor-pointer px-2 py-2 text-indigo-300 hover:text-indigo-500"
        }, "Open barcode in separate tab", 8, _hoisted_5)
      ]),
      (0,runtime_core_esm_bundler/* createElementVNode */._)("img", {
        class: "w-64 mx-auto border-4 border-sky-500",
        src: _ctx.imageUrl
      }, null, 8, _hoisted_6)
    ])) : ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", _hoisted_7, [
      (0,runtime_core_esm_bundler/* createElementVNode */._)(
        "div",
        null,
        "max value for type '" + (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.barCodeType) + "' is " + (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.maxValue),
        1
        /* TEXT */
      )
    ]))
  ]);
}

;// CONCATENATED MODULE: ../src/editor/components/panels/params/components/extras/nodes/sop/CameraWebXRARMarkerTracking.vue?vue&type=template&id=6aab2d0e&ts=true

// EXTERNAL MODULE: ../@polygonjs/polygonjs/src/core/Type.ts
var Type = __webpack_require__(19037);
// EXTERNAL MODULE: ../@polygonjs/polygonjs/src/engine/Poly.ts + 21 modules
var Poly = __webpack_require__(99934);
// EXTERNAL MODULE: ../src/editor/store/controllers/StoreController.ts + 44 modules
var StoreController = __webpack_require__(72555);
// EXTERNAL MODULE: ../node_modules/@heroicons/vue/20/solid/PlusIcon.js
var PlusIcon = __webpack_require__(31967);
// EXTERNAL MODULE: ../node_modules/@heroicons/vue/20/solid/MinusIcon.js
var MinusIcon = __webpack_require__(71492);
;// CONCATENATED MODULE: ../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!../src/editor/components/panels/params/components/extras/nodes/sop/CameraWebXRARMarkerTracking.vue?vue&type=script&lang=ts





/* harmony default export */ var CameraWebXRARMarkerTrackingvue_type_script_lang_ts = ((0,runtime_core_esm_bundler/* defineComponent */.aZ)({
  name: "extras-nodes-sop-cameraWebXRARTrackMarker",
  components: { PlusIcon: PlusIcon, MinusIcon: MinusIcon },
  props: {
    nodeId: {
      type: Number,
      default: null
    }
  },
  setup(props) {
    const node = StoreController/* StoreController.engine.node */.F.engine.node(props.nodeId);
    if (!node) {
      console.warn("null: no node found");
    }
    const jsonNode = (0,runtime_core_esm_bundler/* computed */.Fl)(() => StoreController/* StoreController.engine.json_node */.F.engine.json_node(props.nodeId));
    const paramIds = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      var _a;
      return ((_a = jsonNode.value) == null ? void 0 : _a.param_ids) || [];
    });
    const jsonParams = (0,runtime_core_esm_bundler/* computed */.Fl)(() => paramIds.value.map((id) => StoreController/* StoreController.engine.json_param */.F.engine.json_param(id)));
    const barCodeType = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      const paramValue = jsonParams.value.find((jsonParam) => (jsonParam == null ? void 0 : jsonParam.name) == node.p.barCodeType.name());
      if (paramValue && Type/* CoreType.isString */.MR.isString(paramValue.value)) {
        return paramValue.value;
      }
      return "";
    });
    const barCodeValue = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      const paramValue = jsonParams.value.find((jsonParam) => (jsonParam == null ? void 0 : jsonParam.name) == node.p.barCodeValue.name());
      if (paramValue && Type/* CoreType.isNumber */.MR.isNumber(paramValue.value)) {
        return paramValue.value;
      }
      return 0;
    });
    const maxValue = (0,runtime_core_esm_bundler/* computed */.Fl)(
      () => {
        var _a;
        return ((_a = Poly/* Poly.thirdParty.markerTracking */.L.thirdParty.markerTracking().config()) == null ? void 0 : _a.barCodes.valuesCountByType[barCodeType.value]) || 0;
      }
    );
    const isValueValid = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      return barCodeValue.value < maxValue.value;
    });
    const imageUrl = (0,runtime_core_esm_bundler/* computed */.Fl)(() => {
      return Poly/* Poly.thirdParty.markerTracking */.L.thirdParty.markerTracking().barCodeUrl(barCodeType.value, barCodeValue.value) || "";
    });
    function printImage() {
      function ImagetoPrint(source) {
        return "<html><head><script>function step1(){\nsetTimeout('step2()', 10);}\nfunction step2(){window.print();window.close()}\n<\/script></head><body onload='step1()'>\n<img src='" + source + "' /></body></html>";
      }
      function _printImage(source) {
        const Pagelink = "about:blank";
        const pwa = window.open(Pagelink, "_new");
        if (!pwa) {
          return;
        }
        pwa.document.open();
        pwa.document.write(ImagetoPrint(source));
        pwa.document.close();
      }
      _printImage(imageUrl.value);
    }
    return {
      imageUrl,
      printImage,
      isValueValid,
      maxValue,
      barCodeType
      // decrementBarCodeValue,
      // incrementBarCodeValue,
    };
  }
}));

;// CONCATENATED MODULE: ../src/editor/components/panels/params/components/extras/nodes/sop/CameraWebXRARMarkerTracking.vue?vue&type=script&lang=ts
 
// EXTERNAL MODULE: ../node_modules/vue-loader/dist/exportHelper.js
var exportHelper = __webpack_require__(6959);
;// CONCATENATED MODULE: ../src/editor/components/panels/params/components/extras/nodes/sop/CameraWebXRARMarkerTracking.vue




;
const __exports__ = /*#__PURE__*/(0,exportHelper/* default */.Z)(CameraWebXRARMarkerTrackingvue_type_script_lang_ts, [['render',render]])

/* harmony default export */ var CameraWebXRARMarkerTracking = (__exports__);

/***/ })

}])
//# sourceMappingURL=src_editor_components_panels_params_components_extras_nodes_sop_CameraWebXRARMarkerTracking_vue.0d29c7d17187a8b5c246.js.map