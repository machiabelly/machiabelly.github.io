{"version":3,"file":"vendors-_polygonjs_polygonjs_node_modules_mediapipe_face_mesh_face_mesh_js-_polygonjs_polygon-90d1be.b53bff3cecc4e2f842cf.js","mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACvHiE;AACV;AACS;AACxB;AACO;AAC/C;AACA;AACA;AACA;AACO,kBAAkB,0DAAS;AAClC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0EAAQ;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kEAAM,4FAA4F,UAAU;AACpH;AACA;AACA;AACA;;;;;;;;;;;;;;;AChEuD;AACS;AACxB;AACK;AACP;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,0DAAS;AACpC;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C,wDAAwD,wDAAQ;AAChE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6BAA6B,kFAAqB;AAClD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gEAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0EAAQ;AAC1D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzFiE;AACD;AAC1B;AACtC;AACA;AACA;AACO,wBAAwB,gFAAa;AAC5C;AACA,cAAc,mFAAoB;AAClC;AACA,wDAAwD,wDAAQ;AAChE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBgE;AACxB;AACxC;AACA;AACA;AACA;AACO,uBAAuB,0DAAS;AACvC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA,6BAA6B,kFAAqB;AAClD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCkD;AACR;AAC1C;AACA;AACA;AACA;AACA;AACO,0BAA0B,oCAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAAU;AACnC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpC+C;AAC2B;AACV;AACX;AACE;AACV;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,wBAAwB,mCAAa;AAC5C;AACA,4BAA4B,yCAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,GAAG,uBAAuB;AAC7D;AACA;AACA;AACA,qBAAqB,gBAAI;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,gBAAI;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,0BAA0B,gBAAI,GAAG,uBAAuB;AACxD;AACA,wBAAwB,yCAAoB;AAC5C,wBAAwB,oBAAM;AAC9B;AACA;AACA;AACA,SAAS;AACT,QAAQ,8BAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,iCAAO;AACf,QAAQ,iCAAO;AACf;AACA;AACA;AACA;AACA;AACA,6BAA6B,2DAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzGiE;AACD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,gFAAa;AACxC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/BiD;AACgB;AACD;AAC3B;AACrC;AACA;AACA;AACA;AACO,uBAAuB,gFAAa;AAC3C;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+DAAK;AAClC;AACA;AACA;AACA,SAAS;AACT,6BAA6B,+DAAK;AAClC;AACA;AACA;AACA,SAAS;AACT,6BAA6B,+DAAK;AAClC;AACA;AACA;AACA,SAAS;AACT,gCAAgC,+DAAK;AACrC;AACA;AACA;AACA,SAAS;AACT,gCAAgC,+DAAK;AACrC;AACA;AACA;AACA,SAAS;AACT,gCAAgC,+DAAK;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChLiE;AACD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,gFAAa;AACxC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7B+C;AACiB;AAC1B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,gCAAgC,wDAAQ;AAC/C;AACA,cAAc,mFAAoB;AAClC;AACA,6BAA6B,6DAAI;AACjC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AChD8C;AACmB;AACD;AACQ;AACZ;AACO;AACpB;AACc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;AACO,uBAAuB,gFAAa;AAC3C;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA,wBAAwB,2DAAM;AAC9B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wEAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wEAAQ;AACpB;AACA,gBAAgB,wEAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uEAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ,kEAAM,8EAA8E,MAAM;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kEAAM,CAAC,uEAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sEAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0DAAS;AACxB;AACA,gCAAgC,iFAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAAU;AACV,IAAI,wEAAS;AACb;AACA,2DAAU;AACV,IAAI,wEAAS;AACb;AACA,2DAAU;AACV,IAAI,oEAAK;AACT;AACA,2DAAU;AACV,IAAI,wEAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrdiE;AACD;AACf;AACF;AAC/C;AACA;AACA;AACA;AACA;AACO,2BAA2B,mCAAa;AAC/C;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C;AACA;AACA,qBAAqB,kBAAK;AAC1B;AACA;AACA;AACA;AACA,SAAS;AACT,6BAA6B,kBAAK;AAClC;AACA;AACA;AACA;AACA,SAAS;AACT,0BAA0B,kBAAK;AAC/B;AACA;AACA;AACA;AACA,SAAS;AACT,wBAAwB,kBAAK;AAC7B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,2DAAyB;AACtD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wBAAM,qDAAqD,KAAK;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpG+C;AACiC;AAChB;AACD;AACV;AACR;AACE;AACD;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,mCAAa;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA,yBAAyB,gBAAI,GAAG,uBAAuB;AACvD,0BAA0B,gBAAI,GAAG,uBAAuB;AACxD;AACA,wBAAwB,yCAAoB;AAC5C;AACA,qBAAqB,oBAAM;AAC3B;AACA;AACA;AACA,SAAS;AACT,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,0BAA0B,oBAAM;AAChC;AACA;AACA;AACA,SAAS;AACT,wBAAwB,oBAAM;AAC9B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,2DAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wBAAM,qDAAqD,KAAK;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8BAAQ;AACnC;AACA;AACA;AACA,QAAQ,wBAAM,+CAA+C,yBAAyB;AACtF;AACA;AACA;AACA;AACA;AACA,4BAA4B,wBAAwB;AACpD,+BAA+B,YAAY;AAC3C;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ,8BAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrJyC;AACe;AACX;AACG;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO,oBAAoB,mEAAa;AACxC;AACA,cAAc,8EAAoB;AAClC;AACA,wBAAwB,8EAAoB;AAC5C;AACA;AACA;AACA,6BAA6B,0DAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ,mEAAQ;AAChB;AACA;AACA,6BAA6B,2FAAyB;AACtD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACzD0C;AACK;AACG;AAClD;AACA;AACA;AACO,wBAAwB,oBAAM;AACrC;AACA;AACA;AACA,wBAAwB,cAAG;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EoD;AACS;AACrB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,SAAS;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,0BAA0B,oBAAM;AAChC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACnEiE;AACD;AACjB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,mCAAa;AAChD;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C;AACA;AACA,yBAAyB,gBAAI,GAAG,uBAAuB;AACvD,0BAA0B,gBAAI,GAAG,uBAAuB;AACxD;AACA;AACA;AACA,6BAA6B,2DAAyB;AACtD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvGkD;AACR;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,kBAAkB,oCAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClDiE;AACD;AACR;AACjB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,mCAAa;AAC3C;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,qCAAqC,GAAG,GAAG,uBAAuB;AAClE,0CAA0C,aAAa;AACvD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6BAA6B,2DAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClDgC;AAC6B;AACjC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,kBAAK;AACnC;AACA,4BAA4B,yCAAoB;AAChD;AACA,wBAAwB,yCAAoB;AAC5C,qCAAqC,cAAG;AACxC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,0CAAiB;AAC9C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CkC;AACkB;AACM;AACG;AACjB;AACkB;AAChB;AACI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sBAAsB,oBAAM;AACnC;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,6BAA6B,QAAQ;AACrC;AACA;AACA,SAAS;AACT,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B,gBAAI,GAAG,uBAAuB;AAC7D,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B,oBAAM;AAClC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gCAAQ;AACvB;AACA;AACA,0CAA0C,gCAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP,6DAA6D,KAAK,KAAK,UAAU;AACjF;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;ACvByD;AAChB;AACoB;AACtD,+BAA+B,mCAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,sBAAI;AACpC,sDAAsD,qBAAqB,OAAO,yBAAyB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvCoD;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;ACjC6C;AACO;AAC7C;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,8BAA8B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA,0BAA0B,wBAAwB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;ACvEmD;AACoB;AAChE;AACA;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;ACxBoE;AAClC;AACU;AACiB;AACC;AAChB;AACK;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,oBAAM;AACtC;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,yBAAyB,gBAAI,GAAG,uBAAuB;AACvD,0BAA0B,gBAAI,GAAG,uBAAuB;AACxD,wBAAwB,kBAAK;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA,SAAS;AACT;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA,QAAQ,uCAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFkC;AAC2B;AACX;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,wBAAwB,oDAAM;AACrC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,2BAA2B,mEAAU;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC5FsE;AACT;AACd;AACD;AACI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,uFAAoB;AAChD;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+BAA+B,+DAAK,GAAG,uBAAuB;AAC9D,+BAA+B,+DAAK,GAAG,uBAAuB;AAC9D;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+GAAgC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5J6D;AACX;AAChB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,oDAAM;AACtC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,2BAA2B,mEAAU;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpE2D;AACf;AACkB;AACZ;AAClD;AACA;AACA;AACA;AACA;AACO,qBAAqB,gFAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4EAAS,GAAG,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,6DAAI,GAAG,uBAAuB;AAC5D;AACA;AACA;AACA,gCAAgC,6DAAI,GAAG,uBAAuB;AAC9D;AACA;AACA;AACA,yBAAyB,6DAAI,GAAG,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrE8C;AACe;AACX;AACA;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACO,4BAA4B,oEAAc;AACjD;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,8BAA8B,+DAAK;AACnC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,4FAA0B;AACvD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9C4C;AACM;AAChB;AAClC;AACA;AACA;AACA;AACO,6BAA6B,oDAAM;AAC1C;AACA;AACA;AACA,iCAAiC,6DAAI;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjC+C;AACiC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,gCAAgC,mCAAa;AACpD;AACA;AACA;AACA,yBAAyB,gBAAI,GAAG,uBAAuB;AACvD;AACA;AACA;AACA,0BAA0B,gBAAI,GAAG,uBAAuB;AACxD;AACA;AACA;AACA,4BAA4B,gBAAI,GAAG,uBAAuB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAa;AACrB,QAAQ,uCAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACrD0E;AACb;AACnB;AACN;AACU;AACJ;AACA;AACmB;AACgB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,+BAA+B,oBAAM;AAC5C;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,yBAAyB,4CAAkB;AAC3C;AACA;AACA,SAAS;AACT,2BAA2B,4BAAU;AACrC;AACA;AACA;AACA,SAAS;AACT,iCAAiC,wBAAQ,GAAG,uBAAuB;AACnE,mCAAmC,wBAAQ,GAAG,uBAAuB;AACrE,2BAA2B,oBAAM,GAAG,uBAAuB;AAC3D,wBAAwB,cAAG,GAAG,uBAAuB;AACrD,iCAAiC,iBAAiB,GAAG,uBAAuB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACvF8C;AACe;AACd;AACL;AACQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACO,qBAAqB,gEAAY;AACxC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,qBAAqB,2DAAM;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,wFAAwB;AACrD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACtH8D;AACZ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oCAAoC,gDAAoB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA;;;;;;;;AC3BgE;AACH;AACf;AACJ;AACQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,qBAAqB;AACxD;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,8BAA8B,kBAAK;AACnC;AACA;AACA,SAAS;AACT,+BAA+B,kBAAK;AACpC;AACA;AACA,SAAS;AACT,kCAAkC,kBAAK;AACvC;AACA;AACA,SAAS;AACT,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,iCAAiC;AAC9D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjEkD;AACW;AACd;AACD;AACa;AACjB;AACQ;AACkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,oEAAc;AAC9C;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,8BAA8B,2DAAM,GAAG,uBAAuB;AAC9D,2BAA2B,+DAAK;AAChC;AACA;AACA,SAAS;AACT,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT,2BAA2B,+DAAK;AAChC;AACA;AACA,SAAS;AACT,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,8BAA8B,4EAAS,GAAG,uBAAuB;AACjE,iCAAiC,gEAAG;AACpC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kCAAkC,+DAAK;AACvC;AACA;AACA,SAAS;AACT;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4FAA0B;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0FAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0FAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC3IkC;AACiB;AACP;AACiB;AACrB;AACN;AAC8B;AAClB;AACG;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oDAAM;AAClC;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0DAAS;AACxB;AACA;AACA,gCAAgC,iFAAc;AAC9C,+BAA+B,yDAAK,GAAG,SAAS;AAChD,+BAA+B,yDAAK,GAAG,SAAS;AAChD,8BAA8B,oEAAK,GAAG,SAAS;AAC/C;AACA;AACA,iCAAiC,6DAAI,GAAG,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gEAAI;AAChD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9GsF;AAC3B;AACR;AACP;AACO;AACD;AAClD;AACA;AACA;AACO,2BAA2B,gFAAa;AAC/C;AACA;AACA;AACA,yBAAyB,6DAAI,GAAG,uBAAuB;AACvD;AACA;AACA;AACA,yCAAyC,4EAAS;AAClD;AACA;AACA,SAAS;AACT;AACA,0BAA0B,oEAAK,GAAG,oCAAoC;AACtE,0BAA0B,oEAAK,GAAG,oCAAoC;AACtE;AACA;AACA;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oFAAa;AACrB,QAAQ,8EAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oFAAa;AACrB,QAAQ,8EAAO;AACf;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5D8C;AACJ;AACE;AACM;AACC;AACA;AACnD;AACA;AACA;AACO,mCAAmC,gEAAY;AACtD;AACA;AACA,4BAA4B,2DAAM;AAClC;AACA;AACA;AACA,SAAS;AACT,8BAA8B,6DAAI,GAAG,uBAAuB;AAC5D,8BAA8B,6DAAI,GAAG,uBAAuB;AAC5D,kCAAkC,oEAAK,GAAG,oCAAoC;AAC9E,kCAAkC,oEAAK,GAAG,oCAAoC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,wFAAwB;AACrD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChD8D;AAClB;AACiB;AACnB;AACA;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,oBAAM;AACpC;AACA,4BAA4B,yCAAoB;AAChD;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAI,GAAG,uBAAuB;AACtD;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAM,GAAG,uBAAuB;AACxD;AACA;AACA;AACA;AACA,QAAQ,uCAAa;AACrB;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDiE;AACjC;AACO;AACU;AACA;AACe;AAChE;AACA;AACA;AACA;AACA,iCAAiC;AACjC,kCAAkC;AAClC;AACA;AACA;AACO,2BAA2B,mCAAa;AAC/C;AACA,cAAc,yCAAoB;AAClC;AACA,uCAAuC,kBAAK;AAC5C;AACA;AACA,SAAS;AACT,2BAA2B,cAAG,GAAG,uBAAuB;AACxD,uBAAuB,wBAAQ;AAC/B;AACA;AACA,SAAS;AACT,iCAAiC,QAAQ,GAAG,uBAAuB;AACnE,wBAAwB,wBAAQ;AAChC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDiE;AACjC;AACO;AACU;AACA;AACF;AACiB;AAChE;AACA;AACA;AACA,iCAAiC;AACjC,kCAAkC;AAClC;AACA;AACA;AACO,2BAA2B,mCAAa;AAC/C;AACA,cAAc,yCAAoB;AAClC;AACA,uBAAuB,gBAAI,GAAG,uBAAuB;AACrD,wBAAwB,gBAAI,GAAG,uBAAuB;AACtD,yBAAyB,cAAG,GAAG,uBAAuB;AACtD,6BAA6B,wBAAQ;AACrC;AACA;AACA,SAAS;AACT,0BAA0B,QAAQ,GAAG,uBAAuB;AAC5D,8BAA8B,wBAAQ;AACtC;AACA;AACA,SAAS;AACT,wCAAwC,kBAAK,GAAG,uBAAuB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDkC;AAC+B;AACA;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,oBAAM;AACzC;AACA;AACA;AACA,iCAAiC,YAAY,GAAG,uBAAuB;AACvE,iCAAiC,YAAY,GAAG,uBAAuB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDwD;AACd;AACI;AACA;AACe;AACX;AACM;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,aAAa;AAChD;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,yBAAyB,oBAAM;AAC/B;AACA;AACA;AACA,SAAS;AACT,QAAQ,8BAAQ;AAChB,qCAAqC,wBAAQ;AAC7C;AACA;AACA,SAAS;AACT,sCAAsC,wBAAQ;AAC9C;AACA;AACA,SAAS;AACT,4BAA4B,wBAAQ,GAAG,uBAAuB;AAC9D;AACA;AACA,kCAAkC,QAAQ,GAAG,uBAAuB;AACpE;AACA,QAAQ,iCAAO;AACf;AACA,6BAA6B,wBAAQ,GAAG,uBAAuB;AAC/D;AACA;AACA;AACA;AACA;AACA,6BAA6B,yBAAyB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChE8C;AACC;AACH;AACF;AACmB;AACX;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sBAAsB,gEAAY;AACzC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT,yBAAyB,gEAAG;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT,+BAA+B,6DAAI,GAAG,uBAAuB;AAC7D,+BAA+B,6DAAI,GAAG,uBAAuB;AAC7D,6BAA6B,2DAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,yBAAyB,2DAAM;AAC/B;AACA;AACA;AACA,SAAS;AACT,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,wFAAwB;AACrD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClIkC;AAC2B;AACd;AACD;AACI;AAClD;AACA;AACA;AACA;AACA;AACO,sBAAsB,oDAAM;AACnC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,8BAA8B,+DAAK;AACnC;AACA;AACA;AACA,SAAS;AACT,wBAAwB,gEAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5DoD;AACS;AACT;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sBAAsB,sEAAe;AAC5C;AACA,cAAc,mFAAoB;AAClC;AACA,oCAAoC,qEAAW;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpC6D;AACf;AACM;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sBAAsB,sEAAe;AAC5C;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,mCAAmC,+DAAQ;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,8FAA2B;AACxD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC5C0C;AACI;AACF;AACc;AACI;AACpB;AAC2B;AAC3B;AACV;AACkB;AAC2B;AAC7E;AACA;AACA;AACO,8BAA8B,4DAAU;AAC/C;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,4BAA4B,kDAAK;AACjC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,8BAA8B,kDAAK;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6BAA6B,2DAAM;AACnC;AACA;AACA,SAAS;AACT,0BAA0B,2DAAM;AAChC;AACA;AACA;AACA,SAAS;AACT,+BAA+B,+DAAQ;AACvC;AACA;AACA;AACA,SAAS;AACT,mCAAmC,6DAAI;AACvC;AACA;AACA,SAAS;AACT,QAAQ,yEAAQ;AAChB;AACA;AACA,6BAA6B,oFAAsB;AACnD;AACA,sCAAsC,6EAAc,CAAC,8GAA0B;AAC/E,+BAA+B,mFAAkB;AACjD;AACA;AACA;AACA;AACA,aAAa;AACb,oCAAoC,6EAAc,CAAC,mGAAoB,gBAAgB,wGAAyB;AAChH;AACA;AACA;AACA;AACA,aAAa;AACb,sCAAsC,6EAAc,CAAC,8GAA0B;AAC/E,+BAA+B,mFAAkB;AACjD;AACA;AACA;AACA;AACA,aAAa;AACb,8CAA8C,6EAAc,CAAC,mGAAoB,gBAAgB,wGAAyB;AAC1H;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzHgE;AAC1B;AACK;AACJ;AACa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACO,gCAAgC,wBAAQ;AAC/C;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C;AACA;AACA,0CAA0C,cAAG;AAC7C;AACA;AACA,SAAS;AACT,wCAAwC,kBAAK;AAC7C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,gDAAoB;AACjD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,6BAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1F4E;AAClB;AACN;AACyB;AAC3B;AACI;AACe;AAC3B;AACkC;AACd;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACO,wBAAwB,4BAAU;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,8BAA8B,oCAAc;AAC5C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B,oBAAM,iCAAiC,uBAAuB;AACxF,kCAAkC,iBAAiB,yCAAyC,uBAAuB;AACnH,4BAA4B,0CAAiB,mCAAmC,uBAAuB;AACvG;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,oDAAsB;AACnD,oCAAoC,mCAAc,CAAC,gDAAoB,gBAAgB,2DAAyB;AAChH;AACA;AACA;AACA;AACA,aAAa;AACb,kCAAkC,mCAAc,CAAC,4CAAkB,gBAAgB,2DAAyB;AAC5G;AACA;AACA;AACA,aAAa;AACb,0CAA0C,mCAAc,CAAC,6BAA6B,gBAAgB,2DAAyB;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,sCAAsC,mCAAc,CAAC,4DAA0B,gBAAgB,4CAAkB;AACjH;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChHmC;AACqB;AACK;AACf;AACQ;AACH;AACnD;AACA;AACA;AACO,yBAAyB,uEAAU;AAC1C;AACA,cAAc,mFAAoB;AAClC,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA,6BAA6B,+FAAsB;AACnD;AACA,uBAAuB,gEAAI;AAC3B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,yEAAc;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAAU;AACV,IAAI,wEAAS;AACb;AACA;;;;;;;;;;;;;;;;;;;;AClFuC;AACI;AACE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACO,wBAAwB,+BAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAAI;AACnB;AACA;AACA;AACA;AACA;AACA,eAAe,4BAAI;AACnB;AACA;AACA;AACA;AACA;AACA,eAAe,4BAAI;AACnB;AACA;AACA;AACA;AACA;AACA,eAAe,4BAAI;AACnB;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,eAAe,4BAAI;AACnB;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;ACxE8C;AAC0C;AAC7B;AACjB;AACV;AACkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACO,wBAAwB,4BAAU;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yCAAoB;AAC5C;AACA,QAAQ,wBAAM,EAAE,8BAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAsB;AACnD;AACA,uBAAuB;AACvB,mBAAmB,kBAAK;AACxB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY,sBAAI;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,SAAS;AAC1C,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wBAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6BAAO;AACnB,YAAY,wBAAM,CAAC,6BAAO;AAC1B;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA,gBAAgB,wBAAM;AACtB;AACA;AACA;AACA;AACA;AACA,YAAY,wBAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,iCAAiC,mCAAc;AAC/C;AACA,uBAAuB,8BAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3S4E;AAClB;AACI;AACe;AAC3B;AACmB;AAC3B;AACA;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,4DAAU;AACrC;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,8BAA8B,sFAAc;AAC5C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B,6FAAiB;AAC7C;AACA,SAAS;AACT;AACA;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,oFAAsB;AACnD,oCAAoC,6EAAc,CAAC,mGAAoB,gBAAgB,wGAAyB;AAChH;AACA;AACA;AACA;AACA,aAAa;AACb,sCAAsC,6EAAc,CAAC,8GAA0B,oBAAoB,mFAAkB;AACrH;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1F8D;AAClB;AACiB;AAC3B;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,kBAAkB,oDAAM;AAC/B;AACA,4BAA4B,mFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA,wBAAwB,6DAAI,GAAG,uBAAuB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oFAAa;AACrB;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChDkD;AACR;AAC1C;AACA;AACA;AACA;AACA;AACO,0BAA0B,oEAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAU;AACnC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpC4C;AACiB;AAC3B;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,oDAAM;AACpC;AACA,4BAA4B,mFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C,oDAAoD,6DAAI;AACxD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClDsC;AACY;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oEAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,wDAAQ;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtC0C;AACmB;AACX;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,kBAAkB,oEAAc;AACvC;AACA,4BAA4B,mFAAoB;AAChD;AACA,wBAAwB,mFAAoB;AAC5C,8DAA8D,4DAAU;AACxE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,4FAA0B;AACvD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzD6D;AACjC;AACU;AACY;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,oEAAc;AACzC;AACA,4BAA4B,mFAAoB;AAChD;AACA,wBAAwB,mFAAoB;AAC5C,sCAAsC,wDAAQ;AAC9C;AACA;AACA,SAAS;AACT,sCAAsC,8CAAG;AACzC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,6BAA6B,4FAA0B;AACvD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxE6D;AACC;AACrB;AACzC;AACA;AACA;AACO,6BAA6B,gFAAa;AACjD;AACA,4BAA4B,mFAAoB;AAChD;AACA;AACA,QAAQ,+DAAa;AACrB;AACA;AACA;AACA;;;;;;;;;;;;;;;ACf6D;AACA;AACjB;AACV;AACgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,oEAAc;AAC9C;AACA,4BAA4B,mFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C,YAAY,uEAAO;AACnB;AACA;AACA,iBAAiB,0EAAU;AAC3B;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kEAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClGkE;AACL;AACjB;AACF;AACmB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,2DAAM;AACjC;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mFAAkB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kEAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,2BAA2B;AAChE;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,oCAAoC,mFAAe;AACnD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qCAAqC,2BAA2B;AAChE;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA,mCAAmC,mFAAe;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qCAAqC,2BAA2B;AAChE;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA,oCAAoC,mFAAe;AACnD;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;AChOkC;AACqC;AAClB;AACQ;AACjB;AACM;AACW;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACO,wBAAwB,gFAAa;AAC5C;AACA,cAAc,mFAAoB;AAClC;AACA,wBAAwB,mFAAoB;AAC5C,yCAAyC,sEAAM;AAC/C;AACA;AACA,SAAS;AACT;AACA,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA,6BAA6B,wGAAyB;AACtD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0DAAS;AACxB,YAAY,kEAAM;AAClB;AACA;AACA;AACA;AACA;AACA,gBAAgB,wEAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,gBAAgB,kEAAM,CAAC,yEAAS,sCAAsC,UAAU;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8EAAO;AACvB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,eAAe,0DAAS;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yEAAS;AACxB,YAAY,yEAAS;AACrB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrN4C;AACwB;AACP;AACX;AAClD;AACA;AACA;AACA;AACA;AACA;AACO,mBAAmB,oCAAc;AACxC;AACA,4BAA4B,yCAAoB;AAChD;AACA;AACA;AACA;AACA,yBAAyB,gBAAI,GAAG,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,iCAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oCAAU;AAClB;AACA;AACA;AACA;;;;ACrC+C;AACE;AACgB;AACD;AACX;AACE;AACZ;AACiB;AACnB;AACC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,kBAAkB,mCAAa;AACtC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAyB;AAClD;AACA,uBAAuB,sDAAuB;AAC9C;AACA,mBAAmB,8CAAmB;AACtC;AACA,2BAA2B,8DAA2B;AACtD,wBAAwB,yCAAoB;AAC5C,+BAA+B,4BAAU;AACzC;AACA,kCAAkC,gBAAI;AACtC;AACA;AACA;AACA,SAAS;AACT;AACA,kCAAkC,oBAAM;AACxC;AACA;AACA;AACA,SAAS;AACT,0BAA0B,IAAI,GAAG,uBAAuB;AACxD,wBAAwB,8BAAW,GAAG,uBAAuB;AAC7D,yCAAyC,kBAAK;AAC9C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA;AACA,6BAA6B,oDAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAK,oBAAoB,oBAAM;AAC3D;AACA;AACA;AACA,QAAQ,+BAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxOkC;AACa;AACiB;AACX;AACE;AACN;AACd;AACO;AACe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,2BAA2B,oBAAM;AACxC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA,oCAAoC,8BAAW,GAAG,uBAAuB;AACzE;AACA;AACA;AACA,mCAAmC,gBAAI;AACvC;AACA,SAAS;AACT,wBAAwB,yCAAoB;AAC5C,4BAA4B,4BAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8BAA8B,4BAAU;AACxC;AACA;AACA;AACA,SAAS;AACT,+BAA+B,wBAAQ;AACvC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,oDAAsB;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5JkC;AAC8B;AACL;AACd;AACV;AACO;AACe;AACL;AACpD;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,oBAAM;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,yCAAoB;AAC5C,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,0BAA0B,oBAAM;AAChC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,oDAAsB;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,6BAAW;AACnB;AACA;AACA;AACA;AACA,4BAA4B,WAAW;AACvC,gCAAgC,4BAAU;AAC1C;AACA;AACA;AACA;AACA;AACA,gEAAgE,sBAAI;AACpE,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClMkC;AACa;AACiB;AACX;AACJ;AACJ;AACV;AACO;AACe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACO,2BAA2B,oBAAM;AACxC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA,mCAAmC,gBAAI;AACvC;AACA;AACA,SAAS;AACT,wBAAwB,yCAAoB;AAC5C,4BAA4B,4BAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,8BAA8B,4BAAU;AACxC;AACA;AACA;AACA,SAAS;AACT,+BAA+B,wBAAQ;AACvC;AACA;AACA;AACA,SAAS;AACT,mCAAmC,wBAAQ;AAC3C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,oDAAsB;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3KkC;AACa;AACiB;AACX;AACR;AACQ;AAClB;AACO;AACe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,8BAA8B,oBAAM;AAC3C;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA,8BAA8B,gBAAI;AAClC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,4BAAU;AACrC;AACA;AACA,SAAS;AACT,wBAAwB,yCAAoB;AAC5C,yBAAyB,oBAAM;AAC/B;AACA;AACA;AACA,SAAS;AACT,6BAA6B,4BAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KkC;AAC8B;AACX;AACJ;AACd;AACO;AACe;AACL;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,4BAA4B,oBAAM;AACzC;AACA,cAAc,yCAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,wBAAQ;AAClC;AACA;AACA,SAAS;AACT,wBAAwB,yCAAoB;AAC5C,0BAA0B,eAAe;AACzC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,4BAAU;AACxC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,8BAAQ;AAChB;AACA;AACA,6BAA6B,4CAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvIkC;AAC8B;AACX;AACU;AAClB;AACV;AACW;AACE;AACF;AACJ;AACe;AACL;AACJ;AAChD;AACA,QAAQ,YAAY;AACpB,SAAS,aAAa;AACtB,QAAQ,YAAY;AACpB,gBAAgB,4BAAU;AAC1B,WAAW,eAAe;AAC1B,SAAS,aAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACO,6BAA6B,oBAAM;AAC1C;AACA,cAAc,yCAAoB;AAClC;AACA,wBAAwB,yCAAoB;AAC5C,6BAA6B,oBAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,0BAA0B,oBAAM;AAChC;AACA;AACA;AACA,SAAS;AACT,QAAQ,8BAAQ;AAChB;AACA;AACA;AACA;AACA,6BAA6B,oDAAsB,IAAI,wBAAwB,IAAI,wBAAwB,IAAI,yBAAyB,IAAI,2BAA2B,IAAI,yBAAyB;AACpM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,8BAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,8BAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sGAAsG,8BAAQ;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAAS;AACxB,mBAAmB,+CAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC3VkC;AAC0C;AACvB;AACC;AACT;AACV;AACsB;AACC;AACN;AACP;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,oDAAM;AACtC;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C,6BAA6B,2DAAM;AACnC;AACA;AACA;AACA,SAAS;AACT,QAAQ,wEAAQ;AAChB,0BAA0B,2DAAM;AAChC;AACA;AACA;AACA,SAAS;AACT,QAAQ,wEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4EAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,4EAAkB;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yEAAU;AAC9B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yEAAS;AACzB,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA,eAAe,+DAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0DAAS;AACxB,mBAAmB,+EAAgB;AACnC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1XkC;AACiC;AACnE;AACA;AACA;AACO;AACP,WAAW,0DAAS;AACpB;AACA,4BAA4B,iFAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;ACrB2D;AACV;AACe;AACf;AACI;AACrD;AACA;AACA;AACA;AACA;AACA;AACO,iCAAiC,kEAAa;AACrD;AACA,cAAc,mFAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mFAAoB;AAC5C,QAAQ,8EAAO;AACf;AACA,6BAA6B,+DAAK;AAClC;AACA;AACA;AACA;AACA,SAAS;AACT,0BAA0B,+DAAK;AAC/B;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ,wEAAQ;AAChB;AACA;AACA,6BAA6B,0FAAyB;AACtD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAA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SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA,mBAAmB,QAAQ;;AAE3B;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,YAAY,eAAe;AAC3B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA,mBAAmB,QAAQ;;AAE3B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,uCAAuC,iBAAiB;AACxD,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,0DAA0D,0BAA0B;AACpF,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,oBAAoB;AAC5D,WAAW;AACX;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,wEAAwE,oBAAoB;AAC5F;AACA,YAAY,YAAY;AACxB;AACA;;AAEA;;AAEA;;AAEA;AACA,uEAAuE;AACvE;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,YAAY;AACxB;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,YAAY;AACxB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,YAAY;AACxB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAE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AAY,oBAAoB;AAChC;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,gCAAgC,gEAAgB;;AAEhD;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,mBAAmB;AAC/B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,YAAY,mBAAmB;AAC/B;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,MAAM;AAClB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;AACA;;AAEA;AAC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AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;;AAEA,qCAAqC,OAAO;;AAE5C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,WAAW;AACtB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,WAAW;AACvB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,WAAW;AACvB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;;AAEA;;AAEA;;AAEA;;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A;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;AACA;;AAEA,qCAAqC,OAAO;;AAE5C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;;AAEA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,YAAY;AACxB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,sCAAsC,OAAO;;AAE7C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,4BA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CA;;AAEA;AACA;AACA,mEAAmE,qBAAqB;AACxF;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,KAAK;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,KAAK;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,KAAK;AACjB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,OAAO;;AAE1B,oBAAoB,OAAO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;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,cAAc;AAC1B;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,YAAY,cAAc;AAC1B;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA,aAAa,4BAA4B;AACzC,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,cAAc;AAC1B;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,cAAc;AAC1B;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,cAAc;AAC1B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,SAAS;AACrB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,cAAc;AAC1B;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,qBAAqB;AAChC,YAAY,qBAAqB;AACjC;AACA;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ACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAQ;AACd;AACA;AACA,MAAM,2BAAQ;AACd;AACA,YAAY,2BAAQ;AACpB;AACA;AACA;AACA;AACA,UAAU,SAAQ;AAClB;AACA;AACA;AACA;AACA;;AAEA,uDAAe,QAAQ,EAAC;;;AC/Da;AACV;AACU;;AAErC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,kBAAQ;AACjB,MAAM,2BAAQ;AACd;AACA;AACA,iCAAiC,kBAAQ;AACzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,aAAG;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD,aAAG;AAC5D;;AAEA;AACA,eAAe,aAAG;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uDAAe,QAAQ,EAAC;;;;;;;;;;AC9La;AACA;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,iEAAQ;AACd;AACA;AACA;AACA,SAAS,iEAAQ;AACjB;AACA;AACA;AACA,GAAG;AACH;;AAEA,yDAAe,QAAQ,EAAC;;;;;;;;;;;;;;ACpEy8B;AACn5B;AAC1B;;;;;AAKpD,4CAA4C,iDAAqB;AACjE,6DAA6D,kDAAsB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,kDAAsB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,yCAAa;AAClE;AACA,0CAA0C,qDAAyB;AACnE;AACA;AACA,yBAAyB,uCAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,UAAU;AACtC,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA,uBAAuB,0CAAc;AACrC,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;AAUA;;;AAGA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,qBAAqB;AAChC,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;AACA,4DAA4D,0DAAY;AACxE;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,kBAAkB,aAAa;AAC/B,kBAAkB,cAAc;AAChC,kBAAkB,QAAQ;AAC1B,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wCAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,iBAAiB;AACpC,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAqB;AACpG;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,uCAAuC,oDAAwB;AAC/D,uBAAuB,+CAAmB;AAC1C,uBAAuB,+CAAmB;AAC1C;AACA,SAAS;AACT,sCAAsC,oDAAwB;AAC9D,uBAAuB,+CAAmB;AAC1C,uBAAuB,+CAAmB;AAC1C;AACA,SAAS;AACT,wCAAwC,oDAAwB;AAChE,uBAAuB,+CAAmB;AAC1C,uBAAuB,+CAAmB;AAC1C;AACA,SAAS;AACT,mBAAmB,mBAAmB,wBAAwB,8CAAkB;AAChF,oCAAoC,+CAAmB;AACvD,+BAA+B,iDAAqB;AACpD,+BAA+B,iDAAqB;AACpD,mCAAmC,gDAAoB;AACvD,mCAAmC,gDAAoB;AACvD;AACA;AACA;AACA;AACA,sBAAsB,0CAAc;AACpC,sBAAsB,wCAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE,OAAO,6DAAiC;AACtE,2DAA2D,4CAAgB;AAC3E,yDAAyD,4CAAgB;AACzE,8DAA8D,gDAAoB;AAClF,8DAA8D,gDAAoB;AAClF;AACA,2DAA2D,6CAAiB;AAC5E,yDAAyD,gDAAoB;AAC7E,8DAA8D,gDAAoB;AAClF,8DAA8D,gDAAoB;AAClF;AACA,8FAA8F,iDAAqB;AACnH,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,uDAAuD,oDAAwB;AAC/E,2BAA2B,+CAAmB;AAC9C,2BAA2B,gDAAoB;AAC/C,sBAAsB,gDAAoB;AAC1C,wBAAwB,6CAAiB;AACzC,aAAa;AACb,sDAAsD,oDAAwB;AAC9E,2BAA2B,+CAAmB;AAC9C,2BAA2B,gDAAoB;AAC/C,sBAAsB,gDAAoB;AAC1C,wBAAwB,6CAAiB;AACzC,aAAa;AACb,mEAAmE,+CAAmB,0BAA0B,kDAAsB;AACtI,wFAAwF,iDAAqB;AAC7G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,wCAAY;AACrE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mCAAmC,wCAAY;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iDAAqB;AACtE,UAAU,oFAAoF,iDAAqB;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iDAAqB;AACrE,UAAU,mFAAmF,iDAAqB;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,iDAAqB;AAC1E,UAAU,wFAAwF,iDAAqB;AACvH;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0CAAc;AAC1C;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC,6BAA6B,0CAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sGAAsG,0CAAc;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0CAA0C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG,0CAAc;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAA0G,0CAAc;AACxH;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc,2CAA2C,iCAAiC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oDAAoD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qDAAqD;AACxE;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,qBAAqB;AAChC,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;AACA,yDAAyD,8DAAc;AACvE;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,kBAAkB,aAAa;AAC/B,kBAAkB,cAAc;AAChC,kBAAkB,QAAQ;AAC1B,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,iBAAiB;AACpC,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0CAA0C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc,2CAA2C,iCAAiC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oDAAoD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qDAAqD;AACxE;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;;AAG0H;AAC1H;;;;;;;;;;;;ACnlEkC;;AAE3B,gCAAgC,4CAAS;;AAEhD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;ACxBsC;;AAE/B,8BAA8B,gDAAa;;AAElD;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;;ACrBqH;AAC1D;;AAE3D,wCAAwC,uCAAI;AAC5C,oCAAoC,2CAAQ;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,sBAAsB,iDAAc;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,MAAM;;AAEN;;AAEA;;AAEA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,iFAAU;;AAEf,aAAa,WAAW;AACxB,wBAAwB,QAAQ;;AAEhC;AACA,yBAAyB,QAAQ;;AAEjC;AACA,0BAA0B,QAAQ;;AAElC;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA,oBAAoB,iBAAiB;;AAErC;AACA;AACA,qBAAqB,iBAAiB;;AAEtC;;AAEA;;AAEA;;AAEA;AACA;AACA,QAAQ,kDAAe;AACvB;AACA;AACA;AACA,QAAQ,kDAAe;AACvB;AACA;;AAEA;;AAEA;;AAEA;;AAEA,gCAAgC,wCAAK;;AAErC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,oDAAiB;AAC5C;AACA;AACA;AACA;AACA,IAAI;;AAEJ,2BAA2B,oDAAiB;AAC5C;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,mBAAmB,gBAAgB;;AAEnC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,wCAAwC,OAAO;;AAE/C;;AAEA;;AAEA;;AAEA;;;AAG6B;;;;;;;;;;;;;;;;;ACzU7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE+B;;AAE/B;;AAEA;;AAEA;;AAEA,qBAAqB,oBAAa;AAClC,oBAAoB,oBAAa;AACjC,sBAAsB,oBAAa;AACnC,oBAAoB,oBAAa;AACjC,kBAAkB,oBAAa;;AAE/B,qBAAqB,oBAAa,IAAI;AACtC,qBAAqB,oBAAa,IAAI;AACtC,qBAAqB,oBAAa,IAAI;AACtC,qBAAqB,oBAAa;AAClC,qBAAqB,oBAAa;AAClC,qBAAqB,oBAAa;;AAElC;AACA,QAAQ,oBAAa;AACrB,QAAQ,oBAAa;AACrB,QAAQ,oBAAa;AACrB;;AAEA;AACA,QAAQ,oBAAa;AACrB,QAAQ,oBAAa;AACrB,QAAQ,oBAAa;AACrB;;AAEA,sBAAsB,qBAAc;;AAEpC;AACA;AACA;;AAEA;AACO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,6DAA6D;AAC7D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,2BAAoB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,iBAAiB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD,mBAAmB,SAAS,GAAG,SAAS,GAAG,WAAW;AACtD;;AAEA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4BAAqB;AACvE,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA,+BAA+B,4BAAqB;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,iBAAiB;;AAE7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wFAAwF;;AAExF;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;AACA;AACA;AACA,gGAAgG;AAChG,gGAAgG;AAChG,0BAA0B;AAC1B,+FAA+F;AAC/F;;AAEA,sBAAsB;AACtB,4FAA4F;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC;;AAErC;AACA;AACA;AACA,yBAAyB,2BAAoB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4DAA4D;AAC5D;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,iBAAiB;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gFAAgF;AAChF,gFAAgF;AAChF,gFAAgF;AAChF,gFAAgF;AAChF;;AAEA,mBAAmB,4BAAqB;AACxC;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC;;AAEvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,2BAAoB;;AAE7C;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,4CAA4C;AAC5C,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,oCAAoC;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD,4BAAqB;AACtE,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA,+BAA+B,4BAAqB;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,oCAAoC;;AAEhE;AACA,gCAAgC,OAAO;;AAEvC;;AAEA;;AAEA,sBAAsB,uCAAuC;;AAE7D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;;;AAGzB,sBAAsB,OAAO;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gDAAgD,4BAA4B;AAC5E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA,gDAAgD;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,cAAc,cAAc;AAC5B;;AAEA;AACA;AACA,cAAc,gCAAgC,GAAG,gCAAgC,GAAG,gCAAgC;AACpH;;AAEA;AACA;AACA;;AAEA;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A;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEqB;;;;;;;;;;;;;ACnlCN;;AAEoC;;AAEnD;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;;AAEA;AACA;;AAEA,MAAM;;AAEN;;AAEA;;AAEA,KAAK,2BAA2B;;AAEhC;AACA;;AAEA;AACA;;AAEA,KAAK,2BAA2B;;AAEhC;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,yBAAyB,yCAAM;;AAE/B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qBAAqB,6CAAU;AAC/B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AA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","sources":["webpack:///../@polygonjs/polygonjs/node_modules/@mediapipe/face_mesh/face_mesh.js","webpack:///../@polygonjs/polygonjs/node_modules/@mediapipe/hands/hands.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/Analyser.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/FFT.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/Meter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/MeterBase.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/Waveform.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/GainToAudio.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/CrossFade.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/Merge.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/Panner3D.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/Split.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/envelope/AmplitudeEnvelope.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/envelope/Envelope.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/filter/BiquadFilter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/filter/Filter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/context/Delay.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/LFOEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/AutoFilter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/filter/OnePoleFilter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Abs.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/analysis/Follower.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/ScaleExp.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/AutoWah.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/worklet/WorkletGlobalScope.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/worklet/ToneAudioWorklet.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/worklet/ToneAudioWorkletProcessor.worklet.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/worklet/SingleIOProcessor.worklet.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/BitCrusher.worklet.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/BitCrusher.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Chebyshev.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Chorus.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Distortion.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Effect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/FeedbackDelay.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/FeedbackEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/filter/PhaseShiftAllpass.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/FrequencyShifter.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Phaser.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/StereoXFeedbackEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/PingPongDelay.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/PitchShift.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Reverb.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/StereoEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/StereoFeedbackEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Subtract.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/MidSideSplit.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/channel/MidSideMerge.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/MidSideEffect.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/StereoWidener.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Tremolo.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/effect/Vibrato.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/AMSynth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/FMSynth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/ModulationSynth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/component/envelope/FrequencyEnvelope.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/MonoSynth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/Monophonic.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/core/type/Midi.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/PolySynth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/instrument/Synth.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Add.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/AudioToGain.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Multiply.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Negate.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Pow.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Scale.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/SignalOperator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/WaveShaper.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/Noise.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/UserMedia.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/signal/Zero.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/LFO.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/AMOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/FatOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/FMOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/PulseOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/PWMOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/OmniOscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/Oscillator.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/OscillatorInterface.js","webpack:///../@polygonjs/polygonjs/node_modules/tone/build/esm/source/oscillator/ToneOscillatorNode.js","webpack:///../@polygonjs/polygonjs/node_modules/yuka/build/yuka.module.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/now.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/_trimmedEndIndex.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/_baseTrim.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/isSymbol.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/toNumber.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/debounce.js","webpack:///../@polygonjs/polygonjs/node_modules/lodash-es/throttle.js","webpack:///../@polygonjs/polygonjs/node_modules/n8ao/dist/N8AO.js","webpack:///../@polygonjs/polygonjs/node_modules/three-gpu-pathtracer/src/objects/PhysicalSpotLight.js","webpack:///../@polygonjs/polygonjs/node_modules/three-gpu-pathtracer/src/objects/ShapedAreaLight.js","webpack:///../@polygonjs/polygonjs/node_modules/three-mesh-bvh/src/objects/MeshBVHVisualizer.js","webpack:///../@polygonjs/polygonjs/node_modules/three-subdivide/src/LoopSubdivision.js","webpack:///../@polygonjs/polygonjs/node_modules/three-subdivide/src/index.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/math/ConvexHull.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/geometries/ConvexGeometry.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/geometries/DecalGeometry.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/helpers/VertexNormalsHelper.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/helpers/VertexTangentsHelper.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/loaders/TDSLoader.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/loaders/USDZLoader.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/math/ImprovedNoise.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/objects/Sky.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/shaders/HorizontalBlurShader.js","webpack:///../@polygonjs/polygonjs/node_modules/three/examples/jsm/shaders/VerticalBlurShader.js","webpack:///../@polygonjs/polygonjs/node_modules/three/src/renderers/shaders/ShaderChunk/transmission_fragment.glsl.js"],"sourcesContent":["(function(){/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\n'use strict';var v;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\nfunction ca(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");}var G=ca(this);function J(a,b){if(b)a:{var c=G;a=a.split(\".\");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}\nJ(\"Symbol\",function(a){function b(g){if(this instanceof b)throw new TypeError(\"Symbol is not a constructor\");return new c(d+(g||\"\")+\"_\"+e++,g)}function c(g,f){this.g=g;ba(this,\"description\",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d=\"jscomp_symbol_\"+(1E9*Math.random()>>>0)+\"_\",e=0;return b});\nJ(\"Symbol.iterator\",function(a){if(a)return a;a=Symbol(\"Symbol.iterator\");for(var b=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),c=0;c<b.length;c++){var d=G[b[c]];\"function\"===typeof d&&\"function\"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});function da(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}\nfunction K(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function L(a){if(!(a instanceof Array)){a=K(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ea=\"function\"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},fa;\nif(\"function\"==typeof Object.setPrototypeOf)fa=Object.setPrototypeOf;else{var ha;a:{var ia={a:!0},ja={};try{ja.__proto__=ia;ha=ja.a;break a}catch(a){}ha=!1}fa=ha?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var ka=fa;\nfunction M(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(ka)ka(a,b);else for(var c in b)if(\"prototype\"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ea=b.prototype}function ma(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function na(a){if(a.l)throw new TypeError(\"Generator is already running\");a.l=!0}ma.prototype.o=function(a){this.h=a};\nfunction oa(a,b){a.j={U:b,V:!0};a.g=a.m||a.s}ma.prototype.return=function(a){this.j={return:a};this.g=this.s};function N(a,b,c){a.g=c;return{value:b}}function pa(a){this.g=new ma;this.h=a}function qa(a,b){na(a.g);var c=a.g.i;if(c)return ra(a,\"return\"in c?c[\"return\"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return sa(a)}\nfunction ra(a,b,c,d){try{var e=b.call(a.g.i,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.g.l=!1,e;var g=e.value}catch(f){return a.g.i=null,oa(a.g,f),sa(a)}a.g.i=null;d.call(a.g,g);return sa(a)}function sa(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.l=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,oa(a.g,c)}a.g.l=!1;if(a.g.j){b=a.g.j;a.g.j=null;if(b.V)throw b.U;return{value:b.return,done:!0}}return{value:void 0,done:!0}}\nfunction ta(a){this.next=function(b){na(a.g);a.g.i?b=ra(a,a.g.i.next,b,a.g.o):(a.g.o(b),b=sa(a));return b};this.throw=function(b){na(a.g);a.g.i?b=ra(a,a.g.i[\"throw\"],b,a.g.o):(oa(a.g,b),b=sa(a));return b};this.return=function(b){return qa(a,b)};this[Symbol.iterator]=function(){return this}}function O(a,b){b=new ta(new pa(b));ka&&a.prototype&&ka(b,a.prototype);return b}\nfunction ua(a,b){a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}var va=\"function\"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};J(\"Object.assign\",function(a){return a||va});\nJ(\"Promise\",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var h=this.j();try{f(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.g=null}function d(f){return f instanceof b?f:new b(function(h){h(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var h=this;this.i(function(){h.l()})}this.g.push(f)};var e=G.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var h=0;h<f.length;++h){var k=\nf[h];f[h]=null;try{k()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};b.prototype.j=function(){function f(l){return function(n){k||(k=!0,l.call(h,n))}}var h=this,k=!1;return{resolve:f(this.C),reject:f(this.l)}};b.prototype.C=function(f){if(f===this)this.l(new TypeError(\"A Promise cannot resolve to itself\"));else if(f instanceof b)this.F(f);else{a:switch(typeof f){case \"object\":var h=null!=f;break a;case \"function\":h=!0;break a;default:h=!1}h?this.u(f):this.m(f)}};\nb.prototype.u=function(f){var h=void 0;try{h=f.then}catch(k){this.l(k);return}\"function\"==typeof h?this.G(h,f):this.m(f)};b.prototype.l=function(f){this.s(2,f)};b.prototype.m=function(f){this.s(1,f)};b.prototype.s=function(f,h){if(0!=this.h)throw Error(\"Cannot settle(\"+f+\", \"+h+\"): Promise already settled in state\"+this.h);this.h=f;this.i=h;2===this.h&&this.D();this.A()};b.prototype.D=function(){var f=this;e(function(){if(f.B()){var h=G.console;\"undefined\"!==typeof h&&h.error(f.i)}},1)};b.prototype.B=\nfunction(){if(this.o)return!1;var f=G.CustomEvent,h=G.Event,k=G.dispatchEvent;if(\"undefined\"===typeof k)return!0;\"function\"===typeof f?f=new f(\"unhandledrejection\",{cancelable:!0}):\"function\"===typeof h?f=new h(\"unhandledrejection\",{cancelable:!0}):(f=G.document.createEvent(\"CustomEvent\"),f.initCustomEvent(\"unhandledrejection\",!1,!0,f));f.promise=this;f.reason=this.i;return k(f)};b.prototype.A=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)g.h(this.g[f]);this.g=null}};var g=new c;b.prototype.F=\nfunction(f){var h=this.j();f.J(h.resolve,h.reject)};b.prototype.G=function(f,h){var k=this.j();try{f.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(f,h){function k(w,r){return\"function\"==typeof w?function(y){try{l(w(y))}catch(m){n(m)}}:r}var l,n,u=new b(function(w,r){l=w;n=r});this.J(k(f,l),k(h,n));return u};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.J=function(f,h){function k(){switch(l.h){case 1:f(l.i);break;case 2:h(l.i);break;default:throw Error(\"Unexpected state: \"+\nl.h);}}var l=this;null==this.g?g.h(k):this.g.push(k);this.o=!0};b.resolve=d;b.reject=function(f){return new b(function(h,k){k(f)})};b.race=function(f){return new b(function(h,k){for(var l=K(f),n=l.next();!n.done;n=l.next())d(n.value).J(h,k)})};b.all=function(f){var h=K(f),k=h.next();return k.done?d([]):new b(function(l,n){function u(y){return function(m){w[y]=m;r--;0==r&&l(w)}}var w=[],r=0;do w.push(void 0),r++,d(k.value).J(u(w.length-1),n),k=h.next();while(!k.done)})};return b});\nJ(\"Object.is\",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});J(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});\nJ(\"String.prototype.includes\",function(a){return a?a:function(b,c){if(null==this)throw new TypeError(\"The 'this' value for String.prototype.includes must not be null or undefined\");if(b instanceof RegExp)throw new TypeError(\"First argument to String.prototype.includes must not be a regular expression\");return-1!==this.indexOf(b,c||0)}});J(\"Array.prototype.keys\",function(a){return a?a:function(){return ua(this,function(b){return b})}});var wa=this||self;\nfunction P(a,b){a=a.split(\".\");var c=wa;a[0]in c||\"undefined\"==typeof c.execScript||c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function xa(a,b){b=String.fromCharCode.apply(null,b);return null==a?b:a+b}var ya,za=\"undefined\"!==typeof TextDecoder,Aa,Ba=\"undefined\"!==typeof TextEncoder;\nfunction Ca(a){if(Ba)a=(Aa||(Aa=new TextEncoder)).encode(a);else{var b=void 0;b=void 0===b?!1:b;for(var c=0,d=new Uint8Array(3*a.length),e=0;e<a.length;e++){var g=a.charCodeAt(e);if(128>g)d[c++]=g;else{if(2048>g)d[c++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&e<a.length){var f=a.charCodeAt(++e);if(56320<=f&&57343>=f){g=1024*(g-55296)+f-56320+65536;d[c++]=g>>18|240;d[c++]=g>>12&63|128;d[c++]=g>>6&63|128;d[c++]=g&63|128;continue}else e--}if(b)throw Error(\"Found an unpaired surrogate\");g=65533}d[c++]=\ng>>12|224;d[c++]=g>>6&63|128}d[c++]=g&63|128}}a=d.subarray(0,c)}return a};var Da={},Ea=null;function Fa(a,b){void 0===b&&(b=0);Ga();b=Da[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||\"\",e=0,g=0;e<a.length-2;e+=3){var f=a[e],h=a[e+1],k=a[e+2],l=b[f>>2];f=b[(f&3)<<4|h>>4];h=b[(h&15)<<2|k>>6];k=b[k&63];c[g++]=l+f+h+k}l=0;k=d;switch(a.length-e){case 2:l=a[e+1],k=b[(l&15)<<2]||d;case 1:a=a[e],c[g]=b[a>>2]+b[(a&3)<<4|l>>4]+k+d}return c.join(\"\")}\nfunction Ha(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!=\"=.\".indexOf(a[b-1])&&(c=-1!=\"=.\".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Ia(a,function(g){d[e++]=g});return d.subarray(0,e)}\nfunction Ia(a,b){function c(k){for(;d<a.length;){var l=a.charAt(d++),n=Ea[l];if(null!=n)return n;if(!/^[\\s\\xa0]*$/.test(l))throw Error(\"Unknown base64 encoding at char: \"+l);}return k}Ga();for(var d=0;;){var e=c(-1),g=c(0),f=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|g>>4);64!=f&&(b(g<<4&240|f>>2),64!=h&&b(f<<6&192|h))}}\nfunction Ga(){if(!Ea){Ea={};for(var a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"),b=[\"+/=\",\"+/\",\"-_=\",\"-_.\",\"-_\"],c=0;5>c;c++){var d=a.concat(b[c].split(\"\"));Da[c]=d;for(var e=0;e<d.length;e++){var g=d[e];void 0===Ea[g]&&(Ea[g]=e)}}}};var Ja=\"function\"===typeof Uint8Array.prototype.slice,Ka;function La(a,b,c){return b===c?Ka||(Ka=new Uint8Array(0)):Ja?a.slice(b,c):new Uint8Array(a.subarray(b,c))}var Q=0,R=0;function Ma(a,b){b=void 0===b?{}:b;b=void 0===b.v?!1:b.v;this.h=null;this.g=this.j=this.l=0;this.m=!1;this.v=b;a&&Na(this,a)}function Na(a,b){b=b.constructor===Uint8Array?b:b.constructor===ArrayBuffer?new Uint8Array(b):b.constructor===Array?new Uint8Array(b):b.constructor===String?Ha(b):b instanceof Uint8Array?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(0);a.h=b;a.l=0;a.j=a.h.length;a.g=a.l}Ma.prototype.reset=function(){this.g=this.l};\nfunction Oa(a){for(var b=128,c=0,d=0,e=0;4>e&&128<=b;e++)b=a.h[a.g++],c|=(b&127)<<7*e;128<=b&&(b=a.h[a.g++],c|=(b&127)<<28,d|=(b&127)>>4);if(128<=b)for(e=0;5>e&&128<=b;e++)b=a.h[a.g++],d|=(b&127)<<7*e+3;if(128>b){a=c>>>0;b=d>>>0;if(d=b&2147483648)a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0);a=4294967296*b+(a>>>0);return d?-a:a}a.m=!0}\nMa.prototype.i=function(){var a=this.h,b=a[this.g],c=b&127;if(128>b)return this.g+=1,c;b=a[this.g+1];c|=(b&127)<<7;if(128>b)return this.g+=2,c;b=a[this.g+2];c|=(b&127)<<14;if(128>b)return this.g+=3,c;b=a[this.g+3];c|=(b&127)<<21;if(128>b)return this.g+=4,c;b=a[this.g+4];c|=(b&15)<<28;if(128>b)return this.g+=5,c>>>0;this.g+=5;128<=a[this.g++]&&128<=a[this.g++]&&128<=a[this.g++]&&128<=a[this.g++]&&this.g++;return c};\nMa.prototype.o=function(){var a=this.h[this.g],b=this.h[this.g+1];var c=this.h[this.g+2];var d=this.h[this.g+3];this.g+=4;c=(a<<0|b<<8|c<<16|d<<24)>>>0;a=2*(c>>31)+1;b=c>>>23&255;c&=8388607;return 255==b?c?NaN:Infinity*a:0==b?a*Math.pow(2,-149)*c:a*Math.pow(2,b-150)*(c+Math.pow(2,23))};var Pa=[];function Qa(){this.g=new Uint8Array(64);this.h=0}Qa.prototype.push=function(a){if(!(this.h+1<this.g.length)){var b=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length));this.g.set(b)}this.g[this.h++]=a};Qa.prototype.length=function(){return this.h};Qa.prototype.end=function(){var a=this.g,b=this.h;this.h=0;return La(a,0,b)};function Ra(a,b){for(;127<b;)a.push(b&127|128),b>>>=7;a.push(b)};function Sa(a){var b={},c=void 0===b.N?!1:b.N;this.o={v:void 0===b.v?!1:b.v};this.N=c;b=this.o;Pa.length?(c=Pa.pop(),b&&(c.v=b.v),a&&Na(c,a),a=c):a=new Ma(a,b);this.g=a;this.m=this.g.g;this.h=this.i=this.l=-1;this.j=!1}Sa.prototype.reset=function(){this.g.reset();this.h=this.l=-1};function S(a){var b=a.g;(b=b.g==b.j)||(b=a.j)||(b=a.g,b=b.m||0>b.g||b.g>b.j);if(b)return!1;a.m=a.g.g;b=a.g.i();var c=b&7;if(0!=c&&5!=c&&1!=c&&2!=c&&3!=c&&4!=c)return a.j=!0,!1;a.i=b;a.l=b>>>3;a.h=c;return!0}\nfunction Ta(a){switch(a.h){case 0:if(0!=a.h)Ta(a);else{for(a=a.g;a.h[a.g]&128;)a.g++;a.g++}break;case 1:1!=a.h?Ta(a):(a=a.g,a.g+=8);break;case 2:if(2!=a.h)Ta(a);else{var b=a.g.i();a=a.g;a.g+=b}break;case 5:5!=a.h?Ta(a):(a=a.g,a.g+=4);break;case 3:b=a.l;do{if(!S(a)){a.j=!0;break}if(4==a.h){a.l!=b&&(a.j=!0);break}Ta(a)}while(1);break;default:a.j=!0}}\nfunction Ua(a,b,c){var d=a.g.j,e=a.g.i(),g=a.g.g+e;a.g.j=g;c(b,a);c=g-a.g.g;if(0!==c)throw Error(\"Message parsing ended unexpectedly. Expected to read \"+e+\" bytes, instead read \"+(e-c)+\" bytes, either the data ended unexpectedly or the message misreported its own length\");a.g.g=g;a.g.j=d;return b}function T(a){return a.g.o()}\nfunction Va(a){var b=a.g.i();a=a.g;var c=a.g;a.g+=b;a=a.h;var d;if(za)(d=ya)||(d=ya=new TextDecoder(\"utf-8\",{fatal:!1})),d=d.decode(a.subarray(c,c+b));else{b=c+b;for(var e=[],g=null,f,h,k;c<b;)f=a[c++],128>f?e.push(f):224>f?c>=b?e.push(65533):(h=a[c++],194>f||128!==(h&192)?(c--,e.push(65533)):e.push((f&31)<<6|h&63)):240>f?c>=b-1?e.push(65533):(h=a[c++],128!==(h&192)||224===f&&160>h||237===f&&160<=h||128!==((d=a[c++])&192)?(c--,e.push(65533)):e.push((f&15)<<12|(h&63)<<6|d&63)):244>=f?c>=b-2?e.push(65533):\n(h=a[c++],128!==(h&192)||0!==(f<<28)+(h-144)>>30||128!==((d=a[c++])&192)||128!==((k=a[c++])&192)?(c--,e.push(65533)):(f=(f&7)<<18|(h&63)<<12|(d&63)<<6|k&63,f-=65536,e.push((f>>10&1023)+55296,(f&1023)+56320))):e.push(65533),8192<=e.length&&(g=xa(g,e),e.length=0);d=xa(g,e)}return d}function Wa(a,b,c){var d=a.g.i();for(d=a.g.g+d;a.g.g<d;)c.push(b.call(a.g))}function Xa(a,b){2==a.h?Wa(a,Ma.prototype.o,b):b.push(T(a))};function Ya(){this.h=[];this.i=0;this.g=new Qa}function Za(a,b){0!==b.length&&(a.h.push(b),a.i+=b.length)}function $a(a){var b=a.i+a.g.length();if(0===b)return new Uint8Array(0);b=new Uint8Array(b);for(var c=a.h,d=c.length,e=0,g=0;g<d;g++){var f=c[g];0!==f.length&&(b.set(f,e),e+=f.length)}c=a.g;d=c.h;0!==d&&(b.set(c.g.subarray(0,d),e),c.h=0);a.h=[b];return b}\nfunction U(a,b,c){if(null!=c){Ra(a.g,8*b+5);a=a.g;var d=c;d=(c=0>d?1:0)?-d:d;0===d?0<1/d?Q=R=0:(R=0,Q=2147483648):isNaN(d)?(R=0,Q=2147483647):3.4028234663852886E38<d?(R=0,Q=(c<<31|2139095040)>>>0):1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),R=0,Q=(c<<31|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,-b),d=Math.round(8388608*d),16777216<=d&&++b,R=0,Q=(c<<31|b+127<<23|d&8388607)>>>0);c=Q;a.push(c>>>0&255);a.push(c>>>8&255);a.push(c>>>16&255);a.push(c>>>24&255)}};var ab=\"function\"===typeof Uint8Array;function bb(a,b,c){if(null!=a)return\"object\"===typeof a?ab&&a instanceof Uint8Array?c(a):cb(a,b,c):b(a)}function cb(a,b,c){if(Array.isArray(a)){for(var d=Array(a.length),e=0;e<a.length;e++)d[e]=bb(a[e],b,c);Array.isArray(a)&&a.W&&db(d);return d}d={};for(e in a)d[e]=bb(a[e],b,c);return d}function eb(a){return\"number\"===typeof a?isFinite(a)?a:String(a):a}var fb={W:{value:!0,configurable:!0}};\nfunction db(a){Array.isArray(a)&&!Object.isFrozen(a)&&Object.defineProperties(a,fb);return a};var gb;function V(a,b,c){var d=gb;gb=null;a||(a=d);d=this.constructor.ca;a||(a=d?[d]:[]);this.j=d?0:-1;this.m=this.g=null;this.h=a;a:{d=this.h.length;a=d-1;if(d&&(d=this.h[a],!(null===d||\"object\"!=typeof d||Array.isArray(d)||ab&&d instanceof Uint8Array))){this.l=a-this.j;this.i=d;break a}void 0!==b&&-1<b?(this.l=Math.max(b,a+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)a=c[b],a<this.l?(a+=this.j,(d=this.h[a])?db(d):this.h[a]=hb):(ib(this),(d=this.i[a])?db(d):this.i[a]=hb)}\nvar hb=Object.freeze(db([]));function ib(a){var b=a.l+a.j;a.h[b]||(a.i=a.h[b]={})}function W(a,b,c){return-1===b?null:(void 0===c?0:c)||b>=a.l?a.i?a.i[b]:void 0:a.h[b+a.j]}function jb(a,b){var c=void 0===c?!1:c;var d=W(a,b,c);null==d&&(d=hb);d===hb&&(d=db([]),X(a,b,d,c));return d}function kb(a){var b=jb(a,3);a.m||(a.m={});if(!a.m[3]){for(var c=0;c<b.length;c++)b[c]=+b[c];a.m[3]=!0}return b}function lb(a,b,c){a=W(a,b);return null==a?c:a}\nfunction Y(a,b,c){a=W(a,b);a=null==a?a:+a;return null==a?void 0===c?0:c:a}function X(a,b,c,d){(void 0===d?0:d)||b>=a.l?(ib(a),a.i[b]=c):a.h[b+a.j]=c}function mb(a,b,c){if(-1===c)return null;a.g||(a.g={});if(!a.g[c]){var d=W(a,c,!1);d&&(a.g[c]=new b(d))}return a.g[c]}function nb(a,b){a.g||(a.g={});var c=a.g[1];if(!c){var d=jb(a,1);c=[];for(var e=0;e<d.length;e++)c[e]=new b(d[e]);a.g[1]=c}return c}function ob(a,b,c){var d=void 0===d?!1:d;a.g||(a.g={});var e=c?pb(c,!1):c;a.g[b]=c;X(a,b,e,d)}\nfunction qb(a,b,c,d){var e=nb(a,c);b=b?b:new c;a=jb(a,1);void 0!=d?(e.splice(d,0,b),a.splice(d,0,pb(b,!1))):(e.push(b),a.push(pb(b,!1)))}V.prototype.toJSON=function(){var a=pb(this,!1);return cb(a,eb,Fa)};function pb(a,b){if(a.g)for(var c in a.g){var d=a.g[c];if(Array.isArray(d))for(var e=0;e<d.length;e++)d[e]&&pb(d[e],b);else d&&pb(d,b)}return a.h}V.prototype.toString=function(){return pb(this,!1).toString()};function rb(a,b){if(a=a.o){Za(b,b.g.end());for(var c=0;c<a.length;c++)Za(b,a[c])}}function sb(a,b){if(4==b.h)return!1;var c=b.m;Ta(b);b.N||(b=La(b.g.h,c,b.g.g),(c=a.o)?c.push(b):a.o=[b]);return!0};function tb(a){V.call(this,a,-1,ub)}M(tb,V);tb.prototype.getRows=function(){return W(this,1)};tb.prototype.getCols=function(){return W(this,2)};tb.prototype.getPackedDataList=function(){return kb(this)};tb.prototype.getLayout=function(){return lb(this,4,0)};function vb(a,b){for(;S(b);)switch(b.i){case 8:var c=b.g.i();X(a,1,c);break;case 16:c=b.g.i();X(a,2,c);break;case 29:case 26:Xa(b,a.getPackedDataList());break;case 32:c=Oa(b.g);X(a,4,c);break;default:if(!sb(a,b))return a}return a}var ub=[3];function Z(a,b){var c=void 0;return new (c||(c=Promise))(function(d,e){function g(k){try{h(b.next(k))}catch(l){e(l)}}function f(k){try{h(b[\"throw\"](k))}catch(l){e(l)}}function h(k){k.done?d(k.value):(new c(function(l){l(k.value)})).then(g,f)}h((b=b.apply(a,void 0)).next())})};function wb(a){V.call(this,a)}M(wb,V);function xb(a,b){for(;S(b);)switch(b.i){case 8:var c=b.g.i();X(a,1,c);break;case 21:c=T(b);X(a,2,c);break;case 26:c=Va(b);X(a,3,c);break;case 34:c=Va(b);X(a,4,c);break;default:if(!sb(a,b))return a}return a};function yb(a){V.call(this,a,-1,zb)}M(yb,V);yb.prototype.addClassification=function(a,b){qb(this,a,wb,b);return this};var zb=[1];function Ab(a){V.call(this,a)}M(Ab,V);function Bb(a,b){for(;S(b);)switch(b.i){case 13:var c=T(b);X(a,1,c);break;case 21:c=T(b);X(a,2,c);break;case 29:c=T(b);X(a,3,c);break;case 37:c=T(b);X(a,4,c);break;case 45:c=T(b);X(a,5,c);break;default:if(!sb(a,b))return a}return a};function Cb(a){V.call(this,a,-1,Db)}M(Cb,V);function Eb(a){a:{var b=new Cb;for(a=new Sa(a);S(a);)switch(a.i){case 10:var c=Ua(a,new Ab,Bb);qb(b,c,Ab,void 0);break;default:if(!sb(b,a))break a}}return b}var Db=[1];function Fb(a){V.call(this,a)}M(Fb,V);function Gb(a){V.call(this,a,-1,Hb)}M(Gb,V);Gb.prototype.getVertexType=function(){return lb(this,1,0)};Gb.prototype.getPrimitiveType=function(){return lb(this,2,0)};Gb.prototype.getVertexBufferList=function(){return kb(this)};Gb.prototype.getIndexBufferList=function(){return jb(this,4)};\nfunction Ib(a,b){for(;S(b);)switch(b.i){case 8:var c=Oa(b.g);X(a,1,c);break;case 16:c=Oa(b.g);X(a,2,c);break;case 29:case 26:Xa(b,a.getVertexBufferList());break;case 32:case 34:c=b;var d=a.getIndexBufferList();2==c.h?Wa(c,Ma.prototype.i,d):d.push(c.g.i());break;default:if(!sb(a,b))return a}return a}var Hb=[3,4];function Jb(a){V.call(this,a)}M(Jb,V);Jb.prototype.getMesh=function(){return mb(this,Gb,1)};Jb.prototype.getPoseTransformMatrix=function(){return mb(this,tb,2)};function Kb(a){a:{var b=new Jb;for(a=new Sa(a);S(a);)switch(a.i){case 10:var c=Ua(a,new Gb,Ib);ob(b,1,c);break;case 18:c=Ua(a,new tb,vb);ob(b,2,c);break;default:if(!sb(b,a))break a}}return b};function Lb(a,b,c){c=a.createShader(0===c?a.VERTEX_SHADER:a.FRAGMENT_SHADER);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw Error(\"Could not compile WebGL shader.\\n\\n\"+a.getShaderInfoLog(c));return c};function Mb(a){return nb(a,wb).map(function(b){return{index:lb(b,1,0),Y:Y(b,2),label:null!=W(b,3)?lb(b,3,\"\"):void 0,displayName:null!=W(b,4)?lb(b,4,\"\"):void 0}})};function Nb(a){return{x:Y(a,1),y:Y(a,2),z:Y(a,3),visibility:null!=W(a,4)?Y(a,4):void 0}};function Ob(a,b){this.h=a;this.g=b;this.l=0}\nfunction Pb(a,b,c){Qb(a,b);if(\"function\"===typeof a.g.canvas.transferToImageBitmap)return Promise.resolve(a.g.canvas.transferToImageBitmap());if(c)return Promise.resolve(a.g.canvas);if(\"function\"===typeof createImageBitmap)return createImageBitmap(a.g.canvas);void 0===a.i&&(a.i=document.createElement(\"canvas\"));return new Promise(function(d){a.i.height=a.g.canvas.height;a.i.width=a.g.canvas.width;a.i.getContext(\"2d\",{}).drawImage(a.g.canvas,0,0,a.g.canvas.width,a.g.canvas.height);d(a.i)})}\nfunction Qb(a,b){var c=a.g;if(void 0===a.m){var d=Lb(c,\"\\n  attribute vec2 aVertex;\\n  attribute vec2 aTex;\\n  varying vec2 vTex;\\n  void main(void) {\\n    gl_Position = vec4(aVertex, 0.0, 1.0);\\n    vTex = aTex;\\n  }\",0),e=Lb(c,\"\\n  precision mediump float;\\n  varying vec2 vTex;\\n  uniform sampler2D sampler0;\\n  void main(){\\n    gl_FragColor = texture2D(sampler0, vTex);\\n  }\",1),g=c.createProgram();c.attachShader(g,d);c.attachShader(g,e);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw Error(\"Could not compile WebGL program.\\n\\n\"+\nc.getProgramInfoLog(g));d=a.m=g;c.useProgram(d);e=c.getUniformLocation(d,\"sampler0\");a.j={I:c.getAttribLocation(d,\"aVertex\"),H:c.getAttribLocation(d,\"aTex\"),da:e};a.s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.s);c.enableVertexAttribArray(a.j.I);c.vertexAttribPointer(a.j.I,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);a.o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.o);c.enableVertexAttribArray(a.j.H);c.vertexAttribPointer(a.j.H,\n2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);c.uniform1i(e,0)}d=a.j;c.useProgram(a.m);c.canvas.width=b.width;c.canvas.height=b.height;c.viewport(0,0,b.width,b.height);c.activeTexture(c.TEXTURE0);a.h.bindTexture2d(b.glName);c.enableVertexAttribArray(d.I);c.bindBuffer(c.ARRAY_BUFFER,a.s);c.vertexAttribPointer(d.I,2,c.FLOAT,!1,0,0);c.enableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,a.o);c.vertexAttribPointer(d.H,\n2,c.FLOAT,!1,0,0);c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.colorMask(!0,!0,!0,!0);c.drawArrays(c.TRIANGLE_FAN,0,4);c.disableVertexAttribArray(d.I);c.disableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,null);a.h.bindTexture2d(0)}function Rb(a){this.g=a};var Sb=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Tb(a,b){return b+a}function Ub(a,b){window[a]=b}function Vb(a){var b=document.createElement(\"script\");b.setAttribute(\"src\",a);b.setAttribute(\"crossorigin\",\"anonymous\");return new Promise(function(c){b.addEventListener(\"load\",function(){c()},!1);b.addEventListener(\"error\",function(){c()},!1);document.body.appendChild(b)})}\nfunction Wb(){return Z(this,function b(){return O(b,function(c){switch(c.g){case 1:return c.m=2,N(c,WebAssembly.instantiate(Sb),4);case 4:c.g=3;c.m=0;break;case 2:return c.m=0,c.j=null,c.return(!1);case 3:return c.return(!0)}})})}\nfunction Xb(a){this.g=a;this.listeners={};this.j={};this.F={};this.m={};this.s={};this.G=this.o=this.R=!0;this.C=Promise.resolve();this.P=\"\";this.B={};this.locateFile=a&&a.locateFile||Tb;if(\"object\"===typeof window)var b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf(\"/\"))+\"/\";else if(\"undefined\"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf(\"/\"))+\"/\";else throw Error(\"solutions can only be loaded on a web page or in a web worker\");\nthis.S=b;if(a.options){b=K(Object.keys(a.options));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.options[c].default;void 0!==d&&(this.j[c]=\"function\"===typeof d?d():d)}}}v=Xb.prototype;v.close=function(){this.i&&this.i.delete();return Promise.resolve()};function Yb(a,b){return void 0===a.g.files?[]:\"function\"===typeof a.g.files?a.g.files(b):a.g.files}\nfunction Zb(a){return Z(a,function c(){var d=this,e,g,f,h,k,l,n,u,w,r,y;return O(c,function(m){switch(m.g){case 1:e=d;if(!d.R)return m.return();g=Yb(d,d.j);return N(m,Wb(),2);case 2:f=m.h;if(\"object\"===typeof window)return Ub(\"createMediapipeSolutionsWasm\",{locateFile:d.locateFile}),Ub(\"createMediapipeSolutionsPackedAssets\",{locateFile:d.locateFile}),l=g.filter(function(t){return void 0!==t.data}),n=g.filter(function(t){return void 0===t.data}),u=Promise.all(l.map(function(t){var x=$b(e,t.url);if(void 0!==\nt.path){var z=t.path;x=x.then(function(E){e.overrideFile(z,E);return Promise.resolve(E)})}return x})),w=Promise.all(n.map(function(t){return void 0===t.simd||t.simd&&f||!t.simd&&!f?Vb(e.locateFile(t.url,e.S)):Promise.resolve()})).then(function(){return Z(e,function x(){var z,E,F=this;return O(x,function(I){if(1==I.g)return z=window.createMediapipeSolutionsWasm,E=window.createMediapipeSolutionsPackedAssets,N(I,z(E),2);F.h=I.h;I.g=0})})}),r=function(){return Z(e,function x(){var z=this;return O(x,function(E){z.g.graph&&\nz.g.graph.url?E=N(E,$b(z,z.g.graph.url),0):(E.g=0,E=void 0);return E})})}(),N(m,Promise.all([w,u,r]),7);if(\"function\"!==typeof importScripts)throw Error(\"solutions can only be loaded on a web page or in a web worker\");h=g.filter(function(t){return void 0===t.simd||t.simd&&f||!t.simd&&!f}).map(function(t){return e.locateFile(t.url,e.S)});importScripts.apply(null,L(h));return N(m,createMediapipeSolutionsWasm(Module),6);case 6:d.h=m.h;d.l=new OffscreenCanvas(1,1);d.h.canvas=d.l;k=d.h.GL.createContext(d.l,\n{antialias:!1,alpha:!1,ba:\"undefined\"!==typeof WebGL2RenderingContext?2:1});d.h.GL.makeContextCurrent(k);m.g=4;break;case 7:d.l=document.createElement(\"canvas\");y=d.l.getContext(\"webgl2\",{});if(!y&&(y=d.l.getContext(\"webgl\",{}),!y))return alert(\"Failed to create WebGL canvas context when passing video frame.\"),m.return();d.D=y;d.h.canvas=d.l;d.h.createContext(d.l,!0,!0,{});case 4:d.i=new d.h.SolutionWasm,d.R=!1,m.g=0}})})}\nfunction ac(a){return Z(a,function c(){var d=this,e,g,f,h,k,l,n,u;return O(c,function(w){if(1==w.g){if(d.g.graph&&d.g.graph.url&&d.P===d.g.graph.url)return w.return();d.o=!0;if(!d.g.graph||!d.g.graph.url){w.g=2;return}d.P=d.g.graph.url;return N(w,$b(d,d.g.graph.url),3)}2!=w.g&&(e=w.h,d.i.loadGraph(e));g=K(Object.keys(d.B));for(f=g.next();!f.done;f=g.next())h=f.value,d.i.overrideFile(h,d.B[h]);d.B={};if(d.g.listeners)for(k=K(d.g.listeners),l=k.next();!l.done;l=k.next())n=l.value,bc(d,n);u=d.j;d.j=\n{};d.setOptions(u);w.g=0})})}v.reset=function(){return Z(this,function b(){var c=this;return O(b,function(d){c.i&&(c.i.reset(),c.m={},c.s={});d.g=0})})};\nv.setOptions=function(a,b){var c=this;if(b=b||this.g.options){for(var d=[],e=[],g={},f=K(Object.keys(a)),h=f.next();!h.done;g={K:g.K,L:g.L},h=f.next()){var k=h.value;k in this.j&&this.j[k]===a[k]||(this.j[k]=a[k],h=b[k],void 0!==h&&(h.onChange&&(g.K=h.onChange,g.L=a[k],d.push(function(l){return function(){return Z(c,function u(){var w,r=this;return O(u,function(y){if(1==y.g)return N(y,l.K(l.L),2);w=y.h;!0===w&&(r.o=!0);y.g=0})})}}(g))),h.graphOptionXref&&(k={valueNumber:1===h.type?a[k]:0,valueBoolean:0===\nh.type?a[k]:!1,valueString:2===h.type?a[k]:\"\"},h=Object.assign(Object.assign(Object.assign({},{calculatorName:\"\",calculatorIndex:0}),h.graphOptionXref),k),e.push(h))))}if(0!==d.length||0!==e.length)this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(e),this.u=(void 0===this.u?[]:this.u).concat(d)}};\nfunction cc(a){return Z(a,function c(){var d=this,e,g,f,h,k,l,n;return O(c,function(u){switch(u.g){case 1:if(!d.o)return u.return();if(!d.u){u.g=2;break}e=K(d.u);g=e.next();case 3:if(g.done){u.g=5;break}f=g.value;return N(u,f(),4);case 4:g=e.next();u.g=3;break;case 5:d.u=void 0;case 2:if(d.A){h=new d.h.GraphOptionChangeRequestList;k=K(d.A);for(l=k.next();!l.done;l=k.next())n=l.value,h.push_back(n);d.i.changeOptions(h);h.delete();d.A=void 0}d.o=!1;u.g=0}})})}\nv.initialize=function(){return Z(this,function b(){var c=this;return O(b,function(d){return 1==d.g?N(d,Zb(c),2):3!=d.g?N(d,ac(c),3):N(d,cc(c),0)})})};function $b(a,b){return Z(a,function d(){var e=this,g,f;return O(d,function(h){if(b in e.F)return h.return(e.F[b]);g=e.locateFile(b,\"\");f=fetch(g).then(function(k){return k.arrayBuffer()});e.F[b]=f;return h.return(f)})})}v.overrideFile=function(a,b){this.i?this.i.overrideFile(a,b):this.B[a]=b};v.clearOverriddenFiles=function(){this.B={};this.i&&this.i.clearOverriddenFiles()};\nv.send=function(a,b){return Z(this,function d(){var e=this,g,f,h,k,l,n,u,w,r;return O(d,function(y){switch(y.g){case 1:if(!e.g.inputs)return y.return();g=1E3*(void 0===b||null===b?performance.now():b);return N(y,e.C,2);case 2:return N(y,e.initialize(),3);case 3:f=new e.h.PacketDataList;h=K(Object.keys(a));for(k=h.next();!k.done;k=h.next())if(l=k.value,n=e.g.inputs[l]){a:{var m=e;var t=a[l];switch(n.type){case \"video\":var x=m.m[n.stream];x||(x=new Ob(m.h,m.D),m.m[n.stream]=x);m=x;0===m.l&&(m.l=m.h.createTexture());\nif(\"undefined\"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement){var z=t.videoWidth;x=t.videoHeight}else\"undefined\"!==typeof HTMLImageElement&&t instanceof HTMLImageElement?(z=t.naturalWidth,x=t.naturalHeight):(z=t.width,x=t.height);x={glName:m.l,width:z,height:x};z=m.g;z.canvas.width=x.width;z.canvas.height=x.height;z.activeTexture(z.TEXTURE0);m.h.bindTexture2d(m.l);z.texImage2D(z.TEXTURE_2D,0,z.RGBA,z.RGBA,z.UNSIGNED_BYTE,t);m.h.bindTexture2d(0);m=x;break a;case \"detections\":x=m.m[n.stream];\nx||(x=new Rb(m.h),m.m[n.stream]=x);m=x;m.data||(m.data=new m.g.DetectionListData);m.data.reset(t.length);for(x=0;x<t.length;++x){z=t[x];var E=m.data,F=E.setBoundingBox,I=x;var H=z.T;var p=new Fb;X(p,1,H.Z);X(p,2,H.$);X(p,3,H.height);X(p,4,H.width);X(p,5,H.rotation);X(p,6,H.X);var A=H=new Ya;U(A,1,W(p,1));U(A,2,W(p,2));U(A,3,W(p,3));U(A,4,W(p,4));U(A,5,W(p,5));var C=W(p,6);if(null!=C&&null!=C){Ra(A.g,48);var q=A.g,B=C;C=0>B;B=Math.abs(B);var D=B>>>0;B=Math.floor((B-D)/4294967296);B>>>=0;C&&(B=~B>>>\n0,D=(~D>>>0)+1,4294967295<D&&(D=0,B++,4294967295<B&&(B=0)));Q=D;R=B;C=Q;for(D=R;0<D||127<C;)q.push(C&127|128),C=(C>>>7|D<<25)>>>0,D>>>=7;q.push(C)}rb(p,A);H=$a(H);F.call(E,I,H);if(z.O)for(E=0;E<z.O.length;++E)p=z.O[E],A=p.visibility?!0:!1,F=m.data,I=F.addNormalizedLandmark,H=x,p=Object.assign(Object.assign({},p),{visibility:A?p.visibility:0}),A=new Ab,X(A,1,p.x),X(A,2,p.y),X(A,3,p.z),p.visibility&&X(A,4,p.visibility),q=p=new Ya,U(q,1,W(A,1)),U(q,2,W(A,2)),U(q,3,W(A,3)),U(q,4,W(A,4)),U(q,5,W(A,5)),\nrb(A,q),p=$a(p),I.call(F,H,p);if(z.M)for(E=0;E<z.M.length;++E){F=m.data;I=F.addClassification;H=x;p=z.M[E];A=new wb;X(A,2,p.Y);p.index&&X(A,1,p.index);p.label&&X(A,3,p.label);p.displayName&&X(A,4,p.displayName);q=p=new Ya;D=W(A,1);if(null!=D&&null!=D)if(Ra(q.g,8),C=q.g,0<=D)Ra(C,D);else{for(B=0;9>B;B++)C.push(D&127|128),D>>=7;C.push(1)}U(q,2,W(A,2));C=W(A,3);null!=C&&(C=Ca(C),Ra(q.g,26),Ra(q.g,C.length),Za(q,q.g.end()),Za(q,C));C=W(A,4);null!=C&&(C=Ca(C),Ra(q.g,34),Ra(q.g,C.length),Za(q,q.g.end()),\nZa(q,C));rb(A,q);p=$a(p);I.call(F,H,p)}}m=m.data;break a;default:m={}}}u=m;w=n.stream;switch(n.type){case \"video\":f.pushTexture2d(Object.assign(Object.assign({},u),{stream:w,timestamp:g}));break;case \"detections\":r=u;r.stream=w;r.timestamp=g;f.pushDetectionList(r);break;default:throw Error(\"Unknown input config type: '\"+n.type+\"'\");}}e.i.send(f);return N(y,e.C,4);case 4:f.delete(),y.g=0}})})};\nfunction dc(a,b,c){return Z(a,function e(){var g,f,h,k,l,n,u=this,w,r,y,m,t,x,z,E;return O(e,function(F){switch(F.g){case 1:if(!c)return F.return(b);g={};f=0;h=K(Object.keys(c));for(k=h.next();!k.done;k=h.next())l=k.value,n=c[l],\"string\"!==typeof n&&\"texture\"===n.type&&void 0!==b[n.stream]&&++f;1<f&&(u.G=!1);w=K(Object.keys(c));k=w.next();case 2:if(k.done){F.g=4;break}r=k.value;y=c[r];if(\"string\"===typeof y)return z=g,E=r,N(F,ec(u,r,b[y]),14);m=b[y.stream];if(\"detection_list\"===y.type){if(m){var I=\nm.getRectList();for(var H=m.getLandmarksList(),p=m.getClassificationsList(),A=[],C=0;C<I.size();++C){var q=I.get(C);a:{var B=new Fb;for(q=new Sa(q);S(q);)switch(q.i){case 13:var D=T(q);X(B,1,D);break;case 21:D=T(q);X(B,2,D);break;case 29:D=T(q);X(B,3,D);break;case 37:D=T(q);X(B,4,D);break;case 45:D=T(q);X(B,5,D);break;case 48:D=Oa(q.g);X(B,6,D);break;default:if(!sb(B,q))break a}}B={Z:Y(B,1),$:Y(B,2),height:Y(B,3),width:Y(B,4),rotation:Y(B,5,0),X:lb(B,6,0)};q=nb(Eb(H.get(C)),Ab).map(Nb);var la=p.get(C);\na:for(D=new yb,la=new Sa(la);S(la);)switch(la.i){case 10:D.addClassification(Ua(la,new wb,xb));break;default:if(!sb(D,la))break a}B={T:B,O:q,M:Mb(D)};A.push(B)}I=A}else I=[];g[r]=I;F.g=7;break}if(\"proto_list\"===y.type){if(m){I=Array(m.size());for(H=0;H<m.size();H++)I[H]=m.get(H);m.delete()}else I=[];g[r]=I;F.g=7;break}if(void 0===m){F.g=3;break}if(\"float_list\"===y.type){g[r]=m;F.g=7;break}if(\"proto\"===y.type){g[r]=m;F.g=7;break}if(\"texture\"!==y.type)throw Error(\"Unknown output config type: '\"+y.type+\n\"'\");t=u.s[r];t||(t=new Ob(u.h,u.D),u.s[r]=t);return N(F,Pb(t,m,u.G),13);case 13:x=F.h,g[r]=x;case 7:y.transform&&g[r]&&(g[r]=y.transform(g[r]));F.g=3;break;case 14:z[E]=F.h;case 3:k=w.next();F.g=2;break;case 4:return F.return(g)}})})}\nfunction ec(a,b,c){return Z(a,function e(){var g=this,f;return O(e,function(h){return\"number\"===typeof c||c instanceof Uint8Array||c instanceof g.h.Uint8BlobList?h.return(c):c instanceof g.h.Texture2dDataOut?(f=g.s[b],f||(f=new Ob(g.h,g.D),g.s[b]=f),h.return(Pb(f,c,g.G))):h.return(void 0)})})}\nfunction bc(a,b){for(var c=b.name||\"$\",d=[].concat(L(b.wants)),e=new a.h.StringList,g=K(b.wants),f=g.next();!f.done;f=g.next())e.push_back(f.value);g=a.h.PacketListener.implement({onResults:function(h){for(var k={},l=0;l<b.wants.length;++l)k[d[l]]=h.get(l);var n=a.listeners[c];n&&(a.C=dc(a,k,b.outs).then(function(u){u=n(u);for(var w=0;w<b.wants.length;++w){var r=k[d[w]];\"object\"===typeof r&&r.hasOwnProperty&&r.hasOwnProperty(\"delete\")&&r.delete()}u&&(a.C=u)}))}});a.i.attachMultiListener(e,g);e.delete()}\nv.onResults=function(a,b){this.listeners[b||\"$\"]=a};P(\"Solution\",Xb);P(\"OptionType\",{BOOL:0,NUMBER:1,aa:2,0:\"BOOL\",1:\"NUMBER\",2:\"STRING\"});function fc(a){a=Kb(a);var b=a.getMesh();if(!b)return a;var c=new Float32Array(b.getVertexBufferList());b.getVertexBufferList=function(){return c};var d=new Uint32Array(b.getIndexBufferList());b.getIndexBufferList=function(){return d};return a};var gc={files:[{url:\"face_mesh_solution_packed_assets_loader.js\"},{simd:!0,url:\"face_mesh_solution_simd_wasm_bin.js\"},{simd:!1,url:\"face_mesh_solution_wasm_bin.js\"}],graph:{url:\"face_mesh.binarypb\"},listeners:[{wants:[\"multi_face_geometry\",\"image_transformed\",\"multi_face_landmarks\"],outs:{image:\"image_transformed\",multiFaceGeometry:{type:\"proto_list\",stream:\"multi_face_geometry\",transform:function(a){return a.map(fc)}},multiFaceLandmarks:{type:\"proto_list\",stream:\"multi_face_landmarks\",transform:function(a){return a.map(function(b){return nb(Eb(b),\nAb).map(Nb)})}}}}],inputs:{image:{type:\"video\",stream:\"input_frames_gpu\"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:\"InferenceCalculator\",fieldName:\"use_cpu_inference\"},default:\"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod\".split(\";\").includes(navigator.platform)||navigator.userAgent.includes(\"Mac\")&&\"ontouchend\"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:\"EnableFaceGeometryConstant\",calculatorType:\"ConstantSidePacketCalculator\",\nfieldName:\"bool_value\"}},selfieMode:{type:0,graphOptionXref:{calculatorType:\"GlScalerCalculator\",calculatorIndex:1,fieldName:\"flip_horizontal\"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:\"ConstantSidePacketCalculator\",calculatorName:\"ConstantSidePacketCalculatorNumFaces\",fieldName:\"int_value\"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:\"ConstantSidePacketCalculator\",calculatorName:\"ConstantSidePacketCalculatorRefineLandmarks\",fieldName:\"bool_value\"}},minDetectionConfidence:{type:1,\ngraphOptionXref:{calculatorType:\"TensorsToDetectionsCalculator\",calculatorName:\"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator\",fieldName:\"min_score_thresh\"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:\"ThresholdingCalculator\",calculatorName:\"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator\",fieldName:\"threshold\"}},cameraNear:{type:1,graphOptionXref:{calculatorType:\"FaceGeometryEnvGeneratorCalculator\",\nfieldName:\"near\"}},cameraFar:{type:1,graphOptionXref:{calculatorType:\"FaceGeometryEnvGeneratorCalculator\",fieldName:\"far\"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:\"FaceGeometryEnvGeneratorCalculator\",fieldName:\"vertical_fov_degrees\"}}}};var hc=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ic=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,\n385],[385,384],[384,398],[398,362]],jc=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],kc=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],lc=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],mc=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],\n[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],nc=[].concat(L(hc),L(ic),L(jc),L(kc),L(lc),L(mc));function oc(a){a=a||{};a=Object.assign(Object.assign({},gc),a);this.g=new Xb(a)}v=oc.prototype;v.close=function(){this.g.close();return Promise.resolve()};v.onResults=function(a){this.g.onResults(a)};v.initialize=function(){return Z(this,function b(){var c=this;return O(b,function(d){return N(d,c.g.initialize(),0)})})};v.reset=function(){this.g.reset()};v.send=function(a){return Z(this,function c(){var d=this;return O(c,function(e){return N(e,d.g.send(a),0)})})};v.setOptions=function(a){this.g.setOptions(a)};\nP(\"FACE_GEOMETRY\",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:\"COLUMN_MAJOR\",1:\"ROW_MAJOR\"},PrimitiveType:{TRIANGLE:0,0:\"TRIANGLE\"},VertexType:{VERTEX_PT:0,0:\"VERTEX_PT\"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1E4}});P(\"FaceMesh\",oc);P(\"FACEMESH_LIPS\",hc);P(\"FACEMESH_LEFT_EYE\",ic);P(\"FACEMESH_LEFT_EYEBROW\",jc);P(\"FACEMESH_LEFT_IRIS\",[[474,475],[475,476],[476,477],[477,474]]);P(\"FACEMESH_RIGHT_EYE\",kc);P(\"FACEMESH_RIGHT_EYEBROW\",lc);\nP(\"FACEMESH_RIGHT_IRIS\",[[469,470],[470,471],[471,472],[472,469]]);P(\"FACEMESH_FACE_OVAL\",mc);P(\"FACEMESH_CONTOURS\",nc);\nP(\"FACEMESH_TESSELATION\",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,\n214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,\n40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,\n140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,\n36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,\n149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],\n[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,\n111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],\n[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],\n[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,\n24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],\n[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,\n297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,\n416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],\n[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,\n349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,\n328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],\n[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,\n419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,\n455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],\n[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],\n[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,\n262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],\n[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,\n383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,\n120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],\n[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,\n247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],\n[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,\n157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],\n[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,\n115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,\n52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],\n[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,\n186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],\n[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],\n[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,\n431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,\n18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,\n256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],\n[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,\n366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],\n[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],\n[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,\n248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,\n429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],\n[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,\n341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],\n[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]);P(\"matrixDataToMatrix\",function(a){for(var b=a.getCols(),c=a.getRows(),d=a.getPackedDataList(),e=[],g=0;g<c;g++)e.push(Array(b));for(g=0;g<c;g++)for(var f=0;f<b;f++){var h=1===a.getLayout()?g*b+f:f*c+g;e[g][f]=d[h]}return e});P(\"VERSION\",\"0.4.1633559619\");}).call(this);\n","(function(){/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\n'use strict';var x;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\nfunction ca(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");}var y=ca(this);function B(a,b){if(b)a:{var c=y;a=a.split(\".\");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}\nB(\"Symbol\",function(a){function b(g){if(this instanceof b)throw new TypeError(\"Symbol is not a constructor\");return new c(d+(g||\"\")+\"_\"+e++,g)}function c(g,f){this.g=g;ba(this,\"description\",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d=\"jscomp_symbol_\"+(1E9*Math.random()>>>0)+\"_\",e=0;return b});\nB(\"Symbol.iterator\",function(a){if(a)return a;a=Symbol(\"Symbol.iterator\");for(var b=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),c=0;c<b.length;c++){var d=y[b[c]];\"function\"===typeof d&&\"function\"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});function da(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}\nfunction C(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ea(a){if(!(a instanceof Array)){a=C(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var fa=\"function\"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ha;\nif(\"function\"==typeof Object.setPrototypeOf)ha=Object.setPrototypeOf;else{var ia;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;ia=ka.a;break a}catch(a){}ia=!1}ha=ia?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var la=ha;\nfunction D(a,b){a.prototype=fa(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if(\"prototype\"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ra=b.prototype}function ma(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.u=this.o=0;this.j=null}function na(a){if(a.l)throw new TypeError(\"Generator is already running\");a.l=!0}ma.prototype.s=function(a){this.h=a};\nfunction oa(a,b){a.j={fa:b,ga:!0};a.g=a.o||a.u}ma.prototype.return=function(a){this.j={return:a};this.g=this.u};function F(a,b,c){a.g=c;return{value:b}}function pa(a){this.g=new ma;this.h=a}function qa(a,b){na(a.g);var c=a.g.i;if(c)return ra(a,\"return\"in c?c[\"return\"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return G(a)}\nfunction ra(a,b,c,d){try{var e=b.call(a.g.i,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.g.l=!1,e;var g=e.value}catch(f){return a.g.i=null,oa(a.g,f),G(a)}a.g.i=null;d.call(a.g,g);return G(a)}function G(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.l=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,oa(a.g,c)}a.g.l=!1;if(a.g.j){b=a.g.j;a.g.j=null;if(b.ga)throw b.fa;return{value:b.return,done:!0}}return{value:void 0,done:!0}}\nfunction sa(a){this.next=function(b){na(a.g);a.g.i?b=ra(a,a.g.i.next,b,a.g.s):(a.g.s(b),b=G(a));return b};this.throw=function(b){na(a.g);a.g.i?b=ra(a,a.g.i[\"throw\"],b,a.g.s):(oa(a.g,b),b=G(a));return b};this.return=function(b){return qa(a,b)};this[Symbol.iterator]=function(){return this}}function ta(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function g(f){f.done?d(f.value):Promise.resolve(f.value).then(b,c).then(g,e)}g(a.next())})}\nfunction I(a){return ta(new sa(new pa(a)))}\nB(\"Promise\",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.s=!1;var h=this.j();try{f(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.g=null}function d(f){return f instanceof b?f:new b(function(h){h(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var h=this;this.i(function(){h.l()})}this.g.push(f)};var e=y.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var h=0;h<f.length;++h){var k=\nf[h];f[h]=null;try{k()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};b.prototype.j=function(){function f(l){return function(m){k||(k=!0,l.call(h,m))}}var h=this,k=!1;return{resolve:f(this.D),reject:f(this.l)}};b.prototype.D=function(f){if(f===this)this.l(new TypeError(\"A Promise cannot resolve to itself\"));else if(f instanceof b)this.H(f);else{a:switch(typeof f){case \"object\":var h=null!=f;break a;case \"function\":h=!0;break a;default:h=!1}h?this.A(f):this.o(f)}};\nb.prototype.A=function(f){var h=void 0;try{h=f.then}catch(k){this.l(k);return}\"function\"==typeof h?this.I(h,f):this.o(f)};b.prototype.l=function(f){this.u(2,f)};b.prototype.o=function(f){this.u(1,f)};b.prototype.u=function(f,h){if(0!=this.h)throw Error(\"Cannot settle(\"+f+\", \"+h+\"): Promise already settled in state\"+this.h);this.h=f;this.i=h;2===this.h&&this.G();this.B()};b.prototype.G=function(){var f=this;e(function(){if(f.C()){var h=y.console;\"undefined\"!==typeof h&&h.error(f.i)}},1)};b.prototype.C=\nfunction(){if(this.s)return!1;var f=y.CustomEvent,h=y.Event,k=y.dispatchEvent;if(\"undefined\"===typeof k)return!0;\"function\"===typeof f?f=new f(\"unhandledrejection\",{cancelable:!0}):\"function\"===typeof h?f=new h(\"unhandledrejection\",{cancelable:!0}):(f=y.document.createEvent(\"CustomEvent\"),f.initCustomEvent(\"unhandledrejection\",!1,!0,f));f.promise=this;f.reason=this.i;return k(f)};b.prototype.B=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)g.h(this.g[f]);this.g=null}};var g=new c;b.prototype.H=\nfunction(f){var h=this.j();f.M(h.resolve,h.reject)};b.prototype.I=function(f,h){var k=this.j();try{f.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(f,h){function k(p,n){return\"function\"==typeof p?function(q){try{l(p(q))}catch(t){m(t)}}:n}var l,m,r=new b(function(p,n){l=p;m=n});this.M(k(f,l),k(h,m));return r};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.M=function(f,h){function k(){switch(l.h){case 1:f(l.i);break;case 2:h(l.i);break;default:throw Error(\"Unexpected state: \"+\nl.h);}}var l=this;null==this.g?g.h(k):this.g.push(k);this.s=!0};b.resolve=d;b.reject=function(f){return new b(function(h,k){k(f)})};b.race=function(f){return new b(function(h,k){for(var l=C(f),m=l.next();!m.done;m=l.next())d(m.value).M(h,k)})};b.all=function(f){var h=C(f),k=h.next();return k.done?d([]):new b(function(l,m){function r(q){return function(t){p[q]=t;n--;0==n&&l(p)}}var p=[],n=0;do p.push(void 0),n++,d(k.value).M(r(p.length-1),m),k=h.next();while(!k.done)})};return b});\nfunction ua(a,b){a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}var va=\"function\"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};B(\"Object.assign\",function(a){return a||va});\nB(\"Object.is\",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});B(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});\nB(\"String.prototype.includes\",function(a){return a?a:function(b,c){if(null==this)throw new TypeError(\"The 'this' value for String.prototype.includes must not be null or undefined\");if(b instanceof RegExp)throw new TypeError(\"First argument to String.prototype.includes must not be a regular expression\");return-1!==this.indexOf(b,c||0)}});B(\"Array.prototype.keys\",function(a){return a?a:function(){return ua(this,function(b){return b})}});var wa=this||self;\nfunction J(a,b){a=a.split(\".\");var c=wa;a[0]in c||\"undefined\"==typeof c.execScript||c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function K(){throw Error(\"Invalid UTF8\");}function xa(a,b){b=String.fromCharCode.apply(null,b);return null==a?b:a+b}var ya,za=\"undefined\"!==typeof TextDecoder,Aa,Ba=\"undefined\"!==typeof TextEncoder;var Ca={},L=null;function Da(a){var b;void 0===b&&(b=0);Ea();b=Ca[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||\"\",e=0,g=0;e<a.length-2;e+=3){var f=a[e],h=a[e+1],k=a[e+2],l=b[f>>2];f=b[(f&3)<<4|h>>4];h=b[(h&15)<<2|k>>6];k=b[k&63];c[g++]=l+f+h+k}l=0;k=d;switch(a.length-e){case 2:l=a[e+1],k=b[(l&15)<<2]||d;case 1:a=a[e],c[g]=b[a>>2]+b[(a&3)<<4|l>>4]+k+d}return c.join(\"\")}\nfunction Fa(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!=\"=.\".indexOf(a[b-1])&&(c=-1!=\"=.\".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Ga(a,function(g){d[e++]=g});return e!==c?d.subarray(0,e):d}\nfunction Ga(a,b){function c(k){for(;d<a.length;){var l=a.charAt(d++),m=L[l];if(null!=m)return m;if(!/^[\\s\\xa0]*$/.test(l))throw Error(\"Unknown base64 encoding at char: \"+l);}return k}Ea();for(var d=0;;){var e=c(-1),g=c(0),f=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|g>>4);64!=f&&(b(g<<4&240|f>>2),64!=h&&b(f<<6&192|h))}}\nfunction Ea(){if(!L){L={};for(var a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"),b=[\"+/=\",\"+/\",\"-_=\",\"-_.\",\"-_\"],c=0;5>c;c++){var d=a.concat(b[c].split(\"\"));Ca[c]=d;for(var e=0;e<d.length;e++){var g=d[e];void 0===L[g]&&(L[g]=e)}}}};var Ha=\"function\"===typeof Uint8Array;function Ia(a){return Ha&&null!=a&&a instanceof Uint8Array}var Ja;function Ka(a){this.L=a;if(null!==a&&0===a.length)throw Error(\"ByteString should be constructed with non-empty values\");};var La=\"function\"===typeof Uint8Array.prototype.slice,M=0,N=0;\nfunction Ma(a,b){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Fa(a);if(a.constructor===Ka){if(!b&&(b=a.L)&&b.constructor===Uint8Array)return b;b=a.L;b=null==b||Ia(b)?b:\"string\"===typeof b?Fa(b):null;return(a=a.L=b)?new Uint8Array(a):Ja||(Ja=new Uint8Array(0))}if(a instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error(\"Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers\");\n};function Na(a,b){return Error(\"Invalid wire type: \"+a+\" (at position \"+b+\")\")}function Oa(){return Error(\"Failed to read varint, encoding is invalid.\")};function Pa(a,b){b=void 0===b?{}:b;b=void 0===b.v?!1:b.v;this.h=null;this.g=this.i=this.j=0;this.v=b;a&&Qa(this,a)}function Qa(a,b){a.h=Ma(b,a.v);a.j=0;a.i=a.h.length;a.g=a.j}Pa.prototype.reset=function(){this.g=this.j};function O(a){if(a.g>a.i)throw Error(\"Tried to read past the end of the data \"+a.g+\" > \"+a.i);}\nfunction Q(a){var b=a.h,c=b[a.g],d=c&127;if(128>c)return a.g+=1,O(a),d;c=b[a.g+1];d|=(c&127)<<7;if(128>c)return a.g+=2,O(a),d;c=b[a.g+2];d|=(c&127)<<14;if(128>c)return a.g+=3,O(a),d;c=b[a.g+3];d|=(c&127)<<21;if(128>c)return a.g+=4,O(a),d;c=b[a.g+4];a.g+=5;d|=(c&15)<<28;if(128>c)return O(a),d;if(128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++])throw Oa();O(a);return d}var Ra=[];function Sa(){this.g=[]}Sa.prototype.length=function(){return this.g.length};Sa.prototype.end=function(){var a=this.g;this.g=[];return a};function R(a,b){for(;127<b;)a.g.push(b&127|128),b>>>=7;a.g.push(b)};function Ta(a){var b={},c=void 0===b.W?!1:b.W;this.l={v:void 0===b.v?!1:b.v};this.W=c;b=this.l;Ra.length?(c=Ra.pop(),b&&(c.v=b.v),a&&Qa(c,a),a=c):a=new Pa(a,b);this.g=a;this.j=this.g.g;this.h=this.i=-1}Ta.prototype.reset=function(){this.g.reset();this.j=this.g.g;this.h=this.i=-1};function Ua(a){var b=a.g;if(b.g==b.i)return!1;a.j=a.g.g;var c=Q(a.g)>>>0;b=c>>>3;c&=7;if(!(0<=c&&5>=c))throw Na(c,a.j);if(1>b)throw Error(\"Invalid field number: \"+b+\" (at position \"+a.j+\")\");a.i=b;a.h=c;return!0}\nfunction Va(a){switch(a.h){case 0:if(0!=a.h)Va(a);else a:{a=a.g;for(var b=a.g,c=b+10;b<c;)if(0===(a.h[b++]&128)){a.g=b;O(a);break a}throw Oa();}break;case 1:a=a.g;a.g+=8;O(a);break;case 2:2!=a.h?Va(a):(b=Q(a.g)>>>0,a=a.g,a.g+=b,O(a));break;case 5:a=a.g;a.g+=4;O(a);break;case 3:b=a.i;do{if(!Ua(a))throw Error(\"Unmatched start-group tag: stream EOF\");if(4==a.h){if(a.i!=b)throw Error(\"Unmatched end-group tag\");break}Va(a)}while(1);break;default:throw Na(a.h,a.j);}}var Wa=[];function Xa(){this.i=[];this.h=0;this.g=new Sa}function S(a,b){0!==b.length&&(a.i.push(b),a.h+=b.length)}function Ya(a,b){if(b=b.ca){S(a,a.g.end());for(var c=0;c<b.length;c++)S(a,b[c])}};var T=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol()?Symbol(void 0):void 0;function Za(a,b){Object.isFrozen(a)||(T?a[T]|=b:void 0!==a.N?a.N|=b:Object.defineProperties(a,{N:{value:b,configurable:!0,writable:!0,enumerable:!1}}))}function $a(a){var b;T?b=a[T]:b=a.N;return null==b?0:b}function U(a){Za(a,1);return a}function ab(a){return Array.isArray(a)?!!($a(a)&2):!1}function bb(a){if(!Array.isArray(a))throw Error(\"cannot mark non-array as immutable\");Za(a,2)};function cb(a){return null!==a&&\"object\"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var db=Object.freeze(U([]));function eb(a){if(ab(a.m))throw Error(\"Cannot mutate an immutable Message\");}var fb=\"undefined\"!=typeof Symbol&&\"undefined\"!=typeof Symbol.hasInstance;function gb(a){return{value:a,configurable:!1,writable:!1,enumerable:!1}};function V(a,b,c){return-1===b?null:b>=a.i?a.g?a.g[b]:void 0:(void 0===c?0:c)&&a.g&&(c=a.g[b],null!=c)?c:a.m[b+a.h]}function W(a,b,c,d){d=void 0===d?!1:d;eb(a);b<a.i&&!d?a.m[b+a.h]=c:(a.g||(a.g=a.m[a.i+a.h]={}))[b]=c}function hb(a,b,c,d){c=void 0===c?!0:c;d=void 0===d?!1:d;var e=V(a,b,d);null==e&&(e=db);if(ab(a.m))c&&(bb(e),Object.freeze(e));else if(e===db||ab(e))e=U(e.slice()),W(a,b,e,d);return e}function X(a,b,c){a=V(a,b);a=null==a?a:+a;return null==a?void 0===c?0:c:a}\nfunction ib(a,b,c,d){a.j||(a.j={});var e=ab(a.m),g=a.j[c];if(!g){d=hb(a,c,!0,void 0===d?!1:d);g=[];e=e||ab(d);for(var f=0;f<d.length;f++)g[f]=new b(d[f]),e&&bb(g[f].m);e&&(bb(g),Object.freeze(g));a.j[c]=g}return g}function jb(a,b,c,d,e){var g=void 0===g?!1:g;eb(a);g=ib(a,c,b,g);c=d?d:new c;a=hb(a,b);void 0!=e?(g.splice(e,0,c),a.splice(e,0,c.m)):(g.push(c),a.push(c.m));return c}function kb(a,b){a=V(a,b);return null==a?0:a}function lb(a,b){a=V(a,b);return null==a?\"\":a};function mb(a){switch(typeof a){case \"number\":return isFinite(a)?a:String(a);case \"object\":if(a&&!Array.isArray(a)){if(Ia(a))return Da(a);if(a instanceof Ka){var b=a.L;b=null==b||\"string\"===typeof b?b:Ha&&b instanceof Uint8Array?Da(b):null;return(a.L=b)||\"\"}}}return a};function nb(a){var b=ob;b=void 0===b?pb:b;return qb(a,b)}function rb(a,b){if(null!=a){if(Array.isArray(a))a=qb(a,b);else if(cb(a)){var c={},d;for(d in a)c[d]=rb(a[d],b);a=c}else a=b(a);return a}}function qb(a,b){for(var c=a.slice(),d=0;d<c.length;d++)c[d]=rb(c[d],b);Array.isArray(a)&&$a(a)&1&&U(c);return c}function ob(a){if(a&&\"object\"==typeof a&&a.toJSON)return a.toJSON();a=mb(a);return Array.isArray(a)?nb(a):a}function pb(a){return Ia(a)?new Uint8Array(a):a};function sb(a,b,c){a||(a=tb);tb=null;var d=this.constructor.h;a||(a=d?[d]:[]);this.h=(d?0:-1)-(this.constructor.g||0);this.j=void 0;this.m=a;a:{d=this.m.length;a=d-1;if(d&&(d=this.m[a],cb(d))){this.i=a-this.h;this.g=d;break a}void 0!==b&&-1<b?(this.i=Math.max(b,a+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)if(a=c[b],a<this.i)a+=this.h,(d=this.m[a])?Array.isArray(d)&&U(d):this.m[a]=db;else{d=this.g||(this.g=this.m[this.i+this.h]={});var e=d[a];e?Array.isArray(e)&&U(e):\nd[a]=db}}sb.prototype.toJSON=function(){return nb(this.m)};sb.prototype.toString=function(){return this.m.toString()};var tb;function ub(){sb.apply(this,arguments)}D(ub,sb);if(fb){var vb={};Object.defineProperties(ub,(vb[Symbol.hasInstance]=gb(function(){throw Error(\"Cannot perform instanceof checks for MutableMessage\");}),vb))};function wb(a,b,c){if(c){var d={},e;for(e in c){var g=c[e],f=g.ja;f||(d.F=g.pa||g.ha.P,g.ba?(d.U=xb(g.ba),f=function(h){return function(k,l,m){return h.F(k,l,m,h.U)}}(d)):g.da?(d.T=yb(g.X.g,g.da),f=function(h){return function(k,l,m){return h.F(k,l,m,h.T)}}(d)):f=d.F,g.ja=f);f(b,a,g.X);d={F:d.F,U:d.U,T:d.T}}}Ya(b,a)}var zb=Symbol();function Ab(a,b,c){return a[zb]||(a[zb]=function(d,e){return b(d,e,c)})}\nfunction Bb(a){var b=a[zb];if(!b){var c=Cb(a);b=function(d,e){return Db(d,e,c)};a[zb]=b}return b}function Eb(a){var b=a.ba;if(b)return Bb(b);if(b=a.oa)return Ab(a.X.g,b,a.da)}function Fb(a){var b=Eb(a),c=a.X,d=a.ha.O;return b?function(e,g){return d(e,g,c,b)}:function(e,g){return d(e,g,c)}}\nfunction Gb(a,b,c,d,e,g){a=a();var f=0;a.length&&\"number\"!==typeof a[0]&&(c(b,a[0]),f++);for(;f<a.length;){c=a[f++];for(var h=f+1;h<a.length&&\"number\"!==typeof a[h];)h++;var k=a[f++];h-=f;switch(h){case 0:d(b,c,k);break;case 1:d(b,c,k,a[f++]);break;case 2:e(b,c,k,a[f++],a[f++]);break;case 3:h=a[f++];var l=a[f++],m=a[f++];Array.isArray(m)?e(b,c,k,h,l,m):g(b,c,k,h,l,m);break;case 4:g(b,c,k,a[f++],a[f++],a[f++],a[f++]);break;default:throw Error(\"unexpected number of binary field arguments: \"+h);}}return b}\nvar Hb=Symbol();function xb(a){var b=a[Hb];if(!b){var c=Ib(a);b=function(d,e){return Jb(d,e,c)};a[Hb]=b}return b}function yb(a,b){var c=a[Hb];c||(c=function(d,e){return wb(d,e,b)},a[Hb]=c);return c}var Kb=Symbol();function Lb(a,b){a.push(b)}function Mb(a,b,c){a.push(b,c.P)}function Nb(a,b,c,d,e){var g=xb(e),f=c.P;a.push(b,function(h,k,l){return f(h,k,l,d,g)})}function Ob(a,b,c,d,e,g){var f=yb(d,g),h=c.P;a.push(b,function(k,l,m){return h(k,l,m,d,f)})}\nfunction Ib(a){var b=a[Kb];return b?b:Gb(a,a[Kb]=[],Lb,Mb,Nb,Ob)}var Pb=Symbol();function Qb(a,b){a[0]=b}function Rb(a,b,c,d){var e=c.O;a[b]=d?function(g,f,h){return e(g,f,h,d)}:e}function Sb(a,b,c,d,e,g){var f=c.O,h=Bb(e);a[b]=function(k,l,m){return f(k,l,m,d,h,g)}}function Tb(a,b,c,d,e,g,f){var h=c.O,k=Ab(d,e,g);a[b]=function(l,m,r){return h(l,m,r,d,k,f)}}function Cb(a){var b=a[Pb];return b?b:Gb(a,a[Pb]={},Qb,Rb,Sb,Tb)}\nfunction Db(a,b,c){for(;Ua(b)&&4!=b.h;){var d=b.i,e=c[d];if(!e){var g=c[0];g&&(g=g[d])&&(e=c[d]=Fb(g))}if(!e||!e(b,a,d))if(e=b,d=a,g=e.j,Va(e),!e.W){var f=e.g.h;e=e.g.g;e=g===e?Ja||(Ja=new Uint8Array(0)):La?f.slice(g,e):new Uint8Array(f.subarray(g,e));(g=d.ca)?g.push(e):d.ca=[e]}}return a}\nfunction Ub(a,b,c){if(Wa.length){var d=Wa.pop();a&&(Qa(d.g,a),d.i=-1,d.h=-1);a=d}else a=new Ta(a);try{return Db(new b,a,Cb(c))}finally{b=a.g,b.h=null,b.j=0,b.i=0,b.g=0,b.v=!1,a.i=-1,a.h=-1,100>Wa.length&&Wa.push(a)}}function Jb(a,b,c){for(var d=c.length,e=1==d%2,g=e?1:0;g<d;g+=2)(0,c[g+1])(b,a,c[g]);wb(a,b,e?c[0]:void 0)}function Vb(a,b){var c=new Xa;Jb(a,c,Ib(b));S(c,c.g.end());a=new Uint8Array(c.h);b=c.i;for(var d=b.length,e=0,g=0;g<d;g++){var f=b[g];a.set(f,e);e+=f.length}c.i=[a];return a}\nfunction Wb(a,b){return{O:a,P:b}}\nvar Y=Wb(function(a,b,c){if(5!==a.h)return!1;a=a.g;var d=a.h[a.g];var e=a.h[a.g+1];var g=a.h[a.g+2],f=a.h[a.g+3];a.g+=4;O(a);e=(d<<0|e<<8|g<<16|f<<24)>>>0;a=2*(e>>31)+1;d=e>>>23&255;e&=8388607;W(b,c,255==d?e?NaN:Infinity*a:0==d?a*Math.pow(2,-149)*e:a*Math.pow(2,d-150)*(e+Math.pow(2,23)));return!0},function(a,b,c){b=V(b,c);if(null!=b){R(a.g,8*c+5);a=a.g;var d=b;d=(c=0>d?1:0)?-d:d;0===d?0<1/d?M=N=0:(N=0,M=2147483648):isNaN(d)?(N=0,M=2147483647):3.4028234663852886E38<d?(N=0,M=(c<<31|2139095040)>>>0):\n1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),N=0,M=(c<<31|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,-b),d=Math.round(8388608*d),16777216<=d&&++b,N=0,M=(c<<31|b+127<<23|d&8388607)>>>0);c=M;a.g.push(c>>>0&255);a.g.push(c>>>8&255);a.g.push(c>>>16&255);a.g.push(c>>>24&255)}}),Xb=Wb(function(a,b,c){if(0!==a.h)return!1;for(var d=a.g,e=128,g=0,f=a=0;4>f&&128<=e;f++)e=d.h[d.g++],O(d),g|=(e&127)<<7*f;128<=e&&(e=d.h[d.g++],O(d),g|=(e&127)<<28,a|=(e&127)>>4);if(128<=e)for(f=0;5>\nf&&128<=e;f++)e=d.h[d.g++],O(d),a|=(e&127)<<7*f+3;if(128>e){d=g>>>0;e=a>>>0;if(a=e&2147483648)d=~d+1>>>0,e=~e>>>0,0==d&&(e=e+1>>>0);d=4294967296*e+(d>>>0)}else throw Oa();W(b,c,a?-d:d);return!0},function(a,b,c){b=V(b,c);if(null!=b&&null!=b){R(a.g,8*c);a=a.g;var d=b;c=0>d;d=Math.abs(d);b=d>>>0;d=Math.floor((d-b)/4294967296);d>>>=0;c&&(d=~d>>>0,b=(~b>>>0)+1,4294967295<b&&(b=0,d++,4294967295<d&&(d=0)));M=b;N=d;c=M;for(b=N;0<b||127<c;)a.g.push(c&127|128),c=(c>>>7|b<<25)>>>0,b>>>=7;a.g.push(c)}}),Yb=Wb(function(a,\nb,c){if(0!==a.h)return!1;W(b,c,Q(a.g));return!0},function(a,b,c){b=V(b,c);if(null!=b&&null!=b)if(R(a.g,8*c),a=a.g,c=b,0<=c)R(a,c);else{for(b=0;9>b;b++)a.g.push(c&127|128),c>>=7;a.g.push(1)}}),Zb=Wb(function(a,b,c){if(2!==a.h)return!1;var d=Q(a.g)>>>0;a=a.g;var e=a.g;a.g+=d;O(a);a=a.h;var g;if(za)(g=ya)||(g=ya=new TextDecoder(\"utf-8\",{fatal:!0})),g=g.decode(a.subarray(e,e+d));else{d=e+d;for(var f=[],h=null,k,l,m;e<d;)k=a[e++],128>k?f.push(k):224>k?e>=d?K():(l=a[e++],194>k||128!==(l&192)?(e--,K()):\nf.push((k&31)<<6|l&63)):240>k?e>=d-1?K():(l=a[e++],128!==(l&192)||224===k&&160>l||237===k&&160<=l||128!==((g=a[e++])&192)?(e--,K()):f.push((k&15)<<12|(l&63)<<6|g&63)):244>=k?e>=d-2?K():(l=a[e++],128!==(l&192)||0!==(k<<28)+(l-144)>>30||128!==((g=a[e++])&192)||128!==((m=a[e++])&192)?(e--,K()):(k=(k&7)<<18|(l&63)<<12|(g&63)<<6|m&63,k-=65536,f.push((k>>10&1023)+55296,(k&1023)+56320))):K(),8192<=f.length&&(h=xa(h,f),f.length=0);g=xa(h,f)}W(b,c,g);return!0},function(a,b,c){b=V(b,c);if(null!=b){var d=!1;\nd=void 0===d?!1:d;if(Ba){if(d&&/(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])/.test(b))throw Error(\"Found an unpaired surrogate\");b=(Aa||(Aa=new TextEncoder)).encode(b)}else{for(var e=0,g=new Uint8Array(3*b.length),f=0;f<b.length;f++){var h=b.charCodeAt(f);if(128>h)g[e++]=h;else{if(2048>h)g[e++]=h>>6|192;else{if(55296<=h&&57343>=h){if(56319>=h&&f<b.length){var k=b.charCodeAt(++f);if(56320<=k&&57343>=k){h=1024*(h-55296)+k-56320+65536;g[e++]=h>>18|240;g[e++]=h>>12&63|128;\ng[e++]=h>>6&63|128;g[e++]=h&63|128;continue}else f--}if(d)throw Error(\"Found an unpaired surrogate\");h=65533}g[e++]=h>>12|224;g[e++]=h>>6&63|128}g[e++]=h&63|128}}b=g.subarray(0,e)}R(a.g,8*c+2);R(a.g,b.length);S(a,a.g.end());S(a,b)}}),$b=Wb(function(a,b,c,d,e){if(2!==a.h)return!1;b=jb(b,c,d);c=a.g.i;d=Q(a.g)>>>0;var g=a.g.g+d,f=g-c;0>=f&&(a.g.i=g,e(b,a),f=g-a.g.g);if(f)throw Error(\"Message parsing ended unexpectedly. Expected to read \"+(d+\" bytes, instead read \"+(d-f)+\" bytes, either the data ended unexpectedly or the message misreported its own length\"));\na.g.g=g;a.g.i=c;return!0},function(a,b,c,d,e){b=ib(b,d,c);if(null!=b)for(d=0;d<b.length;d++){var g=a;R(g.g,8*c+2);var f=g.g.end();S(g,f);f.push(g.h);g=f;e(b[d],a);f=a;var h=g.pop();for(h=f.h+f.g.length()-h;127<h;)g.push(h&127|128),h>>>=7,f.h++;g.push(h);f.h++}});function Z(){ub.apply(this,arguments)}D(Z,ub);if(fb){var ac={};Object.defineProperties(Z,(ac[Symbol.hasInstance]=gb(Object[Symbol.hasInstance]),ac))};function bc(a){Z.call(this,a)}D(bc,Z);function cc(){return[1,Yb,2,Y,3,Zb,4,Zb]};function dc(a){Z.call(this,a,-1,ec)}D(dc,Z);dc.prototype.addClassification=function(a,b){jb(this,1,bc,a,b);return this};function fc(){return[1,$b,bc,cc]}var ec=[1];function gc(a){Z.call(this,a)}D(gc,Z);function hc(){return[1,Y,2,Y,3,Y,4,Y,5,Y]};function ic(a){Z.call(this,a,-1,jc)}D(ic,Z);function kc(){return[1,$b,gc,hc]}var jc=[1];function lc(a){Z.call(this,a)}D(lc,Z);function mc(){return[1,Y,2,Y,3,Y,4,Y,5,Y,6,Xb]};function nc(a,b,c){c=a.createShader(0===c?a.VERTEX_SHADER:a.FRAGMENT_SHADER);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw Error(\"Could not compile WebGL shader.\\n\\n\"+a.getShaderInfoLog(c));return c};function oc(a){return ib(a,bc,1).map(function(b){return{index:kb(b,1),score:X(b,2),label:null!=V(b,3)?lb(b,3):void 0,displayName:null!=V(b,4)?lb(b,4):void 0}})};function pc(a){return{x:X(a,1),y:X(a,2),z:X(a,3),visibility:null!=V(a,4)?X(a,4):void 0}}function qc(a){return a.map(function(b){return ib(Ub(b,ic,kc),gc,1).map(pc)})};function rc(a,b){this.h=a;this.g=b;this.l=0}\nfunction sc(a,b,c){tc(a,b);if(\"function\"===typeof a.g.canvas.transferToImageBitmap)return Promise.resolve(a.g.canvas.transferToImageBitmap());if(c)return Promise.resolve(a.g.canvas);if(\"function\"===typeof createImageBitmap)return createImageBitmap(a.g.canvas);void 0===a.i&&(a.i=document.createElement(\"canvas\"));return new Promise(function(d){a.i.height=a.g.canvas.height;a.i.width=a.g.canvas.width;a.i.getContext(\"2d\",{}).drawImage(a.g.canvas,0,0,a.g.canvas.width,a.g.canvas.height);d(a.i)})}\nfunction tc(a,b){var c=a.g;if(void 0===a.o){var d=nc(c,\"\\n  attribute vec2 aVertex;\\n  attribute vec2 aTex;\\n  varying vec2 vTex;\\n  void main(void) {\\n    gl_Position = vec4(aVertex, 0.0, 1.0);\\n    vTex = aTex;\\n  }\",0),e=nc(c,\"\\n  precision mediump float;\\n  varying vec2 vTex;\\n  uniform sampler2D sampler0;\\n  void main(){\\n    gl_FragColor = texture2D(sampler0, vTex);\\n  }\",1),g=c.createProgram();c.attachShader(g,d);c.attachShader(g,e);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw Error(\"Could not compile WebGL program.\\n\\n\"+\nc.getProgramInfoLog(g));d=a.o=g;c.useProgram(d);e=c.getUniformLocation(d,\"sampler0\");a.j={K:c.getAttribLocation(d,\"aVertex\"),J:c.getAttribLocation(d,\"aTex\"),qa:e};a.u=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.u);c.enableVertexAttribArray(a.j.K);c.vertexAttribPointer(a.j.K,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);a.s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.s);c.enableVertexAttribArray(a.j.J);c.vertexAttribPointer(a.j.J,\n2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);c.uniform1i(e,0)}d=a.j;c.useProgram(a.o);c.canvas.width=b.width;c.canvas.height=b.height;c.viewport(0,0,b.width,b.height);c.activeTexture(c.TEXTURE0);a.h.bindTexture2d(b.glName);c.enableVertexAttribArray(d.K);c.bindBuffer(c.ARRAY_BUFFER,a.u);c.vertexAttribPointer(d.K,2,c.FLOAT,!1,0,0);c.enableVertexAttribArray(d.J);c.bindBuffer(c.ARRAY_BUFFER,a.s);c.vertexAttribPointer(d.J,\n2,c.FLOAT,!1,0,0);c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.colorMask(!0,!0,!0,!0);c.drawArrays(c.TRIANGLE_FAN,0,4);c.disableVertexAttribArray(d.K);c.disableVertexAttribArray(d.J);c.bindBuffer(c.ARRAY_BUFFER,null);a.h.bindTexture2d(0)}function uc(a){this.g=a};var vc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function wc(a,b){return b+a}function xc(a,b){window[a]=b}function yc(a){var b=document.createElement(\"script\");b.setAttribute(\"src\",a);b.setAttribute(\"crossorigin\",\"anonymous\");return new Promise(function(c){b.addEventListener(\"load\",function(){c()},!1);b.addEventListener(\"error\",function(){c()},!1);document.body.appendChild(b)})}\nfunction zc(){return I(function(a){switch(a.g){case 1:return a.o=2,F(a,WebAssembly.instantiate(vc),4);case 4:a.g=3;a.o=0;break;case 2:return a.o=0,a.j=null,a.return(!1);case 3:return a.return(!0)}})}\nfunction Ac(a){this.g=a;this.listeners={};this.j={};this.H={};this.o={};this.u={};this.I=this.s=this.$=!0;this.D=Promise.resolve();this.Z=\"\";this.C={};this.locateFile=a&&a.locateFile||wc;if(\"object\"===typeof window)var b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf(\"/\"))+\"/\";else if(\"undefined\"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf(\"/\"))+\"/\";else throw Error(\"solutions can only be loaded on a web page or in a web worker\");\nthis.aa=b;if(a.options){b=C(Object.keys(a.options));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.options[c].default;void 0!==d&&(this.j[c]=\"function\"===typeof d?d():d)}}}x=Ac.prototype;x.close=function(){this.i&&this.i.delete();return Promise.resolve()};\nfunction Bc(a){var b,c,d,e,g,f,h,k,l,m,r;return I(function(p){switch(p.g){case 1:if(!a.$)return p.return();b=void 0===a.g.files?[]:\"function\"===typeof a.g.files?a.g.files(a.j):a.g.files;return F(p,zc(),2);case 2:c=p.h;if(\"object\"===typeof window)return xc(\"createMediapipeSolutionsWasm\",{locateFile:a.locateFile}),xc(\"createMediapipeSolutionsPackedAssets\",{locateFile:a.locateFile}),f=b.filter(function(n){return void 0!==n.data}),h=b.filter(function(n){return void 0===n.data}),k=Promise.all(f.map(function(n){var q=\nCc(a,n.url);if(void 0!==n.path){var t=n.path;q=q.then(function(w){a.overrideFile(t,w);return Promise.resolve(w)})}return q})),l=Promise.all(h.map(function(n){return void 0===n.simd||n.simd&&c||!n.simd&&!c?yc(a.locateFile(n.url,a.aa)):Promise.resolve()})).then(function(){var n,q,t;return I(function(w){if(1==w.g)return n=window.createMediapipeSolutionsWasm,q=window.createMediapipeSolutionsPackedAssets,t=a,F(w,n(q),2);t.h=w.h;w.g=0})}),m=function(){return I(function(n){a.g.graph&&a.g.graph.url?n=F(n,\nCc(a,a.g.graph.url),0):(n.g=0,n=void 0);return n})}(),F(p,Promise.all([l,k,m]),7);if(\"function\"!==typeof importScripts)throw Error(\"solutions can only be loaded on a web page or in a web worker\");d=b.filter(function(n){return void 0===n.simd||n.simd&&c||!n.simd&&!c}).map(function(n){return a.locateFile(n.url,a.aa)});importScripts.apply(null,ea(d));e=a;return F(p,createMediapipeSolutionsWasm(Module),6);case 6:e.h=p.h;a.l=new OffscreenCanvas(1,1);a.h.canvas=a.l;g=a.h.GL.createContext(a.l,{antialias:!1,\nalpha:!1,na:\"undefined\"!==typeof WebGL2RenderingContext?2:1});a.h.GL.makeContextCurrent(g);p.g=4;break;case 7:a.l=document.createElement(\"canvas\");r=a.l.getContext(\"webgl2\",{});if(!r&&(r=a.l.getContext(\"webgl\",{}),!r))return alert(\"Failed to create WebGL canvas context when passing video frame.\"),p.return();a.G=r;a.h.canvas=a.l;a.h.createContext(a.l,!0,!0,{});case 4:a.i=new a.h.SolutionWasm,a.$=!1,p.g=0}})}\nfunction Dc(a){var b,c,d,e,g,f,h,k;return I(function(l){if(1==l.g){if(a.g.graph&&a.g.graph.url&&a.Z===a.g.graph.url)return l.return();a.s=!0;if(!a.g.graph||!a.g.graph.url){l.g=2;return}a.Z=a.g.graph.url;return F(l,Cc(a,a.g.graph.url),3)}2!=l.g&&(b=l.h,a.i.loadGraph(b));c=C(Object.keys(a.C));for(d=c.next();!d.done;d=c.next())e=d.value,a.i.overrideFile(e,a.C[e]);a.C={};if(a.g.listeners)for(g=C(a.g.listeners),f=g.next();!f.done;f=g.next())h=f.value,Ec(a,h);k=a.j;a.j={};a.setOptions(k);l.g=0})}\nx.reset=function(){var a=this;return I(function(b){a.i&&(a.i.reset(),a.o={},a.u={});b.g=0})};\nx.setOptions=function(a,b){var c=this;if(b=b||this.g.options){for(var d=[],e=[],g={},f=C(Object.keys(a)),h=f.next();!h.done;g={R:g.R,S:g.S},h=f.next()){var k=h.value;k in this.j&&this.j[k]===a[k]||(this.j[k]=a[k],h=b[k],void 0!==h&&(h.onChange&&(g.R=h.onChange,g.S=a[k],d.push(function(l){return function(){var m;return I(function(r){if(1==r.g)return F(r,l.R(l.S),2);m=r.h;!0===m&&(c.s=!0);r.g=0})}}(g))),h.graphOptionXref&&(k={valueNumber:1===h.type?a[k]:0,valueBoolean:0===h.type?a[k]:!1,valueString:2===\nh.type?a[k]:\"\"},h=Object.assign(Object.assign(Object.assign({},{calculatorName:\"\",calculatorIndex:0}),h.graphOptionXref),k),e.push(h))))}if(0!==d.length||0!==e.length)this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(e),this.A=(void 0===this.A?[]:this.A).concat(d)}};\nfunction Fc(a){var b,c,d,e,g,f,h;return I(function(k){switch(k.g){case 1:if(!a.s)return k.return();if(!a.A){k.g=2;break}b=C(a.A);c=b.next();case 3:if(c.done){k.g=5;break}d=c.value;return F(k,d(),4);case 4:c=b.next();k.g=3;break;case 5:a.A=void 0;case 2:if(a.B){e=new a.h.GraphOptionChangeRequestList;g=C(a.B);for(f=g.next();!f.done;f=g.next())h=f.value,e.push_back(h);a.i.changeOptions(e);e.delete();a.B=void 0}a.s=!1;k.g=0}})}\nx.initialize=function(){var a=this;return I(function(b){return 1==b.g?F(b,Bc(a),2):3!=b.g?F(b,Dc(a),3):F(b,Fc(a),0)})};function Cc(a,b){var c,d;return I(function(e){if(b in a.H)return e.return(a.H[b]);c=a.locateFile(b,\"\");d=fetch(c).then(function(g){return g.arrayBuffer()});a.H[b]=d;return e.return(d)})}x.overrideFile=function(a,b){this.i?this.i.overrideFile(a,b):this.C[a]=b};x.clearOverriddenFiles=function(){this.C={};this.i&&this.i.clearOverriddenFiles()};\nx.send=function(a,b){var c=this,d,e,g,f,h,k,l,m,r;return I(function(p){switch(p.g){case 1:if(!c.g.inputs)return p.return();d=1E3*(void 0===b||null===b?performance.now():b);return F(p,c.D,2);case 2:return F(p,c.initialize(),3);case 3:e=new c.h.PacketDataList;g=C(Object.keys(a));for(f=g.next();!f.done;f=g.next())if(h=f.value,k=c.g.inputs[h]){a:{var n=a[h];switch(k.type){case \"video\":var q=c.o[k.stream];q||(q=new rc(c.h,c.G),c.o[k.stream]=q);0===q.l&&(q.l=q.h.createTexture());if(\"undefined\"!==typeof HTMLVideoElement&&\nn instanceof HTMLVideoElement){var t=n.videoWidth;var w=n.videoHeight}else\"undefined\"!==typeof HTMLImageElement&&n instanceof HTMLImageElement?(t=n.naturalWidth,w=n.naturalHeight):(t=n.width,w=n.height);w={glName:q.l,width:t,height:w};t=q.g;t.canvas.width=w.width;t.canvas.height=w.height;t.activeTexture(t.TEXTURE0);q.h.bindTexture2d(q.l);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);q.h.bindTexture2d(0);q=w;break a;case \"detections\":q=c.o[k.stream];q||(q=new uc(c.h),c.o[k.stream]=q);\nq.data||(q.data=new q.g.DetectionListData);q.data.reset(n.length);for(w=0;w<n.length;++w){t=n[w];var v=q.data,A=v.setBoundingBox,H=w;var E=t.ea;var u=new lc;W(u,1,E.ka);W(u,2,E.la);W(u,3,E.height);W(u,4,E.width);W(u,5,E.rotation);W(u,6,E.ia);E=Vb(u,mc);A.call(v,H,E);if(t.Y)for(v=0;v<t.Y.length;++v){u=t.Y[v];var z=u.visibility?!0:!1;A=q.data;H=A.addNormalizedLandmark;E=w;u=Object.assign(Object.assign({},u),{visibility:z?u.visibility:0});z=new gc;W(z,1,u.x);W(z,2,u.y);W(z,3,u.z);u.visibility&&W(z,4,\nu.visibility);u=Vb(z,hc);H.call(A,E,u)}if(t.V)for(v=0;v<t.V.length;++v)A=q.data,H=A.addClassification,E=w,u=t.V[v],z=new bc,W(z,2,u.score),u.index&&W(z,1,u.index),u.label&&W(z,3,u.label),u.displayName&&W(z,4,u.displayName),u=Vb(z,cc),H.call(A,E,u)}q=q.data;break a;default:q={}}}l=q;m=k.stream;switch(k.type){case \"video\":e.pushTexture2d(Object.assign(Object.assign({},l),{stream:m,timestamp:d}));break;case \"detections\":r=l;r.stream=m;r.timestamp=d;e.pushDetectionList(r);break;default:throw Error(\"Unknown input config type: '\"+\nk.type+\"'\");}}c.i.send(e);return F(p,c.D,4);case 4:e.delete(),p.g=0}})};\nfunction Gc(a,b,c){var d,e,g,f,h,k,l,m,r,p,n,q,t,w;return I(function(v){switch(v.g){case 1:if(!c)return v.return(b);d={};e=0;g=C(Object.keys(c));for(f=g.next();!f.done;f=g.next())h=f.value,k=c[h],\"string\"!==typeof k&&\"texture\"===k.type&&void 0!==b[k.stream]&&++e;1<e&&(a.I=!1);l=C(Object.keys(c));f=l.next();case 2:if(f.done){v.g=4;break}m=f.value;r=c[m];if(\"string\"===typeof r)return t=d,w=m,F(v,Hc(a,m,b[r]),14);p=b[r.stream];if(\"detection_list\"===r.type){if(p){var A=p.getRectList();for(var H=p.getLandmarksList(),\nE=p.getClassificationsList(),u=[],z=0;z<A.size();++z){var P=Ub(A.get(z),lc,mc);P={ea:{ka:X(P,1),la:X(P,2),height:X(P,3),width:X(P,4),rotation:X(P,5,0),ia:kb(P,6)},Y:ib(Ub(H.get(z),ic,kc),gc,1).map(pc),V:oc(Ub(E.get(z),dc,fc))};u.push(P)}A=u}else A=[];d[m]=A;v.g=7;break}if(\"proto_list\"===r.type){if(p){A=Array(p.size());for(H=0;H<p.size();H++)A[H]=p.get(H);p.delete()}else A=[];d[m]=A;v.g=7;break}if(void 0===p){v.g=3;break}if(\"float_list\"===r.type){d[m]=p;v.g=7;break}if(\"proto\"===r.type){d[m]=p;v.g=\n7;break}if(\"texture\"!==r.type)throw Error(\"Unknown output config type: '\"+r.type+\"'\");n=a.u[m];n||(n=new rc(a.h,a.G),a.u[m]=n);return F(v,sc(n,p,a.I),13);case 13:q=v.h,d[m]=q;case 7:r.transform&&d[m]&&(d[m]=r.transform(d[m]));v.g=3;break;case 14:t[w]=v.h;case 3:f=l.next();v.g=2;break;case 4:return v.return(d)}})}\nfunction Hc(a,b,c){var d;return I(function(e){return\"number\"===typeof c||c instanceof Uint8Array||c instanceof a.h.Uint8BlobList?e.return(c):c instanceof a.h.Texture2dDataOut?(d=a.u[b],d||(d=new rc(a.h,a.G),a.u[b]=d),e.return(sc(d,c,a.I))):e.return(void 0)})}\nfunction Ec(a,b){for(var c=b.name||\"$\",d=[].concat(ea(b.wants)),e=new a.h.StringList,g=C(b.wants),f=g.next();!f.done;f=g.next())e.push_back(f.value);g=a.h.PacketListener.implement({onResults:function(h){for(var k={},l=0;l<b.wants.length;++l)k[d[l]]=h.get(l);var m=a.listeners[c];m&&(a.D=Gc(a,k,b.outs).then(function(r){r=m(r);for(var p=0;p<b.wants.length;++p){var n=k[d[p]];\"object\"===typeof n&&n.hasOwnProperty&&n.hasOwnProperty(\"delete\")&&n.delete()}r&&(a.D=r)}))}});a.i.attachMultiListener(e,g);e.delete()}\nx.onResults=function(a,b){this.listeners[b||\"$\"]=a};J(\"Solution\",Ac);J(\"OptionType\",{BOOL:0,NUMBER:1,ma:2,0:\"BOOL\",1:\"NUMBER\",2:\"STRING\"});function Ic(a){void 0===a&&(a=0);return 1===a?\"hand_landmark_full.tflite\":\"hand_landmark_lite.tflite\"}\nfunction Jc(a){var b=this;a=a||{};this.g=new Ac({locateFile:a.locateFile,files:function(c){return[{url:\"hands_solution_packed_assets_loader.js\"},{simd:!1,url:\"hands_solution_wasm_bin.js\"},{simd:!0,url:\"hands_solution_simd_wasm_bin.js\"},{data:!0,url:Ic(c.modelComplexity)}]},graph:{url:\"hands.binarypb\"},inputs:{image:{type:\"video\",stream:\"input_frames_gpu\"}},listeners:[{wants:[\"multi_hand_landmarks\",\"multi_hand_world_landmarks\",\"image_transformed\",\"multi_handedness\"],outs:{image:\"image_transformed\",\nmultiHandLandmarks:{type:\"proto_list\",stream:\"multi_hand_landmarks\",transform:qc},multiHandWorldLandmarks:{type:\"proto_list\",stream:\"multi_hand_world_landmarks\",transform:qc},multiHandedness:{type:\"proto_list\",stream:\"multi_handedness\",transform:function(c){return c.map(function(d){return oc(Ub(d,dc,fc))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:\"InferenceCalculator\",fieldName:\"use_cpu_inference\"},default:\"object\"!==typeof window||void 0===window.navigator?!1:\"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod\".split(\";\").includes(navigator.platform)||\nnavigator.userAgent.includes(\"Mac\")&&\"ontouchend\"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:\"GlScalerCalculator\",calculatorIndex:1,fieldName:\"flip_horizontal\"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:\"ConstantSidePacketCalculator\",calculatorName:\"ConstantSidePacketCalculator\",fieldName:\"int_value\"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:\"ConstantSidePacketCalculator\",calculatorName:\"ConstantSidePacketCalculatorModelComplexity\",fieldName:\"int_value\"},\nonChange:function(c){var d,e,g;return I(function(f){if(1==f.g)return d=Ic(c),e=\"third_party/mediapipe/modules/hand_landmark/\"+d,F(f,Cc(b.g,d),2);g=f.h;b.g.overrideFile(e,g);return f.return(!0)})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:\"TensorsToDetectionsCalculator\",calculatorName:\"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator\",fieldName:\"min_score_thresh\"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:\"ThresholdingCalculator\",calculatorName:\"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator\",\nfieldName:\"threshold\"}}}})}x=Jc.prototype;x.close=function(){this.g.close();return Promise.resolve()};x.onResults=function(a){this.g.onResults(a)};x.initialize=function(){var a=this;return I(function(b){return F(b,a.g.initialize(),0)})};x.reset=function(){this.g.reset()};x.send=function(a){var b=this;return I(function(c){return F(c,b.g.send(a),0)})};x.setOptions=function(a){this.g.setOptions(a)};J(\"Hands\",Jc);\nJ(\"HAND_CONNECTIONS\",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);J(\"VERSION\",\"0.4.1646424915\");}).call(this);\n","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Split } from \"../channel/Split\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { assert, assertRange } from \"../../core/util/Debug\";\n/**\n * Wrapper around the native Web Audio's [AnalyserNode](http://webaudio.github.io/web-audio-api/#idl-def-AnalyserNode).\n * Extracts FFT or Waveform data from the incoming signal.\n * @category Component\n */\nexport class Analyser extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Analyser.getDefaults(), arguments, [\"type\", \"size\"]));\n        this.name = \"Analyser\";\n        /**\n         * The analyser node.\n         */\n        this._analysers = [];\n        /**\n         * The buffer that the FFT data is written to\n         */\n        this._buffers = [];\n        const options = optionsFromArguments(Analyser.getDefaults(), arguments, [\"type\", \"size\"]);\n        this.input = this.output = this._gain = new Gain({ context: this.context });\n        this._split = new Split({\n            context: this.context,\n            channels: options.channels,\n        });\n        this.input.connect(this._split);\n        assertRange(options.channels, 1);\n        // create the analysers\n        for (let channel = 0; channel < options.channels; channel++) {\n            this._analysers[channel] = this.context.createAnalyser();\n            this._split.connect(this._analysers[channel], channel, 0);\n        }\n        // set the values initially\n        this.size = options.size;\n        this.type = options.type;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            size: 1024,\n            smoothing: 0.8,\n            type: \"fft\",\n            channels: 1,\n        });\n    }\n    /**\n     * Run the analysis given the current settings. If [[channels]] = 1,\n     * it will return a Float32Array. If [[channels]] > 1, it will\n     * return an array of Float32Arrays where each index in the array\n     * represents the analysis done on a channel.\n     */\n    getValue() {\n        this._analysers.forEach((analyser, index) => {\n            const buffer = this._buffers[index];\n            if (this._type === \"fft\") {\n                analyser.getFloatFrequencyData(buffer);\n            }\n            else if (this._type === \"waveform\") {\n                analyser.getFloatTimeDomainData(buffer);\n            }\n        });\n        if (this.channels === 1) {\n            return this._buffers[0];\n        }\n        else {\n            return this._buffers;\n        }\n    }\n    /**\n     * The size of analysis. This must be a power of two in the range 16 to 16384.\n     */\n    get size() {\n        return this._analysers[0].frequencyBinCount;\n    }\n    set size(size) {\n        this._analysers.forEach((analyser, index) => {\n            analyser.fftSize = size * 2;\n            this._buffers[index] = new Float32Array(size);\n        });\n    }\n    /**\n     * The number of channels the analyser does the analysis on. Channel\n     * separation is done using [[Split]]\n     */\n    get channels() {\n        return this._analysers.length;\n    }\n    /**\n     * The analysis function returned by analyser.getValue(), either \"fft\" or \"waveform\".\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        assert(type === \"waveform\" || type === \"fft\", `Analyser: invalid type: ${type}`);\n        this._type = type;\n    }\n    /**\n     * 0 represents no time averaging with the last analysis frame.\n     */\n    get smoothing() {\n        return this._analysers[0].smoothingTimeConstant;\n    }\n    set smoothing(val) {\n        this._analysers.forEach(a => a.smoothingTimeConstant = val);\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._analysers.forEach(a => a.disconnect());\n        this._split.dispose();\n        this._gain.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Analyser.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { dbToGain } from \"../../core/type/Conversions\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { MeterBase } from \"./MeterBase\";\nimport { assert } from \"../../core/util/Debug\";\n/**\n * Get the current frequency data of the connected audio source using a fast Fourier transform.\n * @category Component\n */\nexport class FFT extends MeterBase {\n    constructor() {\n        super(optionsFromArguments(FFT.getDefaults(), arguments, [\"size\"]));\n        this.name = \"FFT\";\n        const options = optionsFromArguments(FFT.getDefaults(), arguments, [\"size\"]);\n        this.normalRange = options.normalRange;\n        this._analyser.type = \"fft\";\n        this.size = options.size;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            normalRange: false,\n            size: 1024,\n            smoothing: 0.8,\n        });\n    }\n    /**\n     * Gets the current frequency data from the connected audio source.\n     * Returns the frequency data of length [[size]] as a Float32Array of decibel values.\n     */\n    getValue() {\n        const values = this._analyser.getValue();\n        return values.map(v => this.normalRange ? dbToGain(v) : v);\n    }\n    /**\n     * The size of analysis. This must be a power of two in the range 16 to 16384.\n     * Determines the size of the array returned by [[getValue]] (i.e. the number of\n     * frequency bins). Large FFT sizes may be costly to compute.\n     */\n    get size() {\n        return this._analyser.size;\n    }\n    set size(size) {\n        this._analyser.size = size;\n    }\n    /**\n     * 0 represents no time averaging with the last analysis frame.\n     */\n    get smoothing() {\n        return this._analyser.smoothing;\n    }\n    set smoothing(val) {\n        this._analyser.smoothing = val;\n    }\n    /**\n     * Returns the frequency value in hertz of each of the indices of the FFT's [[getValue]] response.\n     * @example\n     * const fft = new Tone.FFT(32);\n     * console.log([0, 1, 2, 3, 4].map(index => fft.getFrequencyOfIndex(index)));\n     */\n    getFrequencyOfIndex(index) {\n        assert(0 <= index && index < this.size, `index must be greater than or equal to 0 and less than ${this.size}`);\n        return index * this.context.sampleRate / (this.size * 2);\n    }\n}\n//# sourceMappingURL=FFT.js.map","import { gainToDb } from \"../../core/type/Conversions\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { MeterBase } from \"./MeterBase\";\nimport { warn } from \"../../core/util/Debug\";\nimport { Analyser } from \"./Analyser\";\n/**\n * Meter gets the [RMS](https://en.wikipedia.org/wiki/Root_mean_square)\n * of an input signal. It can also get the raw value of the input signal.\n *\n * @example\n * const meter = new Tone.Meter();\n * const mic = new Tone.UserMedia();\n * mic.open();\n * // connect mic to the meter\n * mic.connect(meter);\n * // the current level of the mic\n * setInterval(() => console.log(meter.getValue()), 100);\n * @category Component\n */\nexport class Meter extends MeterBase {\n    constructor() {\n        super(optionsFromArguments(Meter.getDefaults(), arguments, [\"smoothing\"]));\n        this.name = \"Meter\";\n        /**\n         * The previous frame's value\n         */\n        this._rms = 0;\n        const options = optionsFromArguments(Meter.getDefaults(), arguments, [\"smoothing\"]);\n        this.input = this.output = this._analyser = new Analyser({\n            context: this.context,\n            size: 256,\n            type: \"waveform\",\n            channels: options.channels,\n        });\n        this.smoothing = options.smoothing,\n            this.normalRange = options.normalRange;\n    }\n    static getDefaults() {\n        return Object.assign(MeterBase.getDefaults(), {\n            smoothing: 0.8,\n            normalRange: false,\n            channels: 1,\n        });\n    }\n    /**\n     * Use [[getValue]] instead. For the previous getValue behavior, use DCMeter.\n     * @deprecated\n     */\n    getLevel() {\n        warn(\"'getLevel' has been changed to 'getValue'\");\n        return this.getValue();\n    }\n    /**\n     * Get the current value of the incoming signal.\n     * Output is in decibels when [[normalRange]] is `false`.\n     * If [[channels]] = 1, then the output is a single number\n     * representing the value of the input signal. When [[channels]] > 1,\n     * then each channel is returned as a value in a number array.\n     */\n    getValue() {\n        const aValues = this._analyser.getValue();\n        const channelValues = this.channels === 1 ? [aValues] : aValues;\n        const vals = channelValues.map(values => {\n            const totalSquared = values.reduce((total, current) => total + current * current, 0);\n            const rms = Math.sqrt(totalSquared / values.length);\n            // the rms can only fall at the rate of the smoothing\n            // but can jump up instantly\n            this._rms = Math.max(rms, this._rms * this.smoothing);\n            return this.normalRange ? this._rms : gainToDb(this._rms);\n        });\n        if (this.channels === 1) {\n            return vals[0];\n        }\n        else {\n            return vals;\n        }\n    }\n    /**\n     * The number of channels of analysis.\n     */\n    get channels() {\n        return this._analyser.channels;\n    }\n    dispose() {\n        super.dispose();\n        this._analyser.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Meter.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Analyser } from \"./Analyser\";\n/**\n * The base class for Metering classes.\n */\nexport class MeterBase extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(MeterBase.getDefaults(), arguments));\n        this.name = \"MeterBase\";\n        this.input = this.output = this._analyser = new Analyser({\n            context: this.context,\n            size: 256,\n            type: \"waveform\",\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._analyser.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=MeterBase.js.map","import { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { MeterBase } from \"./MeterBase\";\n/**\n * Get the current waveform data of the connected audio source.\n * @category Component\n */\nexport class Waveform extends MeterBase {\n    constructor() {\n        super(optionsFromArguments(Waveform.getDefaults(), arguments, [\"size\"]));\n        this.name = \"Waveform\";\n        const options = optionsFromArguments(Waveform.getDefaults(), arguments, [\"size\"]);\n        this._analyser.type = \"waveform\";\n        this.size = options.size;\n    }\n    static getDefaults() {\n        return Object.assign(MeterBase.getDefaults(), {\n            size: 1024,\n        });\n    }\n    /**\n     * Return the waveform for the current time as a Float32Array where each value in the array\n     * represents a sample in the waveform.\n     */\n    getValue() {\n        return this._analyser.getValue();\n    }\n    /**\n     * The size of analysis. This must be a power of two in the range 16 to 16384.\n     * Determines the size of the array returned by [[getValue]].\n     */\n    get size() {\n        return this._analyser.size;\n    }\n    set size(size) {\n        this._analyser.size = size;\n    }\n}\n//# sourceMappingURL=Waveform.js.map","import { SignalOperator } from \"./SignalOperator\";\nimport { WaveShaper } from \"./WaveShaper\";\n/**\n * GainToAudio converts an input in NormalRange [0,1] to AudioRange [-1,1].\n * See [[AudioToGain]].\n * @category Signal\n */\nexport class GainToAudio extends SignalOperator {\n    constructor() {\n        super(...arguments);\n        this.name = \"GainToAudio\";\n        /**\n         * The node which converts the audio ranges\n         */\n        this._norm = new WaveShaper({\n            context: this.context,\n            mapping: x => Math.abs(x) * 2 - 1,\n        });\n        /**\n         * The NormalRange input [0, 1]\n         */\n        this.input = this._norm;\n        /**\n         * The AudioRange output [-1, 1]\n         */\n        this.output = this._norm;\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this._norm.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=GainToAudio.js.map","import { Gain } from \"../../core/context/Gain\";\nimport { connect, ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { GainToAudio } from \"../../signal/GainToAudio\";\nimport { Signal } from \"../../signal/Signal\";\n/**\n * Tone.Crossfade provides equal power fading between two inputs.\n * More on crossfading technique [here](https://en.wikipedia.org/wiki/Fade_(audio_engineering)#Crossfading).\n * ```\n *                                             +---------+\n *                                            +> input a +>--+\n * +-----------+   +---------------------+     |         |   |\n * | 1s signal +>--> stereoPannerNode  L +>----> gain    |   |\n * +-----------+   |                     |     +---------+   |\n *               +-> pan               R +>-+                |   +--------+\n *               | +---------------------+  |                +---> output +>\n *  +------+     |                          |  +---------+   |   +--------+\n *  | fade +>----+                          | +> input b +>--+\n *  +------+                                |  |         |\n *                                          +--> gain    |\n *                                             +---------+\n * ```\n * @example\n * const crossFade = new Tone.CrossFade().toDestination();\n * // connect two inputs Tone.to a/b\n * const inputA = new Tone.Oscillator(440, \"square\").connect(crossFade.a).start();\n * const inputB = new Tone.Oscillator(440, \"sine\").connect(crossFade.b).start();\n * // use the fade to control the mix between the two\n * crossFade.fade.value = 0.5;\n * @category Component\n */\nexport class CrossFade extends ToneAudioNode {\n    constructor() {\n        super(Object.assign(optionsFromArguments(CrossFade.getDefaults(), arguments, [\"fade\"])));\n        this.name = \"CrossFade\";\n        /**\n         * The crossfading is done by a StereoPannerNode\n         */\n        this._panner = this.context.createStereoPanner();\n        /**\n         * Split the output of the panner node into two values used to control the gains.\n         */\n        this._split = this.context.createChannelSplitter(2);\n        /**\n         * Convert the fade value into an audio range value so it can be connected\n         * to the panner.pan AudioParam\n         */\n        this._g2a = new GainToAudio({ context: this.context });\n        /**\n         * The input which is at full level when fade = 0\n         */\n        this.a = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        /**\n         * The input which is at full level when fade = 1\n         */\n        this.b = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        /**\n         * The output is a mix between `a` and `b` at the ratio of `fade`\n         */\n        this.output = new Gain({ context: this.context });\n        this._internalChannels = [this.a, this.b];\n        const options = optionsFromArguments(CrossFade.getDefaults(), arguments, [\"fade\"]);\n        this.fade = new Signal({\n            context: this.context,\n            units: \"normalRange\",\n            value: options.fade,\n        });\n        readOnly(this, \"fade\");\n        this.context.getConstant(1).connect(this._panner);\n        this._panner.connect(this._split);\n        // this is necessary for standardized-audio-context\n        // doesn't make any difference for the native AudioContext\n        // https://github.com/chrisguttandin/standardized-audio-context/issues/647\n        this._panner.channelCount = 1;\n        this._panner.channelCountMode = \"explicit\";\n        connect(this._split, this.a.gain, 0);\n        connect(this._split, this.b.gain, 1);\n        this.fade.chain(this._g2a, this._panner.pan);\n        this.a.connect(this.output);\n        this.b.connect(this.output);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            fade: 0.5,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.a.dispose();\n        this.b.dispose();\n        this.output.dispose();\n        this.fade.dispose();\n        this._g2a.dispose();\n        this._panner.disconnect();\n        this._split.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=CrossFade.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n/**\n * Merge brings multiple mono input channels into a single multichannel output channel.\n *\n * @example\n * const merge = new Tone.Merge().toDestination();\n * // routing a sine tone in the left channel\n * const osc = new Tone.Oscillator().connect(merge, 0, 0).start();\n * // and noise in the right channel\n * const noise = new Tone.Noise().connect(merge, 0, 1).start();;\n * @category Component\n */\nexport class Merge extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Merge.getDefaults(), arguments, [\"channels\"]));\n        this.name = \"Merge\";\n        const options = optionsFromArguments(Merge.getDefaults(), arguments, [\"channels\"]);\n        this._merger = this.output = this.input = this.context.createChannelMerger(options.channels);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            channels: 2,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._merger.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=Merge.js.map","import { Param } from \"../../core/context/Param\";\nimport { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport \"../../core/context/Listener\";\n/**\n * A spatialized panner node which supports equalpower or HRTF panning.\n * @category Component\n */\nexport class Panner3D extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Panner3D.getDefaults(), arguments, [\"positionX\", \"positionY\", \"positionZ\"]));\n        this.name = \"Panner3D\";\n        const options = optionsFromArguments(Panner3D.getDefaults(), arguments, [\"positionX\", \"positionY\", \"positionZ\"]);\n        this._panner = this.input = this.output = this.context.createPanner();\n        // set some values\n        this.panningModel = options.panningModel;\n        this.maxDistance = options.maxDistance;\n        this.distanceModel = options.distanceModel;\n        this.coneOuterGain = options.coneOuterGain;\n        this.coneOuterAngle = options.coneOuterAngle;\n        this.coneInnerAngle = options.coneInnerAngle;\n        this.refDistance = options.refDistance;\n        this.rolloffFactor = options.rolloffFactor;\n        this.positionX = new Param({\n            context: this.context,\n            param: this._panner.positionX,\n            value: options.positionX,\n        });\n        this.positionY = new Param({\n            context: this.context,\n            param: this._panner.positionY,\n            value: options.positionY,\n        });\n        this.positionZ = new Param({\n            context: this.context,\n            param: this._panner.positionZ,\n            value: options.positionZ,\n        });\n        this.orientationX = new Param({\n            context: this.context,\n            param: this._panner.orientationX,\n            value: options.orientationX,\n        });\n        this.orientationY = new Param({\n            context: this.context,\n            param: this._panner.orientationY,\n            value: options.orientationY,\n        });\n        this.orientationZ = new Param({\n            context: this.context,\n            param: this._panner.orientationZ,\n            value: options.orientationZ,\n        });\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            coneInnerAngle: 360,\n            coneOuterAngle: 360,\n            coneOuterGain: 0,\n            distanceModel: \"inverse\",\n            maxDistance: 10000,\n            orientationX: 0,\n            orientationY: 0,\n            orientationZ: 0,\n            panningModel: \"equalpower\",\n            positionX: 0,\n            positionY: 0,\n            positionZ: 0,\n            refDistance: 1,\n            rolloffFactor: 1,\n        });\n    }\n    /**\n     * Sets the position of the source in 3d space.\n     */\n    setPosition(x, y, z) {\n        this.positionX.value = x;\n        this.positionY.value = y;\n        this.positionZ.value = z;\n        return this;\n    }\n    /**\n     * Sets the orientation of the source in 3d space.\n     */\n    setOrientation(x, y, z) {\n        this.orientationX.value = x;\n        this.orientationY.value = y;\n        this.orientationZ.value = z;\n        return this;\n    }\n    /**\n     * The panning model. Either \"equalpower\" or \"HRTF\".\n     */\n    get panningModel() {\n        return this._panner.panningModel;\n    }\n    set panningModel(val) {\n        this._panner.panningModel = val;\n    }\n    /**\n     * A reference distance for reducing volume as source move further from the listener\n     */\n    get refDistance() {\n        return this._panner.refDistance;\n    }\n    set refDistance(val) {\n        this._panner.refDistance = val;\n    }\n    /**\n     * Describes how quickly the volume is reduced as source moves away from listener.\n     */\n    get rolloffFactor() {\n        return this._panner.rolloffFactor;\n    }\n    set rolloffFactor(val) {\n        this._panner.rolloffFactor = val;\n    }\n    /**\n     * The distance model used by,  \"linear\", \"inverse\", or \"exponential\".\n     */\n    get distanceModel() {\n        return this._panner.distanceModel;\n    }\n    set distanceModel(val) {\n        this._panner.distanceModel = val;\n    }\n    /**\n     * The angle, in degrees, inside of which there will be no volume reduction\n     */\n    get coneInnerAngle() {\n        return this._panner.coneInnerAngle;\n    }\n    set coneInnerAngle(val) {\n        this._panner.coneInnerAngle = val;\n    }\n    /**\n     * The angle, in degrees, outside of which the volume will be reduced\n     * to a constant value of coneOuterGain\n     */\n    get coneOuterAngle() {\n        return this._panner.coneOuterAngle;\n    }\n    set coneOuterAngle(val) {\n        this._panner.coneOuterAngle = val;\n    }\n    /**\n     * The gain outside of the coneOuterAngle\n     */\n    get coneOuterGain() {\n        return this._panner.coneOuterGain;\n    }\n    set coneOuterGain(val) {\n        this._panner.coneOuterGain = val;\n    }\n    /**\n     * The maximum distance between source and listener,\n     * after which the volume will not be reduced any further.\n     */\n    get maxDistance() {\n        return this._panner.maxDistance;\n    }\n    set maxDistance(val) {\n        this._panner.maxDistance = val;\n    }\n    dispose() {\n        super.dispose();\n        this._panner.disconnect();\n        this.orientationX.dispose();\n        this.orientationY.dispose();\n        this.orientationZ.dispose();\n        this.positionX.dispose();\n        this.positionY.dispose();\n        this.positionZ.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Panner3D.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n/**\n * Split splits an incoming signal into the number of given channels.\n *\n * @example\n * const split = new Tone.Split();\n * // stereoSignal.connect(split);\n * @category Component\n */\nexport class Split extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Split.getDefaults(), arguments, [\"channels\"]));\n        this.name = \"Split\";\n        const options = optionsFromArguments(Split.getDefaults(), arguments, [\"channels\"]);\n        this._splitter = this.input = this.output = this.context.createChannelSplitter(options.channels);\n        this._internalChannels = [this._splitter];\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            channels: 2,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._splitter.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=Split.js.map","import { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Envelope } from \"./Envelope\";\n/**\n * AmplitudeEnvelope is a Tone.Envelope connected to a gain node.\n * Unlike Tone.Envelope, which outputs the envelope's value, AmplitudeEnvelope accepts\n * an audio signal as the input and will apply the envelope to the amplitude\n * of the signal.\n * Read more about ADSR Envelopes on [Wikipedia](https://en.wikipedia.org/wiki/Synthesizer#ADSR_envelope).\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst ampEnv = new Tone.AmplitudeEnvelope({\n * \t\tattack: 0.1,\n * \t\tdecay: 0.2,\n * \t\tsustain: 1.0,\n * \t\trelease: 0.8\n * \t}).toDestination();\n * \t// create an oscillator and connect it\n * \tconst osc = new Tone.Oscillator().connect(ampEnv).start();\n * \t// trigger the envelopes attack and release \"8t\" apart\n * \tampEnv.triggerAttackRelease(\"8t\");\n * }, 1.5, 1);\n * @category Component\n */\nexport class AmplitudeEnvelope extends Envelope {\n    constructor() {\n        super(optionsFromArguments(AmplitudeEnvelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]));\n        this.name = \"AmplitudeEnvelope\";\n        this._gainNode = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        this.output = this._gainNode;\n        this.input = this._gainNode;\n        this._sig.connect(this._gainNode.gain);\n        this.output = this._gainNode;\n        this.input = this._gainNode;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._gainNode.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AmplitudeEnvelope.js.map","import { __awaiter, __decorate } from \"tslib\";\nimport { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { isArray, isObject, isString } from \"../../core/util/TypeCheck\";\nimport { connectSignal, Signal } from \"../../signal/Signal\";\nimport { OfflineContext } from \"../../core/context/OfflineContext\";\nimport { assert } from \"../../core/util/Debug\";\nimport { range, timeRange } from \"../../core/util/Decorator\";\n/**\n * Envelope is an [ADSR](https://en.wikipedia.org/wiki/Synthesizer#ADSR_envelope)\n * envelope generator. Envelope outputs a signal which\n * can be connected to an AudioParam or Tone.Signal.\n * ```\n *           /\\\n *          /  \\\n *         /    \\\n *        /      \\\n *       /        \\___________\n *      /                     \\\n *     /                       \\\n *    /                         \\\n *   /                           \\\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst env = new Tone.Envelope({\n * \t\tattack: 0.1,\n * \t\tdecay: 0.2,\n * \t\tsustain: 0.5,\n * \t\trelease: 0.8,\n * \t}).toDestination();\n * \tenv.triggerAttackRelease(0.5);\n * }, 1.5, 1);\n * @category Component\n */\nexport class Envelope extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Envelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]));\n        this.name = \"Envelope\";\n        /**\n         * the signal which is output.\n         */\n        this._sig = new Signal({\n            context: this.context,\n            value: 0,\n        });\n        /**\n         * The output signal of the envelope\n         */\n        this.output = this._sig;\n        /**\n         * Envelope has no input\n         */\n        this.input = undefined;\n        const options = optionsFromArguments(Envelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]);\n        this.attack = options.attack;\n        this.decay = options.decay;\n        this.sustain = options.sustain;\n        this.release = options.release;\n        this.attackCurve = options.attackCurve;\n        this.releaseCurve = options.releaseCurve;\n        this.decayCurve = options.decayCurve;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            attack: 0.01,\n            attackCurve: \"linear\",\n            decay: 0.1,\n            decayCurve: \"exponential\",\n            release: 1,\n            releaseCurve: \"exponential\",\n            sustain: 0.5,\n        });\n    }\n    /**\n     * Read the current value of the envelope. Useful for\n     * synchronizing visual output to the envelope.\n     */\n    get value() {\n        return this.getValueAtTime(this.now());\n    }\n    /**\n     * Get the curve\n     * @param  curve\n     * @param  direction  In/Out\n     * @return The curve name\n     */\n    _getCurve(curve, direction) {\n        if (isString(curve)) {\n            return curve;\n        }\n        else {\n            // look up the name in the curves array\n            let curveName;\n            for (curveName in EnvelopeCurves) {\n                if (EnvelopeCurves[curveName][direction] === curve) {\n                    return curveName;\n                }\n            }\n            // return the custom curve\n            return curve;\n        }\n    }\n    /**\n     * Assign a the curve to the given name using the direction\n     * @param  name\n     * @param  direction In/Out\n     * @param  curve\n     */\n    _setCurve(name, direction, curve) {\n        // check if it's a valid type\n        if (isString(curve) && Reflect.has(EnvelopeCurves, curve)) {\n            const curveDef = EnvelopeCurves[curve];\n            if (isObject(curveDef)) {\n                if (name !== \"_decayCurve\") {\n                    this[name] = curveDef[direction];\n                }\n            }\n            else {\n                this[name] = curveDef;\n            }\n        }\n        else if (isArray(curve) && name !== \"_decayCurve\") {\n            this[name] = curve;\n        }\n        else {\n            throw new Error(\"Envelope: invalid curve: \" + curve);\n        }\n    }\n    /**\n     * The shape of the attack.\n     * Can be any of these strings:\n     * * \"linear\"\n     * * \"exponential\"\n     * * \"sine\"\n     * * \"cosine\"\n     * * \"bounce\"\n     * * \"ripple\"\n     * * \"step\"\n     *\n     * Can also be an array which describes the curve. Values\n     * in the array are evenly subdivided and linearly\n     * interpolated over the duration of the attack.\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope(0.4).toDestination();\n     * \tenv.attackCurve = \"linear\";\n     * \tenv.triggerAttack();\n     * }, 1, 1);\n     */\n    get attackCurve() {\n        return this._getCurve(this._attackCurve, \"In\");\n    }\n    set attackCurve(curve) {\n        this._setCurve(\"_attackCurve\", \"In\", curve);\n    }\n    /**\n     * The shape of the release. See the attack curve types.\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope({\n     * \t\trelease: 0.8\n     * \t}).toDestination();\n     * \tenv.triggerAttack();\n     * \t// release curve could also be defined by an array\n     * \tenv.releaseCurve = [1, 0.3, 0.4, 0.2, 0.7, 0];\n     * \tenv.triggerRelease(0.2);\n     * }, 1, 1);\n     */\n    get releaseCurve() {\n        return this._getCurve(this._releaseCurve, \"Out\");\n    }\n    set releaseCurve(curve) {\n        this._setCurve(\"_releaseCurve\", \"Out\", curve);\n    }\n    /**\n     * The shape of the decay either \"linear\" or \"exponential\"\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope({\n     * \t\tsustain: 0.1,\n     * \t\tdecay: 0.5\n     * \t}).toDestination();\n     * \tenv.decayCurve = \"linear\";\n     * \tenv.triggerAttack();\n     * }, 1, 1);\n     */\n    get decayCurve() {\n        return this._decayCurve;\n    }\n    set decayCurve(curve) {\n        assert([\"linear\", \"exponential\"].some(c => c === curve), `Invalid envelope curve: ${curve}`);\n        this._decayCurve = curve;\n    }\n    /**\n     * Trigger the attack/decay portion of the ADSR envelope.\n     * @param  time When the attack should start.\n     * @param velocity The velocity of the envelope scales the vales.\n     *                             number between 0-1\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator().connect(env).start();\n     * // trigger the attack 0.5 seconds from now with a velocity of 0.2\n     * env.triggerAttack(\"+0.5\", 0.2);\n     */\n    triggerAttack(time, velocity = 1) {\n        this.log(\"triggerAttack\", time, velocity);\n        time = this.toSeconds(time);\n        const originalAttack = this.toSeconds(this.attack);\n        let attack = originalAttack;\n        const decay = this.toSeconds(this.decay);\n        // check if it's not a complete attack\n        const currentValue = this.getValueAtTime(time);\n        if (currentValue > 0) {\n            // subtract the current value from the attack time\n            const attackRate = 1 / attack;\n            const remainingDistance = 1 - currentValue;\n            // the attack is now the remaining time\n            attack = remainingDistance / attackRate;\n        }\n        // attack\n        if (attack < this.sampleTime) {\n            this._sig.cancelScheduledValues(time);\n            // case where the attack time is 0 should set instantly\n            this._sig.setValueAtTime(velocity, time);\n        }\n        else if (this._attackCurve === \"linear\") {\n            this._sig.linearRampTo(velocity, attack, time);\n        }\n        else if (this._attackCurve === \"exponential\") {\n            this._sig.targetRampTo(velocity, attack, time);\n        }\n        else {\n            this._sig.cancelAndHoldAtTime(time);\n            let curve = this._attackCurve;\n            // find the starting position in the curve\n            for (let i = 1; i < curve.length; i++) {\n                // the starting index is between the two values\n                if (curve[i - 1] <= currentValue && currentValue <= curve[i]) {\n                    curve = this._attackCurve.slice(i);\n                    // the first index is the current value\n                    curve[0] = currentValue;\n                    break;\n                }\n            }\n            this._sig.setValueCurveAtTime(curve, time, attack, velocity);\n        }\n        // decay\n        if (decay && this.sustain < 1) {\n            const decayValue = velocity * this.sustain;\n            const decayStart = time + attack;\n            this.log(\"decay\", decayStart);\n            if (this._decayCurve === \"linear\") {\n                this._sig.linearRampToValueAtTime(decayValue, decay + decayStart);\n            }\n            else {\n                this._sig.exponentialApproachValueAtTime(decayValue, decayStart, decay);\n            }\n        }\n        return this;\n    }\n    /**\n     * Triggers the release of the envelope.\n     * @param  time When the release portion of the envelope should start.\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator({\n     * \ttype: \"sawtooth\"\n     * }).connect(env).start();\n     * env.triggerAttack();\n     * // trigger the release half a second after the attack\n     * env.triggerRelease(\"+0.5\");\n     */\n    triggerRelease(time) {\n        this.log(\"triggerRelease\", time);\n        time = this.toSeconds(time);\n        const currentValue = this.getValueAtTime(time);\n        if (currentValue > 0) {\n            const release = this.toSeconds(this.release);\n            if (release < this.sampleTime) {\n                this._sig.setValueAtTime(0, time);\n            }\n            else if (this._releaseCurve === \"linear\") {\n                this._sig.linearRampTo(0, release, time);\n            }\n            else if (this._releaseCurve === \"exponential\") {\n                this._sig.targetRampTo(0, release, time);\n            }\n            else {\n                assert(isArray(this._releaseCurve), \"releaseCurve must be either 'linear', 'exponential' or an array\");\n                this._sig.cancelAndHoldAtTime(time);\n                this._sig.setValueCurveAtTime(this._releaseCurve, time, release, currentValue);\n            }\n        }\n        return this;\n    }\n    /**\n     * Get the scheduled value at the given time. This will\n     * return the unconverted (raw) value.\n     * @example\n     * const env = new Tone.Envelope(0.5, 1, 0.4, 2);\n     * env.triggerAttackRelease(2);\n     * setInterval(() => console.log(env.getValueAtTime(Tone.now())), 100);\n     */\n    getValueAtTime(time) {\n        return this._sig.getValueAtTime(time);\n    }\n    /**\n     * triggerAttackRelease is shorthand for triggerAttack, then waiting\n     * some duration, then triggerRelease.\n     * @param duration The duration of the sustain.\n     * @param time When the attack should be triggered.\n     * @param velocity The velocity of the envelope.\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator().connect(env).start();\n     * // trigger the release 0.5 seconds after the attack\n     * env.triggerAttackRelease(0.5);\n     */\n    triggerAttackRelease(duration, time, velocity = 1) {\n        time = this.toSeconds(time);\n        this.triggerAttack(time, velocity);\n        this.triggerRelease(time + this.toSeconds(duration));\n        return this;\n    }\n    /**\n     * Cancels all scheduled envelope changes after the given time.\n     */\n    cancel(after) {\n        this._sig.cancelScheduledValues(this.toSeconds(after));\n        return this;\n    }\n    /**\n     * Connect the envelope to a destination node.\n     */\n    connect(destination, outputNumber = 0, inputNumber = 0) {\n        connectSignal(this, destination, outputNumber, inputNumber);\n        return this;\n    }\n    /**\n     * Render the envelope curve to an array of the given length.\n     * Good for visualizing the envelope curve. Rescales the duration of the\n     * envelope to fit the length.\n     */\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const duration = length / this.context.sampleRate;\n            const context = new OfflineContext(1, duration, this.context.sampleRate);\n            // normalize the ADSR for the given duration with 20% sustain time\n            const attackPortion = this.toSeconds(this.attack) + this.toSeconds(this.decay);\n            const envelopeDuration = attackPortion + this.toSeconds(this.release);\n            const sustainTime = envelopeDuration * 0.1;\n            const totalDuration = envelopeDuration + sustainTime;\n            // @ts-ignore\n            const clone = new this.constructor(Object.assign(this.get(), {\n                attack: duration * this.toSeconds(this.attack) / totalDuration,\n                decay: duration * this.toSeconds(this.decay) / totalDuration,\n                release: duration * this.toSeconds(this.release) / totalDuration,\n                context\n            }));\n            clone._sig.toDestination();\n            clone.triggerAttackRelease(duration * (attackPortion + sustainTime) / totalDuration, 0);\n            const buffer = yield context.render();\n            return buffer.getChannelData(0);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._sig.dispose();\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"attack\", void 0);\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"decay\", void 0);\n__decorate([\n    range(0, 1)\n], Envelope.prototype, \"sustain\", void 0);\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"release\", void 0);\n/**\n * Generate some complex envelope curves.\n */\nconst EnvelopeCurves = (() => {\n    const curveLen = 128;\n    let i;\n    let k;\n    // cosine curve\n    const cosineCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        cosineCurve[i] = Math.sin((i / (curveLen - 1)) * (Math.PI / 2));\n    }\n    // ripple curve\n    const rippleCurve = [];\n    const rippleCurveFreq = 6.4;\n    for (i = 0; i < curveLen - 1; i++) {\n        k = (i / (curveLen - 1));\n        const sineWave = Math.sin(k * (Math.PI * 2) * rippleCurveFreq - Math.PI / 2) + 1;\n        rippleCurve[i] = sineWave / 10 + k * 0.83;\n    }\n    rippleCurve[curveLen - 1] = 1;\n    // stairs curve\n    const stairsCurve = [];\n    const steps = 5;\n    for (i = 0; i < curveLen; i++) {\n        stairsCurve[i] = Math.ceil((i / (curveLen - 1)) * steps) / steps;\n    }\n    // in-out easing curve\n    const sineCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        k = i / (curveLen - 1);\n        sineCurve[i] = 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n    // a bounce curve\n    const bounceCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        k = i / (curveLen - 1);\n        const freq = Math.pow(k, 3) * 4 + 0.2;\n        const val = Math.cos(freq * Math.PI * 2 * k);\n        bounceCurve[i] = Math.abs(val * (1 - k));\n    }\n    /**\n     * Invert a value curve to make it work for the release\n     */\n    function invertCurve(curve) {\n        const out = new Array(curve.length);\n        for (let j = 0; j < curve.length; j++) {\n            out[j] = 1 - curve[j];\n        }\n        return out;\n    }\n    /**\n     * reverse the curve\n     */\n    function reverseCurve(curve) {\n        return curve.slice(0).reverse();\n    }\n    /**\n     * attack and release curve arrays\n     */\n    return {\n        bounce: {\n            In: invertCurve(bounceCurve),\n            Out: bounceCurve,\n        },\n        cosine: {\n            In: cosineCurve,\n            Out: reverseCurve(cosineCurve),\n        },\n        exponential: \"exponential\",\n        linear: \"linear\",\n        ripple: {\n            In: rippleCurve,\n            Out: invertCurve(rippleCurve),\n        },\n        sine: {\n            In: sineCurve,\n            Out: invertCurve(sineCurve),\n        },\n        step: {\n            In: stairsCurve,\n            Out: invertCurve(stairsCurve),\n        },\n    };\n})();\n//# sourceMappingURL=Envelope.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Param } from \"../../core/context/Param\";\nimport { assert } from \"../../core/util/Debug\";\n/**\n * Thin wrapper around the native Web Audio [BiquadFilterNode](https://webaudio.github.io/web-audio-api/#biquadfilternode).\n * BiquadFilter is similar to [[Filter]] but doesn't have the option to set the \"rolloff\" value.\n * @category Component\n */\nexport class BiquadFilter extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(BiquadFilter.getDefaults(), arguments, [\"frequency\", \"type\"]));\n        this.name = \"BiquadFilter\";\n        const options = optionsFromArguments(BiquadFilter.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        this._filter = this.context.createBiquadFilter();\n        this.input = this.output = this._filter;\n        this.Q = new Param({\n            context: this.context,\n            units: \"number\",\n            value: options.Q,\n            param: this._filter.Q,\n        });\n        this.frequency = new Param({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n            param: this._filter.frequency,\n        });\n        this.detune = new Param({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n            param: this._filter.detune,\n        });\n        this.gain = new Param({\n            context: this.context,\n            units: \"decibels\",\n            convert: false,\n            value: options.gain,\n            param: this._filter.gain,\n        });\n        this.type = options.type;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            Q: 1,\n            type: \"lowpass\",\n            frequency: 350,\n            detune: 0,\n            gain: 0,\n        });\n    }\n    /**\n     * The type of this BiquadFilterNode. For a complete list of types and their attributes, see the\n     * [Web Audio API](https://webaudio.github.io/web-audio-api/#dom-biquadfiltertype-lowpass)\n     */\n    get type() {\n        return this._filter.type;\n    }\n    set type(type) {\n        const types = [\"lowpass\", \"highpass\", \"bandpass\",\n            \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", \"peaking\"];\n        assert(types.indexOf(type) !== -1, `Invalid filter type: ${type}`);\n        this._filter.type = type;\n    }\n    /**\n     * Get the frequency response curve. This curve represents how the filter\n     * responses to frequencies between 20hz-20khz.\n     * @param  len The number of values to return\n     * @return The frequency response curve between 20-20kHz\n     */\n    getFrequencyResponse(len = 128) {\n        // start with all 1s\n        const freqValues = new Float32Array(len);\n        for (let i = 0; i < len; i++) {\n            const norm = Math.pow(i / len, 2);\n            const freq = norm * (20000 - 20) + 20;\n            freqValues[i] = freq;\n        }\n        const magValues = new Float32Array(len);\n        const phaseValues = new Float32Array(len);\n        // clone the filter to remove any connections which may be changing the value\n        const filterClone = this.context.createBiquadFilter();\n        filterClone.type = this.type;\n        filterClone.Q.value = this.Q.value;\n        filterClone.frequency.value = this.frequency.value;\n        filterClone.gain.value = this.gain.value;\n        filterClone.getFrequencyResponse(freqValues, magValues, phaseValues);\n        return magValues;\n    }\n    dispose() {\n        super.dispose();\n        this._filter.disconnect();\n        this.Q.dispose();\n        this.frequency.dispose();\n        this.gain.dispose();\n        this.detune.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=BiquadFilter.js.map","import { Gain } from \"../../core/context/Gain\";\nimport { connectSeries, ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly, writable } from \"../../core/util/Interface\";\nimport { isNumber } from \"../../core/util/TypeCheck\";\nimport { Signal } from \"../../signal/Signal\";\nimport { assert } from \"../../core/util/Debug\";\nimport { BiquadFilter } from \"./BiquadFilter\";\n/**\n * Tone.Filter is a filter which allows for all of the same native methods\n * as the [BiquadFilterNode](http://webaudio.github.io/web-audio-api/#the-biquadfilternode-interface).\n * Tone.Filter has the added ability to set the filter rolloff at -12\n * (default), -24 and -48.\n * @example\n * const filter = new Tone.Filter(1500, \"highpass\").toDestination();\n * filter.frequency.rampTo(20000, 10);\n * const noise = new Tone.Noise().connect(filter).start();\n * @category Component\n */\nexport class Filter extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Filter.getDefaults(), arguments, [\"frequency\", \"type\", \"rolloff\"]));\n        this.name = \"Filter\";\n        this.input = new Gain({ context: this.context });\n        this.output = new Gain({ context: this.context });\n        this._filters = [];\n        const options = optionsFromArguments(Filter.getDefaults(), arguments, [\"frequency\", \"type\", \"rolloff\"]);\n        this._filters = [];\n        this.Q = new Signal({\n            context: this.context,\n            units: \"positive\",\n            value: options.Q,\n        });\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        this.gain = new Signal({\n            context: this.context,\n            units: \"decibels\",\n            convert: false,\n            value: options.gain,\n        });\n        this._type = options.type;\n        this.rolloff = options.rolloff;\n        readOnly(this, [\"detune\", \"frequency\", \"gain\", \"Q\"]);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            Q: 1,\n            detune: 0,\n            frequency: 350,\n            gain: 0,\n            rolloff: -12,\n            type: \"lowpass\",\n        });\n    }\n    /**\n     * The type of the filter. Types: \"lowpass\", \"highpass\",\n     * \"bandpass\", \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", or \"peaking\".\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        const types = [\"lowpass\", \"highpass\", \"bandpass\",\n            \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", \"peaking\"];\n        assert(types.indexOf(type) !== -1, `Invalid filter type: ${type}`);\n        this._type = type;\n        this._filters.forEach(filter => filter.type = type);\n    }\n    /**\n     * The rolloff of the filter which is the drop in db\n     * per octave. Implemented internally by cascading filters.\n     * Only accepts the values -12, -24, -48 and -96.\n     */\n    get rolloff() {\n        return this._rolloff;\n    }\n    set rolloff(rolloff) {\n        const rolloffNum = isNumber(rolloff) ? rolloff : parseInt(rolloff, 10);\n        const possibilities = [-12, -24, -48, -96];\n        let cascadingCount = possibilities.indexOf(rolloffNum);\n        // check the rolloff is valid\n        assert(cascadingCount !== -1, `rolloff can only be ${possibilities.join(\", \")}`);\n        cascadingCount += 1;\n        this._rolloff = rolloffNum;\n        this.input.disconnect();\n        this._filters.forEach(filter => filter.disconnect());\n        this._filters = new Array(cascadingCount);\n        for (let count = 0; count < cascadingCount; count++) {\n            const filter = new BiquadFilter({\n                context: this.context,\n            });\n            filter.type = this._type;\n            this.frequency.connect(filter.frequency);\n            this.detune.connect(filter.detune);\n            this.Q.connect(filter.Q);\n            this.gain.connect(filter.gain);\n            this._filters[count] = filter;\n        }\n        this._internalChannels = this._filters;\n        connectSeries(this.input, ...this._internalChannels, this.output);\n    }\n    /**\n     * Get the frequency response curve. This curve represents how the filter\n     * responses to frequencies between 20hz-20khz.\n     * @param  len The number of values to return\n     * @return The frequency response curve between 20-20kHz\n     */\n    getFrequencyResponse(len = 128) {\n        const filterClone = new BiquadFilter({\n            frequency: this.frequency.value,\n            gain: this.gain.value,\n            Q: this.Q.value,\n            type: this._type,\n            detune: this.detune.value,\n        });\n        // start with all 1s\n        const totalResponse = new Float32Array(len).map(() => 1);\n        this._filters.forEach(() => {\n            const response = filterClone.getFrequencyResponse(len);\n            response.forEach((val, i) => totalResponse[i] *= val);\n        });\n        filterClone.dispose();\n        return totalResponse;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._filters.forEach(filter => {\n            filter.dispose();\n        });\n        writable(this, [\"detune\", \"frequency\", \"gain\", \"Q\"]);\n        this.frequency.dispose();\n        this.Q.dispose();\n        this.detune.dispose();\n        this.gain.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Filter.js.map","import { Param } from \"../context/Param\";\nimport { optionsFromArguments } from \"../util/Defaults\";\nimport { readOnly } from \"../util/Interface\";\nimport { ToneAudioNode } from \"./ToneAudioNode\";\n/**\n * Wrapper around Web Audio's native [DelayNode](http://webaudio.github.io/web-audio-api/#the-delaynode-interface).\n * @category Core\n * @example\n * return Tone.Offline(() => {\n * \tconst delay = new Tone.Delay(0.1).toDestination();\n * \t// connect the signal to both the delay and the destination\n * \tconst pulse = new Tone.PulseOscillator().connect(delay).toDestination();\n * \t// start and stop the pulse\n * \tpulse.start(0).stop(0.01);\n * }, 0.5, 1);\n */\nexport class Delay extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Delay.getDefaults(), arguments, [\"delayTime\", \"maxDelay\"]));\n        this.name = \"Delay\";\n        const options = optionsFromArguments(Delay.getDefaults(), arguments, [\"delayTime\", \"maxDelay\"]);\n        const maxDelayInSeconds = this.toSeconds(options.maxDelay);\n        this._maxDelay = Math.max(maxDelayInSeconds, this.toSeconds(options.delayTime));\n        this._delayNode = this.input = this.output = this.context.createDelay(maxDelayInSeconds);\n        this.delayTime = new Param({\n            context: this.context,\n            param: this._delayNode.delayTime,\n            units: \"time\",\n            value: options.delayTime,\n            minValue: 0,\n            maxValue: this.maxDelay,\n        });\n        readOnly(this, \"delayTime\");\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            delayTime: 0,\n            maxDelay: 1,\n        });\n    }\n    /**\n     * The maximum delay time. This cannot be changed after\n     * the value is passed into the constructor.\n     */\n    get maxDelay() {\n        return this._maxDelay;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._delayNode.disconnect();\n        this.delayTime.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Delay.js.map","import { Effect } from \"../effect/Effect\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Base class for LFO-based effects.\n */\nexport class LFOEffect extends Effect {\n    constructor(options) {\n        super(options);\n        this.name = \"LFOEffect\";\n        this._lfo = new LFO({\n            context: this.context,\n            frequency: options.frequency,\n            amplitude: options.depth,\n        });\n        this.depth = this._lfo.amplitude;\n        this.frequency = this._lfo.frequency;\n        this.type = options.type;\n        readOnly(this, [\"frequency\", \"depth\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            frequency: 1,\n            type: \"sine\",\n            depth: 1,\n        });\n    }\n    /**\n     * Start the effect.\n     */\n    start(time) {\n        this._lfo.start(time);\n        return this;\n    }\n    /**\n     * Stop the lfo\n     */\n    stop(time) {\n        this._lfo.stop(time);\n        return this;\n    }\n    /**\n     * Sync the filter to the transport. See [[LFO.sync]]\n     */\n    sync() {\n        this._lfo.sync();\n        return this;\n    }\n    /**\n     * Unsync the filter from the transport.\n     */\n    unsync() {\n        this._lfo.unsync();\n        return this;\n    }\n    /**\n     * The type of the LFO's oscillator: See [[Oscillator.type]]\n     * @example\n     * const autoFilter = new Tone.AutoFilter().start().toDestination();\n     * const noise = new Tone.Noise().start().connect(autoFilter);\n     * autoFilter.type = \"square\";\n     */\n    get type() {\n        return this._lfo.type;\n    }\n    set type(type) {\n        this._lfo.type = type;\n    }\n    dispose() {\n        super.dispose();\n        this._lfo.dispose();\n        this.frequency.dispose();\n        this.depth.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=LFOEffect.js.map","import { Filter } from \"../component/filter/Filter\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { LFOEffect } from \"./LFOEffect\";\n/**\n * AutoFilter is a Tone.Filter with a Tone.LFO connected to the filter cutoff frequency.\n * Setting the LFO rate and depth allows for control over the filter modulation rate\n * and depth.\n *\n * @example\n * // create an autofilter and start it's LFO\n * const autoFilter = new Tone.AutoFilter(\"4n\").toDestination().start();\n * // route an oscillator through the filter and start it\n * const oscillator = new Tone.Oscillator().connect(autoFilter).start();\n * @category Effect\n */\nexport class AutoFilter extends LFOEffect {\n    constructor() {\n        super(optionsFromArguments(AutoFilter.getDefaults(), arguments, [\"frequency\", \"baseFrequency\", \"octaves\"]));\n        this.name = \"AutoFilter\";\n        const options = optionsFromArguments(AutoFilter.getDefaults(), arguments, [\"frequency\", \"baseFrequency\", \"octaves\"]);\n        this.filter = new Filter(Object.assign(options.filter, {\n            context: this.context,\n        }));\n        // connections\n        this.connectEffect(this.filter);\n        this._lfo.connect(this.filter.frequency);\n        this.octaves = options.octaves;\n        this.baseFrequency = options.baseFrequency;\n    }\n    static getDefaults() {\n        return Object.assign(LFOEffect.getDefaults(), {\n            baseFrequency: 200,\n            octaves: 2.6,\n            filter: {\n                type: \"lowpass\",\n                rolloff: -12,\n                Q: 1,\n            }\n        });\n    }\n    /**\n     * The minimum value of the filter's cutoff frequency.\n     */\n    get baseFrequency() {\n        return this._lfo.min;\n    }\n    set baseFrequency(freq) {\n        this._lfo.min = this.toFrequency(freq);\n        // and set the max\n        this.octaves = this._octaves;\n    }\n    /**\n     * The maximum value of the filter's cutoff frequency.\n     */\n    get octaves() {\n        return this._octaves;\n    }\n    set octaves(oct) {\n        this._octaves = oct;\n        this._lfo.max = this._lfo.min * Math.pow(2, oct);\n    }\n    dispose() {\n        super.dispose();\n        this.filter.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AutoFilter.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Gain } from \"../../core/context/Gain\";\n/**\n * A one pole filter with 6db-per-octave rolloff. Either \"highpass\" or \"lowpass\".\n * Note that changing the type or frequency may result in a discontinuity which\n * can sound like a click or pop.\n * References:\n * * http://www.earlevel.com/main/2012/12/15/a-one-pole-filter/\n * * http://www.dspguide.com/ch19/2.htm\n * * https://github.com/vitaliy-bobrov/js-rocks/blob/master/src/app/audio/effects/one-pole-filters.ts\n * @category Component\n */\nexport class OnePoleFilter extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(OnePoleFilter.getDefaults(), arguments, [\"frequency\", \"type\"]));\n        this.name = \"OnePoleFilter\";\n        const options = optionsFromArguments(OnePoleFilter.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        this._frequency = options.frequency;\n        this._type = options.type;\n        this.input = new Gain({ context: this.context });\n        this.output = new Gain({ context: this.context });\n        this._createFilter();\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            frequency: 880,\n            type: \"lowpass\"\n        });\n    }\n    /**\n     * Create a filter and dispose the old one\n     */\n    _createFilter() {\n        const oldFilter = this._filter;\n        const freq = this.toFrequency(this._frequency);\n        const t = 1 / (2 * Math.PI * freq);\n        if (this._type === \"lowpass\") {\n            const a0 = 1 / (t * this.context.sampleRate);\n            const b1 = a0 - 1;\n            this._filter = this.context.createIIRFilter([a0, 0], [1, b1]);\n        }\n        else {\n            const b1 = 1 / (t * this.context.sampleRate) - 1;\n            this._filter = this.context.createIIRFilter([1, -1], [1, b1]);\n        }\n        this.input.chain(this._filter, this.output);\n        if (oldFilter) {\n            // dispose it on the next block\n            this.context.setTimeout(() => {\n                if (!this.disposed) {\n                    this.input.disconnect(oldFilter);\n                    oldFilter.disconnect();\n                }\n            }, this.blockTime);\n        }\n    }\n    /**\n     * The frequency value.\n     */\n    get frequency() {\n        return this._frequency;\n    }\n    set frequency(fq) {\n        this._frequency = fq;\n        this._createFilter();\n    }\n    /**\n     * The OnePole Filter type, either \"highpass\" or \"lowpass\"\n     */\n    get type() {\n        return this._type;\n    }\n    set type(t) {\n        this._type = t;\n        this._createFilter();\n    }\n    /**\n     * Get the frequency response curve. This curve represents how the filter\n     * responses to frequencies between 20hz-20khz.\n     * @param  len The number of values to return\n     * @return The frequency response curve between 20-20kHz\n     */\n    getFrequencyResponse(len = 128) {\n        const freqValues = new Float32Array(len);\n        for (let i = 0; i < len; i++) {\n            const norm = Math.pow(i / len, 2);\n            const freq = norm * (20000 - 20) + 20;\n            freqValues[i] = freq;\n        }\n        const magValues = new Float32Array(len);\n        const phaseValues = new Float32Array(len);\n        this._filter.getFrequencyResponse(freqValues, magValues, phaseValues);\n        return magValues;\n    }\n    dispose() {\n        super.dispose();\n        this.input.dispose();\n        this.output.dispose();\n        this._filter.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=OnePoleFilter.js.map","import { SignalOperator } from \"./SignalOperator\";\nimport { WaveShaper } from \"./WaveShaper\";\n/**\n * Return the absolute value of an incoming signal.\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst abs = new Tone.Abs().toDestination();\n * \tconst signal = new Tone.Signal(1);\n * \tsignal.rampTo(-1, 0.5);\n * \tsignal.connect(abs);\n * }, 0.5, 1);\n * @category Signal\n */\nexport class Abs extends SignalOperator {\n    constructor() {\n        super(...arguments);\n        this.name = \"Abs\";\n        /**\n         * The node which converts the audio ranges\n         */\n        this._abs = new WaveShaper({\n            context: this.context,\n            mapping: val => {\n                if (Math.abs(val) < 0.001) {\n                    return 0;\n                }\n                else {\n                    return Math.abs(val);\n                }\n            },\n        });\n        /**\n         * The AudioRange input [-1, 1]\n         */\n        this.input = this._abs;\n        /**\n         * The output range [0, 1]\n         */\n        this.output = this._abs;\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this._abs.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Abs.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { OnePoleFilter } from \"../filter/OnePoleFilter\";\nimport { Abs } from \"../../signal/Abs\";\n/**\n * Follower is a simple envelope follower.\n * It's implemented by applying a lowpass filter to the absolute value of the incoming signal.\n * ```\n *          +-----+    +---------------+\n * Input +--> Abs +----> OnePoleFilter +--> Output\n *          +-----+    +---------------+\n * ```\n * @category Component\n */\nexport class Follower extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(Follower.getDefaults(), arguments, [\"smoothing\"]));\n        this.name = \"Follower\";\n        const options = optionsFromArguments(Follower.getDefaults(), arguments, [\"smoothing\"]);\n        this._abs = this.input = new Abs({ context: this.context });\n        this._lowpass = this.output = new OnePoleFilter({\n            context: this.context,\n            frequency: 1 / this.toSeconds(options.smoothing),\n            type: \"lowpass\"\n        });\n        this._abs.connect(this._lowpass);\n        this._smoothing = options.smoothing;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            smoothing: 0.05\n        });\n    }\n    /**\n     * The amount of time it takes a value change to arrive at the updated value.\n     */\n    get smoothing() {\n        return this._smoothing;\n    }\n    set smoothing(smoothing) {\n        this._smoothing = smoothing;\n        this._lowpass.frequency = 1 / this.toSeconds(this.smoothing);\n    }\n    dispose() {\n        super.dispose();\n        this._abs.dispose();\n        this._lowpass.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Follower.js.map","import { Scale } from \"./Scale\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Pow } from \"./Pow\";\n/**\n * Performs an exponential scaling on an input signal.\n * Scales a NormalRange value [0,1] exponentially\n * to the output range of outputMin to outputMax.\n * @example\n * const scaleExp = new Tone.ScaleExp(0, 100, 2);\n * const signal = new Tone.Signal(0.5).connect(scaleExp);\n * @category Signal\n */\nexport class ScaleExp extends Scale {\n    constructor() {\n        super(Object.assign(optionsFromArguments(ScaleExp.getDefaults(), arguments, [\"min\", \"max\", \"exponent\"])));\n        this.name = \"ScaleExp\";\n        const options = optionsFromArguments(ScaleExp.getDefaults(), arguments, [\"min\", \"max\", \"exponent\"]);\n        this.input = this._exp = new Pow({\n            context: this.context,\n            value: options.exponent,\n        });\n        this._exp.connect(this._mult);\n    }\n    static getDefaults() {\n        return Object.assign(Scale.getDefaults(), {\n            exponent: 1,\n        });\n    }\n    /**\n     * Instead of interpolating linearly between the [[min]] and\n     * [[max]] values, setting the exponent will interpolate between\n     * the two values with an exponential curve.\n     */\n    get exponent() {\n        return this._exp.value;\n    }\n    set exponent(exp) {\n        this._exp.value = exp;\n    }\n    dispose() {\n        super.dispose();\n        this._exp.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ScaleExp.js.map","import { Effect } from \"./Effect\";\nimport { Filter } from \"../component/filter/Filter\";\nimport { Follower } from \"../component/analysis/Follower\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Gain } from \"../core/context/Gain\";\nimport { dbToGain, gainToDb } from \"../core/type/Conversions\";\nimport { ScaleExp } from \"../signal/ScaleExp\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * AutoWah connects a [[Follower]] to a [[Filter]].\n * The frequency of the filter, follows the input amplitude curve.\n * Inspiration from [Tuna.js](https://github.com/Dinahmoe/tuna).\n *\n * @example\n * const autoWah = new Tone.AutoWah(50, 6, -30).toDestination();\n * // initialize the synth and connect to autowah\n * const synth = new Tone.Synth().connect(autoWah);\n * // Q value influences the effect of the wah - default is 2\n * autoWah.Q.value = 6;\n * // more audible on higher notes\n * synth.triggerAttackRelease(\"C4\", \"8n\");\n * @category Effect\n */\nexport class AutoWah extends Effect {\n    constructor() {\n        super(optionsFromArguments(AutoWah.getDefaults(), arguments, [\"baseFrequency\", \"octaves\", \"sensitivity\"]));\n        this.name = \"AutoWah\";\n        const options = optionsFromArguments(AutoWah.getDefaults(), arguments, [\"baseFrequency\", \"octaves\", \"sensitivity\"]);\n        this._follower = new Follower({\n            context: this.context,\n            smoothing: options.follower,\n        });\n        this._sweepRange = new ScaleExp({\n            context: this.context,\n            min: 0,\n            max: 1,\n            exponent: 0.5,\n        });\n        this._baseFrequency = this.toFrequency(options.baseFrequency);\n        this._octaves = options.octaves;\n        this._inputBoost = new Gain({ context: this.context });\n        this._bandpass = new Filter({\n            context: this.context,\n            rolloff: -48,\n            frequency: 0,\n            Q: options.Q,\n        });\n        this._peaking = new Filter({\n            context: this.context,\n            type: \"peaking\"\n        });\n        this._peaking.gain.value = options.gain;\n        this.gain = this._peaking.gain;\n        this.Q = this._bandpass.Q;\n        // the control signal path\n        this.effectSend.chain(this._inputBoost, this._follower, this._sweepRange);\n        this._sweepRange.connect(this._bandpass.frequency);\n        this._sweepRange.connect(this._peaking.frequency);\n        // the filtered path\n        this.effectSend.chain(this._bandpass, this._peaking, this.effectReturn);\n        // set the initial value\n        this._setSweepRange();\n        this.sensitivity = options.sensitivity;\n        readOnly(this, [\"gain\", \"Q\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            baseFrequency: 100,\n            octaves: 6,\n            sensitivity: 0,\n            Q: 2,\n            gain: 2,\n            follower: 0.2,\n        });\n    }\n    /**\n     * The number of octaves that the filter will sweep above the baseFrequency.\n     */\n    get octaves() {\n        return this._octaves;\n    }\n    set octaves(octaves) {\n        this._octaves = octaves;\n        this._setSweepRange();\n    }\n    /**\n     * The follower's smoothing time\n     */\n    get follower() {\n        return this._follower.smoothing;\n    }\n    set follower(follower) {\n        this._follower.smoothing = follower;\n    }\n    /**\n     * The base frequency from which the sweep will start from.\n     */\n    get baseFrequency() {\n        return this._baseFrequency;\n    }\n    set baseFrequency(baseFreq) {\n        this._baseFrequency = this.toFrequency(baseFreq);\n        this._setSweepRange();\n    }\n    /**\n     * The sensitivity to control how responsive to the input signal the filter is.\n     */\n    get sensitivity() {\n        return gainToDb(1 / this._inputBoost.gain.value);\n    }\n    set sensitivity(sensitivity) {\n        this._inputBoost.gain.value = 1 / dbToGain(sensitivity);\n    }\n    /**\n     * sets the sweep range of the scaler\n     */\n    _setSweepRange() {\n        this._sweepRange.min = this._baseFrequency;\n        this._sweepRange.max = Math.min(this._baseFrequency * Math.pow(2, this._octaves), this.context.sampleRate / 2);\n    }\n    dispose() {\n        super.dispose();\n        this._follower.dispose();\n        this._sweepRange.dispose();\n        this._bandpass.dispose();\n        this._peaking.dispose();\n        this._inputBoost.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AutoWah.js.map","/**\n * All of the classes or functions which are loaded into the AudioWorkletGlobalScope\n */\nconst workletContext = new Set();\n/**\n * Add a class to the AudioWorkletGlobalScope\n */\nexport function addToWorklet(classOrFunction) {\n    workletContext.add(classOrFunction);\n}\n/**\n * Register a processor in the AudioWorkletGlobalScope with the given name\n */\nexport function registerProcessor(name, classDesc) {\n    const processor = /* javascript */ `registerProcessor(\"${name}\", ${classDesc})`;\n    workletContext.add(processor);\n}\n/**\n * Get all of the modules which have been registered to the AudioWorkletGlobalScope\n */\nexport function getWorkletGlobalScope() {\n    return Array.from(workletContext).join(\"\\n\");\n}\n//# sourceMappingURL=WorkletGlobalScope.js.map","import { ToneAudioNode } from \"../context/ToneAudioNode\";\nimport { noOp } from \"../util/Interface\";\nimport { getWorkletGlobalScope } from \"./WorkletGlobalScope\";\nexport class ToneAudioWorklet extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        this.name = \"ToneAudioWorklet\";\n        /**\n         * The constructor options for the node\n         */\n        this.workletOptions = {};\n        /**\n         * Callback which is invoked when there is an error in the processing\n         */\n        this.onprocessorerror = noOp;\n        const blobUrl = URL.createObjectURL(new Blob([getWorkletGlobalScope()], { type: \"text/javascript\" }));\n        const name = this._audioWorkletName();\n        this._dummyGain = this.context.createGain();\n        this._dummyParam = this._dummyGain.gain;\n        // Register the processor\n        this.context.addAudioWorkletModule(blobUrl, name).then(() => {\n            // create the worklet when it's read\n            if (!this.disposed) {\n                this._worklet = this.context.createAudioWorkletNode(name, this.workletOptions);\n                this._worklet.onprocessorerror = this.onprocessorerror.bind(this);\n                this.onReady(this._worklet);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._dummyGain.disconnect();\n        if (this._worklet) {\n            this._worklet.port.postMessage(\"dispose\");\n            this._worklet.disconnect();\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=ToneAudioWorklet.js.map","import { addToWorklet } from \"./WorkletGlobalScope\";\nconst toneAudioWorkletProcessor = /* javascript */ `\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it's disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === \"dispose\") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n`;\naddToWorklet(toneAudioWorkletProcessor);\n//# sourceMappingURL=ToneAudioWorkletProcessor.worklet.js.map","import \"./ToneAudioWorkletProcessor.worklet\";\nimport { addToWorklet } from \"./WorkletGlobalScope\";\nexport const singleIOProcess = /* javascript */ `\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n`;\naddToWorklet(singleIOProcess);\n//# sourceMappingURL=SingleIOProcessor.worklet.js.map","import \"../core/worklet/SingleIOProcessor.worklet\";\nimport { registerProcessor } from \"../core/worklet/WorkletGlobalScope\";\nexport const workletName = \"bit-crusher\";\nexport const bitCrusherWorklet = /* javascript */ `\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n`;\nregisterProcessor(workletName, bitCrusherWorklet);\n//# sourceMappingURL=BitCrusher.worklet.js.map","import { ToneAudioWorklet } from \"../core/worklet/ToneAudioWorklet\";\nimport { Effect } from \"./Effect\";\nimport { Gain } from \"../core/context/Gain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { connectSeries } from \"../core/context/ToneAudioNode\";\nimport { Param } from \"../core/context/Param\";\nimport { workletName } from \"./BitCrusher.worklet\";\n/**\n * BitCrusher down-samples the incoming signal to a different bit depth.\n * Lowering the bit depth of the signal creates distortion. Read more about BitCrushing\n * on [Wikipedia](https://en.wikipedia.org/wiki/Bitcrusher).\n * @example\n * // initialize crusher and route a synth through it\n * const crusher = new Tone.BitCrusher(4).toDestination();\n * const synth = new Tone.Synth().connect(crusher);\n * synth.triggerAttackRelease(\"C2\", 2);\n *\n * @category Effect\n */\nexport class BitCrusher extends Effect {\n    constructor() {\n        super(optionsFromArguments(BitCrusher.getDefaults(), arguments, [\"bits\"]));\n        this.name = \"BitCrusher\";\n        const options = optionsFromArguments(BitCrusher.getDefaults(), arguments, [\"bits\"]);\n        this._bitCrusherWorklet = new BitCrusherWorklet({\n            context: this.context,\n            bits: options.bits,\n        });\n        // connect it up\n        this.connectEffect(this._bitCrusherWorklet);\n        this.bits = this._bitCrusherWorklet.bits;\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            bits: 4,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._bitCrusherWorklet.dispose();\n        return this;\n    }\n}\n/**\n * Internal class which creates an AudioWorklet to do the bit crushing\n */\nclass BitCrusherWorklet extends ToneAudioWorklet {\n    constructor() {\n        super(optionsFromArguments(BitCrusherWorklet.getDefaults(), arguments));\n        this.name = \"BitCrusherWorklet\";\n        const options = optionsFromArguments(BitCrusherWorklet.getDefaults(), arguments);\n        this.input = new Gain({ context: this.context });\n        this.output = new Gain({ context: this.context });\n        this.bits = new Param({\n            context: this.context,\n            value: options.bits,\n            units: \"positive\",\n            minValue: 1,\n            maxValue: 16,\n            param: this._dummyParam,\n            swappable: true,\n        });\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioWorklet.getDefaults(), {\n            bits: 12,\n        });\n    }\n    _audioWorkletName() {\n        return workletName;\n    }\n    onReady(node) {\n        connectSeries(this.input, node, this.output);\n        const bits = node.parameters.get(\"bits\");\n        this.bits.setParam(bits);\n    }\n    dispose() {\n        super.dispose();\n        this.input.dispose();\n        this.output.dispose();\n        this.bits.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=BitCrusher.js.map","import { Effect } from \"./Effect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { WaveShaper } from \"../signal/WaveShaper\";\n/**\n * Chebyshev is a waveshaper which is good\n * for making different types of distortion sounds.\n * Note that odd orders sound very different from even ones,\n * and order = 1 is no change.\n * Read more at [music.columbia.edu](http://music.columbia.edu/cmc/musicandcomputers/chapter4/04_06.php).\n * @example\n * // create a new cheby\n * const cheby = new Tone.Chebyshev(50).toDestination();\n * // create a monosynth connected to our cheby\n * const synth = new Tone.MonoSynth().connect(cheby);\n * synth.triggerAttackRelease(\"C2\", 0.4);\n * @category Effect\n */\nexport class Chebyshev extends Effect {\n    constructor() {\n        super(optionsFromArguments(Chebyshev.getDefaults(), arguments, [\"order\"]));\n        this.name = \"Chebyshev\";\n        const options = optionsFromArguments(Chebyshev.getDefaults(), arguments, [\"order\"]);\n        this._shaper = new WaveShaper({\n            context: this.context,\n            length: 4096\n        });\n        this._order = options.order;\n        this.connectEffect(this._shaper);\n        this.order = options.order;\n        this.oversample = options.oversample;\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            order: 1,\n            oversample: \"none\"\n        });\n    }\n    /**\n     * get the coefficient for that degree\n     * @param  x the x value\n     * @param  degree\n     * @param  memo memoize the computed value. this speeds up computation greatly.\n     */\n    _getCoefficient(x, degree, memo) {\n        if (memo.has(degree)) {\n            return memo.get(degree);\n        }\n        else if (degree === 0) {\n            memo.set(degree, 0);\n        }\n        else if (degree === 1) {\n            memo.set(degree, x);\n        }\n        else {\n            memo.set(degree, 2 * x * this._getCoefficient(x, degree - 1, memo) - this._getCoefficient(x, degree - 2, memo));\n        }\n        return memo.get(degree);\n    }\n    /**\n     * The order of the Chebyshev polynomial which creates the equation which is applied to the incoming\n     * signal through a Tone.WaveShaper. The equations are in the form:\n     * ```\n     * order 2: 2x^2 + 1\n     * order 3: 4x^3 + 3x\n     * ```\n     * @min 1\n     * @max 100\n     */\n    get order() {\n        return this._order;\n    }\n    set order(order) {\n        this._order = order;\n        this._shaper.setMap((x => {\n            return this._getCoefficient(x, order, new Map());\n        }));\n    }\n    /**\n     * The oversampling of the effect. Can either be \"none\", \"2x\" or \"4x\".\n     */\n    get oversample() {\n        return this._shaper.oversample;\n    }\n    set oversample(oversampling) {\n        this._shaper.oversample = oversampling;\n    }\n    dispose() {\n        super.dispose();\n        this._shaper.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Chebyshev.js.map","import { StereoFeedbackEffect } from \"../effect/StereoFeedbackEffect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { Delay } from \"../core/context/Delay\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Chorus is a stereo chorus effect composed of a left and right delay with an [[LFO]] applied to the delayTime of each channel.\n * When [[feedback]] is set to a value larger than 0, you also get Flanger-type effects.\n * Inspiration from [Tuna.js](https://github.com/Dinahmoe/tuna/blob/master/tuna.js).\n * Read more on the chorus effect on [SoundOnSound](http://www.soundonsound.com/sos/jun04/articles/synthsecrets.htm).\n *\n * @example\n * const chorus = new Tone.Chorus(4, 2.5, 0.5).toDestination().start();\n * const synth = new Tone.PolySynth().connect(chorus);\n * synth.triggerAttackRelease([\"C3\", \"E3\", \"G3\"], \"8n\");\n *\n * @category Effect\n */\nexport class Chorus extends StereoFeedbackEffect {\n    constructor() {\n        super(optionsFromArguments(Chorus.getDefaults(), arguments, [\"frequency\", \"delayTime\", \"depth\"]));\n        this.name = \"Chorus\";\n        const options = optionsFromArguments(Chorus.getDefaults(), arguments, [\"frequency\", \"delayTime\", \"depth\"]);\n        this._depth = options.depth;\n        this._delayTime = options.delayTime / 1000;\n        this._lfoL = new LFO({\n            context: this.context,\n            frequency: options.frequency,\n            min: 0,\n            max: 1,\n        });\n        this._lfoR = new LFO({\n            context: this.context,\n            frequency: options.frequency,\n            min: 0,\n            max: 1,\n            phase: 180\n        });\n        this._delayNodeL = new Delay({ context: this.context });\n        this._delayNodeR = new Delay({ context: this.context });\n        this.frequency = this._lfoL.frequency;\n        readOnly(this, [\"frequency\"]);\n        // have one LFO frequency control the other\n        this._lfoL.frequency.connect(this._lfoR.frequency);\n        // connections\n        this.connectEffectLeft(this._delayNodeL);\n        this.connectEffectRight(this._delayNodeR);\n        // lfo setup\n        this._lfoL.connect(this._delayNodeL.delayTime);\n        this._lfoR.connect(this._delayNodeR.delayTime);\n        // set the initial values\n        this.depth = this._depth;\n        this.type = options.type;\n        this.spread = options.spread;\n    }\n    static getDefaults() {\n        return Object.assign(StereoFeedbackEffect.getDefaults(), {\n            frequency: 1.5,\n            delayTime: 3.5,\n            depth: 0.7,\n            type: \"sine\",\n            spread: 180,\n            feedback: 0,\n            wet: 0.5,\n        });\n    }\n    /**\n     * The depth of the effect. A depth of 1 makes the delayTime\n     * modulate between 0 and 2*delayTime (centered around the delayTime).\n     */\n    get depth() {\n        return this._depth;\n    }\n    set depth(depth) {\n        this._depth = depth;\n        const deviation = this._delayTime * depth;\n        this._lfoL.min = Math.max(this._delayTime - deviation, 0);\n        this._lfoL.max = this._delayTime + deviation;\n        this._lfoR.min = Math.max(this._delayTime - deviation, 0);\n        this._lfoR.max = this._delayTime + deviation;\n    }\n    /**\n     * The delayTime in milliseconds of the chorus. A larger delayTime\n     * will give a more pronounced effect. Nominal range a delayTime\n     * is between 2 and 20ms.\n     */\n    get delayTime() {\n        return this._delayTime * 1000;\n    }\n    set delayTime(delayTime) {\n        this._delayTime = delayTime / 1000;\n        this.depth = this._depth;\n    }\n    /**\n     * The oscillator type of the LFO.\n     */\n    get type() {\n        return this._lfoL.type;\n    }\n    set type(type) {\n        this._lfoL.type = type;\n        this._lfoR.type = type;\n    }\n    /**\n     * Amount of stereo spread. When set to 0, both LFO's will be panned centrally.\n     * When set to 180, LFO's will be panned hard left and right respectively.\n     */\n    get spread() {\n        return this._lfoR.phase - this._lfoL.phase;\n    }\n    set spread(spread) {\n        this._lfoL.phase = 90 - (spread / 2);\n        this._lfoR.phase = (spread / 2) + 90;\n    }\n    /**\n     * Start the effect.\n     */\n    start(time) {\n        this._lfoL.start(time);\n        this._lfoR.start(time);\n        return this;\n    }\n    /**\n     * Stop the lfo\n     */\n    stop(time) {\n        this._lfoL.stop(time);\n        this._lfoR.stop(time);\n        return this;\n    }\n    /**\n     * Sync the filter to the transport. See [[LFO.sync]]\n     */\n    sync() {\n        this._lfoL.sync();\n        this._lfoR.sync();\n        return this;\n    }\n    /**\n     * Unsync the filter from the transport.\n     */\n    unsync() {\n        this._lfoL.unsync();\n        this._lfoR.unsync();\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._lfoL.dispose();\n        this._lfoR.dispose();\n        this._delayNodeL.dispose();\n        this._delayNodeR.dispose();\n        this.frequency.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Chorus.js.map","import { optionsFromArguments } from \"../core/util/Defaults\";\nimport { WaveShaper } from \"../signal/WaveShaper\";\nimport { Effect } from \"./Effect\";\n/**\n * A simple distortion effect using Tone.WaveShaper.\n * Algorithm from [this stackoverflow answer](http://stackoverflow.com/a/22313408).\n *\n * @example\n * const dist = new Tone.Distortion(0.8).toDestination();\n * const fm = new Tone.FMSynth().connect(dist);\n * fm.triggerAttackRelease(\"A1\", \"8n\");\n * @category Effect\n */\nexport class Distortion extends Effect {\n    constructor() {\n        super(optionsFromArguments(Distortion.getDefaults(), arguments, [\"distortion\"]));\n        this.name = \"Distortion\";\n        const options = optionsFromArguments(Distortion.getDefaults(), arguments, [\"distortion\"]);\n        this._shaper = new WaveShaper({\n            context: this.context,\n            length: 4096,\n        });\n        this._distortion = options.distortion;\n        this.connectEffect(this._shaper);\n        this.distortion = options.distortion;\n        this.oversample = options.oversample;\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            distortion: 0.4,\n            oversample: \"none\",\n        });\n    }\n    /**\n     * The amount of distortion. Nominal range is between 0 and 1.\n     */\n    get distortion() {\n        return this._distortion;\n    }\n    set distortion(amount) {\n        this._distortion = amount;\n        const k = amount * 100;\n        const deg = Math.PI / 180;\n        this._shaper.setMap((x) => {\n            if (Math.abs(x) < 0.001) {\n                // should output 0 when input is 0\n                return 0;\n            }\n            else {\n                return (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n            }\n        });\n    }\n    /**\n     * The oversampling of the effect. Can either be \"none\", \"2x\" or \"4x\".\n     */\n    get oversample() {\n        return this._shaper.oversample;\n    }\n    set oversample(oversampling) {\n        this._shaper.oversample = oversampling;\n    }\n    dispose() {\n        super.dispose();\n        this._shaper.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Distortion.js.map","import { CrossFade } from \"../component/channel/CrossFade\";\nimport { Gain } from \"../core/context/Gain\";\nimport { ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Effect is the base class for effects. Connect the effect between\n * the effectSend and effectReturn GainNodes, then control the amount of\n * effect which goes to the output using the wet control.\n */\nexport class Effect extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        this.name = \"Effect\";\n        /**\n         * the drywet knob to control the amount of effect\n         */\n        this._dryWet = new CrossFade({ context: this.context });\n        /**\n         * The wet control is how much of the effected\n         * will pass through to the output. 1 = 100% effected\n         * signal, 0 = 100% dry signal.\n         */\n        this.wet = this._dryWet.fade;\n        /**\n         * connect the effectSend to the input of hte effect\n         */\n        this.effectSend = new Gain({ context: this.context });\n        /**\n         * connect the output of the effect to the effectReturn\n         */\n        this.effectReturn = new Gain({ context: this.context });\n        /**\n         * The effect input node\n         */\n        this.input = new Gain({ context: this.context });\n        /**\n         * The effect output\n         */\n        this.output = this._dryWet;\n        // connections\n        this.input.fan(this._dryWet.a, this.effectSend);\n        this.effectReturn.connect(this._dryWet.b);\n        this.wet.setValueAtTime(options.wet, 0);\n        this._internalChannels = [this.effectReturn, this.effectSend];\n        readOnly(this, \"wet\");\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            wet: 1,\n        });\n    }\n    /**\n     * chains the effect in between the effectSend and effectReturn\n     */\n    connectEffect(effect) {\n        // add it to the internal channels\n        this._internalChannels.push(effect);\n        this.effectSend.chain(effect, this.effectReturn);\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._dryWet.dispose();\n        this.effectSend.dispose();\n        this.effectReturn.dispose();\n        this.wet.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Effect.js.map","import { Delay } from \"../core/context/Delay\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { FeedbackEffect } from \"./FeedbackEffect\";\n/**\n * FeedbackDelay is a DelayNode in which part of output signal is fed back into the delay.\n *\n * @param delayTime The delay applied to the incoming signal.\n * @param feedback The amount of the effected signal which is fed back through the delay.\n * @example\n * const feedbackDelay = new Tone.FeedbackDelay(\"8n\", 0.5).toDestination();\n * const tom = new Tone.MembraneSynth({\n * \toctaves: 4,\n * \tpitchDecay: 0.1\n * }).connect(feedbackDelay);\n * tom.triggerAttackRelease(\"A2\", \"32n\");\n * @category Effect\n */\nexport class FeedbackDelay extends FeedbackEffect {\n    constructor() {\n        super(optionsFromArguments(FeedbackDelay.getDefaults(), arguments, [\"delayTime\", \"feedback\"]));\n        this.name = \"FeedbackDelay\";\n        const options = optionsFromArguments(FeedbackDelay.getDefaults(), arguments, [\"delayTime\", \"feedback\"]);\n        this._delayNode = new Delay({\n            context: this.context,\n            delayTime: options.delayTime,\n            maxDelay: options.maxDelay,\n        });\n        this.delayTime = this._delayNode.delayTime;\n        // connect it up\n        this.connectEffect(this._delayNode);\n        readOnly(this, \"delayTime\");\n    }\n    static getDefaults() {\n        return Object.assign(FeedbackEffect.getDefaults(), {\n            delayTime: 0.25,\n            maxDelay: 1,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._delayNode.dispose();\n        this.delayTime.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FeedbackDelay.js.map","import { Gain } from \"../core/context/Gain\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { Effect } from \"./Effect\";\n/**\n * FeedbackEffect provides a loop between an audio source and its own output.\n * This is a base-class for feedback effects.\n */\nexport class FeedbackEffect extends Effect {\n    constructor(options) {\n        super(options);\n        this.name = \"FeedbackEffect\";\n        this._feedbackGain = new Gain({\n            context: this.context,\n            gain: options.feedback,\n            units: \"normalRange\",\n        });\n        this.feedback = this._feedbackGain.gain;\n        readOnly(this, \"feedback\");\n        // the feedback loop\n        this.effectReturn.chain(this._feedbackGain, this.effectSend);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            feedback: 0.125,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._feedbackGain.dispose();\n        this.feedback.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FeedbackEffect.js.map","import { Gain } from \"../../core/context/Gain\";\nimport { connectSeries, ToneAudioNode } from \"../../core/context/ToneAudioNode\";\n/**\n * PhaseShiftAllpass is an very efficient implementation of a Hilbert Transform\n * using two Allpass filter banks whose outputs have a phase difference of 90°.\n * Here the `offset90` phase is offset by +90° in relation to `output`.\n * Coefficients and structure was developed by Olli Niemitalo.\n * For more details see: http://yehar.com/blog/?p=368\n * @category Component\n */\nexport class PhaseShiftAllpass extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        this.name = \"PhaseShiftAllpass\";\n        this.input = new Gain({ context: this.context });\n        /**\n         * The phase shifted output\n         */\n        this.output = new Gain({ context: this.context });\n        /**\n         * The PhaseShifted allpass output\n         */\n        this.offset90 = new Gain({ context: this.context });\n        const allpassBank1Values = [0.6923878, 0.9360654322959, 0.9882295226860, 0.9987488452737];\n        const allpassBank2Values = [0.4021921162426, 0.8561710882420, 0.9722909545651, 0.9952884791278];\n        this._bank0 = this._createAllPassFilterBank(allpassBank1Values);\n        this._bank1 = this._createAllPassFilterBank(allpassBank2Values);\n        this._oneSampleDelay = this.context.createIIRFilter([0.0, 1.0], [1.0, 0.0]);\n        // connect Allpass filter banks\n        connectSeries(this.input, ...this._bank0, this._oneSampleDelay, this.output);\n        connectSeries(this.input, ...this._bank1, this.offset90);\n    }\n    /**\n     * Create all of the IIR filters from an array of values using the coefficient calculation.\n     */\n    _createAllPassFilterBank(bankValues) {\n        const nodes = bankValues.map(value => {\n            const coefficients = [[value * value, 0, -1], [1, 0, -(value * value)]];\n            return this.context.createIIRFilter(coefficients[0], coefficients[1]);\n        });\n        return nodes;\n    }\n    dispose() {\n        super.dispose();\n        this.input.dispose();\n        this.output.dispose();\n        this.offset90.dispose();\n        this._bank0.forEach(f => f.disconnect());\n        this._bank1.forEach(f => f.disconnect());\n        this._oneSampleDelay.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=PhaseShiftAllpass.js.map","import { PhaseShiftAllpass } from \"../component/filter/PhaseShiftAllpass\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Effect } from \"../effect/Effect\";\nimport { Add } from \"../signal/Add\";\nimport { Multiply } from \"../signal/Multiply\";\nimport { Negate } from \"../signal/Negate\";\nimport { Signal } from \"../signal/Signal\";\nimport { Oscillator } from \"../source/oscillator/Oscillator\";\nimport { ToneOscillatorNode } from \"../source/oscillator/ToneOscillatorNode\";\n/**\n * FrequencyShifter can be used to shift all frequencies of a signal by a fixed amount.\n * The amount can be changed at audio rate and the effect is applied in real time.\n * The frequency shifting is implemented with a technique called single side band modulation using a ring modulator.\n * Note: Contrary to pitch shifting, all frequencies are shifted by the same amount,\n * destroying the harmonic relationship between them. This leads to the classic ring modulator timbre distortion.\n * The algorithm will produces some aliasing towards the high end, especially if your source material\n * contains a lot of high frequencies. Unfortunatelly the webaudio API does not support resampling\n * buffers in real time, so it is not possible to fix it properly. Depending on the use case it might\n * be an option to low pass filter your input before frequency shifting it to get ride of the aliasing.\n * You can find a very detailed description of the algorithm here: https://larzeitlin.github.io/RMFS/\n *\n * @example\n * const input = new Tone.Oscillator(230, \"sawtooth\").start();\n * const shift = new Tone.FrequencyShifter(42).toDestination();\n * input.connect(shift);\n * @category Effect\n */\nexport class FrequencyShifter extends Effect {\n    constructor() {\n        super(optionsFromArguments(FrequencyShifter.getDefaults(), arguments, [\"frequency\"]));\n        this.name = \"FrequencyShifter\";\n        const options = optionsFromArguments(FrequencyShifter.getDefaults(), arguments, [\"frequency\"]);\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n            minValue: -this.context.sampleRate / 2,\n            maxValue: this.context.sampleRate / 2,\n        });\n        this._sine = new ToneOscillatorNode({\n            context: this.context,\n            type: \"sine\",\n        });\n        this._cosine = new Oscillator({\n            context: this.context,\n            phase: -90,\n            type: \"sine\",\n        });\n        this._sineMultiply = new Multiply({ context: this.context });\n        this._cosineMultiply = new Multiply({ context: this.context });\n        this._negate = new Negate({ context: this.context });\n        this._add = new Add({ context: this.context });\n        this._phaseShifter = new PhaseShiftAllpass({ context: this.context });\n        this.effectSend.connect(this._phaseShifter);\n        // connect the carrier frequency signal to the two oscillators\n        this.frequency.fan(this._sine.frequency, this._cosine.frequency);\n        this._phaseShifter.offset90.connect(this._cosineMultiply);\n        this._cosine.connect(this._cosineMultiply.factor);\n        this._phaseShifter.connect(this._sineMultiply);\n        this._sine.connect(this._sineMultiply.factor);\n        this._sineMultiply.connect(this._negate);\n        this._cosineMultiply.connect(this._add);\n        this._negate.connect(this._add.addend);\n        this._add.connect(this.effectReturn);\n        // start the oscillators at the same time\n        const now = this.immediate();\n        this._sine.start(now);\n        this._cosine.start(now);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            frequency: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this._add.dispose();\n        this._cosine.dispose();\n        this._cosineMultiply.dispose();\n        this._negate.dispose();\n        this._phaseShifter.dispose();\n        this._sine.dispose();\n        this._sineMultiply.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FrequencyShifter.js.map","import { StereoEffect } from \"./StereoEffect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { Signal } from \"../signal/Signal\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Phaser is a phaser effect. Phasers work by changing the phase\n * of different frequency components of an incoming signal. Read more on\n * [Wikipedia](https://en.wikipedia.org/wiki/Phaser_(effect)).\n * Inspiration for this phaser comes from [Tuna.js](https://github.com/Dinahmoe/tuna/).\n * @example\n * const phaser = new Tone.Phaser({\n * \tfrequency: 15,\n * \toctaves: 5,\n * \tbaseFrequency: 1000\n * }).toDestination();\n * const synth = new Tone.FMSynth().connect(phaser);\n * synth.triggerAttackRelease(\"E3\", \"2n\");\n * @category Effect\n */\nexport class Phaser extends StereoEffect {\n    constructor() {\n        super(optionsFromArguments(Phaser.getDefaults(), arguments, [\"frequency\", \"octaves\", \"baseFrequency\"]));\n        this.name = \"Phaser\";\n        const options = optionsFromArguments(Phaser.getDefaults(), arguments, [\"frequency\", \"octaves\", \"baseFrequency\"]);\n        this._lfoL = new LFO({\n            context: this.context,\n            frequency: options.frequency,\n            min: 0,\n            max: 1\n        });\n        this._lfoR = new LFO({\n            context: this.context,\n            frequency: options.frequency,\n            min: 0,\n            max: 1,\n            phase: 180,\n        });\n        this._baseFrequency = this.toFrequency(options.baseFrequency);\n        this._octaves = options.octaves;\n        this.Q = new Signal({\n            context: this.context,\n            value: options.Q,\n            units: \"positive\",\n        });\n        this._filtersL = this._makeFilters(options.stages, this._lfoL);\n        this._filtersR = this._makeFilters(options.stages, this._lfoR);\n        this.frequency = this._lfoL.frequency;\n        this.frequency.value = options.frequency;\n        // connect them up\n        this.connectEffectLeft(...this._filtersL);\n        this.connectEffectRight(...this._filtersR);\n        // control the frequency with one LFO\n        this._lfoL.frequency.connect(this._lfoR.frequency);\n        // set the options\n        this.baseFrequency = options.baseFrequency;\n        this.octaves = options.octaves;\n        // start the lfo\n        this._lfoL.start();\n        this._lfoR.start();\n        readOnly(this, [\"frequency\", \"Q\"]);\n    }\n    static getDefaults() {\n        return Object.assign(StereoEffect.getDefaults(), {\n            frequency: 0.5,\n            octaves: 3,\n            stages: 10,\n            Q: 10,\n            baseFrequency: 350,\n        });\n    }\n    _makeFilters(stages, connectToFreq) {\n        const filters = [];\n        // make all the filters\n        for (let i = 0; i < stages; i++) {\n            const filter = this.context.createBiquadFilter();\n            filter.type = \"allpass\";\n            this.Q.connect(filter.Q);\n            connectToFreq.connect(filter.frequency);\n            filters.push(filter);\n        }\n        return filters;\n    }\n    /**\n     * The number of octaves the phase goes above the baseFrequency\n     */\n    get octaves() {\n        return this._octaves;\n    }\n    set octaves(octaves) {\n        this._octaves = octaves;\n        const max = this._baseFrequency * Math.pow(2, octaves);\n        this._lfoL.max = max;\n        this._lfoR.max = max;\n    }\n    /**\n     * The the base frequency of the filters.\n     */\n    get baseFrequency() {\n        return this._baseFrequency;\n    }\n    set baseFrequency(freq) {\n        this._baseFrequency = this.toFrequency(freq);\n        this._lfoL.min = this._baseFrequency;\n        this._lfoR.min = this._baseFrequency;\n        this.octaves = this._octaves;\n    }\n    dispose() {\n        super.dispose();\n        this.Q.dispose();\n        this._lfoL.dispose();\n        this._lfoR.dispose();\n        this._filtersL.forEach(f => f.disconnect());\n        this._filtersR.forEach(f => f.disconnect());\n        this.frequency.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Phaser.js.map","import { StereoFeedbackEffect } from \"./StereoFeedbackEffect\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Just like a [[StereoFeedbackEffect]], but the feedback is routed from left to right\n * and right to left instead of on the same channel.\n * ```\n * +--------------------------------+ feedbackL <-----------------------------------+\n * |                                                                                |\n * +-->                          +----->        +---->                          +-----+\n *      feedbackMerge +--> split        (EFFECT)       merge +--> feedbackSplit     | |\n * +-->                          +----->        +---->                          +---+ |\n * |                                                                                  |\n * +--------------------------------+ feedbackR <-------------------------------------+\n * ```\n */\nexport class StereoXFeedbackEffect extends StereoFeedbackEffect {\n    constructor(options) {\n        super(options);\n        // the left output connected to the right input\n        this._feedbackL.disconnect();\n        this._feedbackL.connect(this._feedbackMerge, 0, 1);\n        // the left output connected to the right input\n        this._feedbackR.disconnect();\n        this._feedbackR.connect(this._feedbackMerge, 0, 0);\n        readOnly(this, [\"feedback\"]);\n    }\n}\n//# sourceMappingURL=StereoXFeedbackEffect.js.map","import { StereoXFeedbackEffect } from \"./StereoXFeedbackEffect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Delay } from \"../core/context/Delay\";\nimport { Signal } from \"../signal/Signal\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * PingPongDelay is a feedback delay effect where the echo is heard\n * first in one channel and next in the opposite channel. In a stereo\n * system these are the right and left channels.\n * PingPongDelay in more simplified terms is two Tone.FeedbackDelays\n * with independent delay values. Each delay is routed to one channel\n * (left or right), and the channel triggered second will always\n * trigger at the same interval after the first.\n * @example\n * const pingPong = new Tone.PingPongDelay(\"4n\", 0.2).toDestination();\n * const drum = new Tone.MembraneSynth().connect(pingPong);\n * drum.triggerAttackRelease(\"C4\", \"32n\");\n * @category Effect\n */\nexport class PingPongDelay extends StereoXFeedbackEffect {\n    constructor() {\n        super(optionsFromArguments(PingPongDelay.getDefaults(), arguments, [\"delayTime\", \"feedback\"]));\n        this.name = \"PingPongDelay\";\n        const options = optionsFromArguments(PingPongDelay.getDefaults(), arguments, [\"delayTime\", \"feedback\"]);\n        this._leftDelay = new Delay({\n            context: this.context,\n            maxDelay: options.maxDelay,\n        });\n        this._rightDelay = new Delay({\n            context: this.context,\n            maxDelay: options.maxDelay\n        });\n        this._rightPreDelay = new Delay({\n            context: this.context,\n            maxDelay: options.maxDelay\n        });\n        this.delayTime = new Signal({\n            context: this.context,\n            units: \"time\",\n            value: options.delayTime,\n        });\n        // connect it up\n        this.connectEffectLeft(this._leftDelay);\n        this.connectEffectRight(this._rightPreDelay, this._rightDelay);\n        this.delayTime.fan(this._leftDelay.delayTime, this._rightDelay.delayTime, this._rightPreDelay.delayTime);\n        // rearranged the feedback to be after the rightPreDelay\n        this._feedbackL.disconnect();\n        this._feedbackL.connect(this._rightDelay);\n        readOnly(this, [\"delayTime\"]);\n    }\n    static getDefaults() {\n        return Object.assign(StereoXFeedbackEffect.getDefaults(), {\n            delayTime: 0.25,\n            maxDelay: 1\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._leftDelay.dispose();\n        this._rightDelay.dispose();\n        this._rightPreDelay.dispose();\n        this.delayTime.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PingPongDelay.js.map","import { FeedbackEffect } from \"./FeedbackEffect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { Delay } from \"../core/context/Delay\";\nimport { CrossFade } from \"../component/channel/CrossFade\";\nimport { Signal } from \"../signal/Signal\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { intervalToFrequencyRatio } from \"../core/type/Conversions\";\n/**\n * PitchShift does near-realtime pitch shifting to the incoming signal.\n * The effect is achieved by speeding up or slowing down the delayTime\n * of a DelayNode using a sawtooth wave.\n * Algorithm found in [this pdf](http://dsp-book.narod.ru/soundproc.pdf).\n * Additional reference by [Miller Pucket](http://msp.ucsd.edu/techniques/v0.11/book-html/node115.html).\n * @category Effect\n */\nexport class PitchShift extends FeedbackEffect {\n    constructor() {\n        super(optionsFromArguments(PitchShift.getDefaults(), arguments, [\"pitch\"]));\n        this.name = \"PitchShift\";\n        const options = optionsFromArguments(PitchShift.getDefaults(), arguments, [\"pitch\"]);\n        this._frequency = new Signal({ context: this.context });\n        this._delayA = new Delay({\n            maxDelay: 1,\n            context: this.context\n        });\n        this._lfoA = new LFO({\n            context: this.context,\n            min: 0,\n            max: 0.1,\n            type: \"sawtooth\"\n        }).connect(this._delayA.delayTime);\n        this._delayB = new Delay({\n            maxDelay: 1,\n            context: this.context\n        });\n        this._lfoB = new LFO({\n            context: this.context,\n            min: 0,\n            max: 0.1,\n            type: \"sawtooth\",\n            phase: 180\n        }).connect(this._delayB.delayTime);\n        this._crossFade = new CrossFade({ context: this.context });\n        this._crossFadeLFO = new LFO({\n            context: this.context,\n            min: 0,\n            max: 1,\n            type: \"triangle\",\n            phase: 90\n        }).connect(this._crossFade.fade);\n        this._feedbackDelay = new Delay({\n            delayTime: options.delayTime,\n            context: this.context,\n        });\n        this.delayTime = this._feedbackDelay.delayTime;\n        readOnly(this, \"delayTime\");\n        this._pitch = options.pitch;\n        this._windowSize = options.windowSize;\n        // connect the two delay lines up\n        this._delayA.connect(this._crossFade.a);\n        this._delayB.connect(this._crossFade.b);\n        // connect the frequency\n        this._frequency.fan(this._lfoA.frequency, this._lfoB.frequency, this._crossFadeLFO.frequency);\n        // route the input\n        this.effectSend.fan(this._delayA, this._delayB);\n        this._crossFade.chain(this._feedbackDelay, this.effectReturn);\n        // start the LFOs at the same time\n        const now = this.now();\n        this._lfoA.start(now);\n        this._lfoB.start(now);\n        this._crossFadeLFO.start(now);\n        // set the initial value\n        this.windowSize = this._windowSize;\n    }\n    static getDefaults() {\n        return Object.assign(FeedbackEffect.getDefaults(), {\n            pitch: 0,\n            windowSize: 0.1,\n            delayTime: 0,\n            feedback: 0\n        });\n    }\n    /**\n     * Repitch the incoming signal by some interval (measured in semi-tones).\n     * @example\n     * const pitchShift = new Tone.PitchShift().toDestination();\n     * const osc = new Tone.Oscillator().connect(pitchShift).start().toDestination();\n     * pitchShift.pitch = -12; // down one octave\n     * pitchShift.pitch = 7; // up a fifth\n     */\n    get pitch() {\n        return this._pitch;\n    }\n    set pitch(interval) {\n        this._pitch = interval;\n        let factor = 0;\n        if (interval < 0) {\n            this._lfoA.min = 0;\n            this._lfoA.max = this._windowSize;\n            this._lfoB.min = 0;\n            this._lfoB.max = this._windowSize;\n            factor = intervalToFrequencyRatio(interval - 1) + 1;\n        }\n        else {\n            this._lfoA.min = this._windowSize;\n            this._lfoA.max = 0;\n            this._lfoB.min = this._windowSize;\n            this._lfoB.max = 0;\n            factor = intervalToFrequencyRatio(interval) - 1;\n        }\n        this._frequency.value = factor * (1.2 / this._windowSize);\n    }\n    /**\n     * The window size corresponds roughly to the sample length in a looping sampler.\n     * Smaller values are desirable for a less noticeable delay time of the pitch shifted\n     * signal, but larger values will result in smoother pitch shifting for larger intervals.\n     * A nominal range of 0.03 to 0.1 is recommended.\n     */\n    get windowSize() {\n        return this._windowSize;\n    }\n    set windowSize(size) {\n        this._windowSize = this.toSeconds(size);\n        this.pitch = this._pitch;\n    }\n    dispose() {\n        super.dispose();\n        this._frequency.dispose();\n        this._delayA.dispose();\n        this._delayB.dispose();\n        this._lfoA.dispose();\n        this._lfoB.dispose();\n        this._crossFade.dispose();\n        this._crossFadeLFO.dispose();\n        this._feedbackDelay.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PitchShift.js.map","import { __awaiter } from \"tslib\";\nimport { Merge } from \"../component/channel/Merge\";\nimport { Gain } from \"../core/context/Gain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Noise } from \"../source/Noise\";\nimport { Effect } from \"./Effect\";\nimport { OfflineContext } from \"../core/context/OfflineContext\";\nimport { noOp } from \"../core/util/Interface\";\nimport { assertRange } from \"../core/util/Debug\";\n/**\n * Simple convolution created with decaying noise.\n * Generates an Impulse Response Buffer\n * with Tone.Offline then feeds the IR into ConvolverNode.\n * The impulse response generation is async, so you have\n * to wait until [[ready]] resolves before it will make a sound.\n *\n * Inspiration from [ReverbGen](https://github.com/adelespinasse/reverbGen).\n * Copyright (c) 2014 Alan deLespinasse Apache 2.0 License.\n *\n * @category Effect\n */\nexport class Reverb extends Effect {\n    constructor() {\n        super(optionsFromArguments(Reverb.getDefaults(), arguments, [\"decay\"]));\n        this.name = \"Reverb\";\n        /**\n         * Convolver node\n         */\n        this._convolver = this.context.createConvolver();\n        /**\n         * Resolves when the reverb buffer is generated. Whenever either [[decay]]\n         * or [[preDelay]] are set, you have to wait until [[ready]] resolves\n         * before the IR is generated with the latest values.\n         */\n        this.ready = Promise.resolve();\n        const options = optionsFromArguments(Reverb.getDefaults(), arguments, [\"decay\"]);\n        this._decay = options.decay;\n        this._preDelay = options.preDelay;\n        this.generate();\n        this.connectEffect(this._convolver);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            decay: 1.5,\n            preDelay: 0.01,\n        });\n    }\n    /**\n     * The duration of the reverb.\n     */\n    get decay() {\n        return this._decay;\n    }\n    set decay(time) {\n        time = this.toSeconds(time);\n        assertRange(time, 0.001);\n        this._decay = time;\n        this.generate();\n    }\n    /**\n     * The amount of time before the reverb is fully ramped in.\n     */\n    get preDelay() {\n        return this._preDelay;\n    }\n    set preDelay(time) {\n        time = this.toSeconds(time);\n        assertRange(time, 0);\n        this._preDelay = time;\n        this.generate();\n    }\n    /**\n     * Generate the Impulse Response. Returns a promise while the IR is being generated.\n     * @return Promise which returns this object.\n     */\n    generate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const previousReady = this.ready;\n            // create a noise burst which decays over the duration in each channel\n            const context = new OfflineContext(2, this._decay + this._preDelay, this.context.sampleRate);\n            const noiseL = new Noise({ context });\n            const noiseR = new Noise({ context });\n            const merge = new Merge({ context });\n            noiseL.connect(merge, 0, 0);\n            noiseR.connect(merge, 0, 1);\n            const gainNode = new Gain({ context }).toDestination();\n            merge.connect(gainNode);\n            noiseL.start(0);\n            noiseR.start(0);\n            // predelay\n            gainNode.gain.setValueAtTime(0, 0);\n            gainNode.gain.setValueAtTime(1, this._preDelay);\n            // decay\n            gainNode.gain.exponentialApproachValueAtTime(0, this._preDelay, this.decay);\n            // render the buffer\n            const renderPromise = context.render();\n            this.ready = renderPromise.then(noOp);\n            // wait for the previous `ready` to resolve\n            yield previousReady;\n            // set the buffer\n            this._convolver.buffer = (yield renderPromise).get();\n            return this;\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._convolver.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=Reverb.js.map","import { connect, connectSeries, ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { CrossFade } from \"../component/channel/CrossFade\";\nimport { Split } from \"../component/channel/Split\";\nimport { Gain } from \"../core/context/Gain\";\nimport { Merge } from \"../component/channel/Merge\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Base class for Stereo effects.\n */\nexport class StereoEffect extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        this.name = \"StereoEffect\";\n        this.input = new Gain({ context: this.context });\n        // force mono sources to be stereo\n        this.input.channelCount = 2;\n        this.input.channelCountMode = \"explicit\";\n        this._dryWet = this.output = new CrossFade({\n            context: this.context,\n            fade: options.wet\n        });\n        this.wet = this._dryWet.fade;\n        this._split = new Split({ context: this.context, channels: 2 });\n        this._merge = new Merge({ context: this.context, channels: 2 });\n        // connections\n        this.input.connect(this._split);\n        // dry wet connections\n        this.input.connect(this._dryWet.a);\n        this._merge.connect(this._dryWet.b);\n        readOnly(this, [\"wet\"]);\n    }\n    /**\n     * Connect the left part of the effect\n     */\n    connectEffectLeft(...nodes) {\n        this._split.connect(nodes[0], 0, 0);\n        connectSeries(...nodes);\n        connect(nodes[nodes.length - 1], this._merge, 0, 0);\n    }\n    /**\n     * Connect the right part of the effect\n     */\n    connectEffectRight(...nodes) {\n        this._split.connect(nodes[0], 1, 0);\n        connectSeries(...nodes);\n        connect(nodes[nodes.length - 1], this._merge, 0, 1);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            wet: 1,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._dryWet.dispose();\n        this._split.dispose();\n        this._merge.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=StereoEffect.js.map","import { StereoEffect } from \"./StereoEffect\";\nimport { Signal } from \"../signal/Signal\";\nimport { Gain } from \"../core/context/Gain\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { Split } from \"../component/channel/Split\";\nimport { Merge } from \"../component/channel/Merge\";\n/**\n * Base class for stereo feedback effects where the effectReturn is fed back into the same channel.\n */\nexport class StereoFeedbackEffect extends StereoEffect {\n    constructor(options) {\n        super(options);\n        this.feedback = new Signal({\n            context: this.context,\n            value: options.feedback,\n            units: \"normalRange\"\n        });\n        this._feedbackL = new Gain({ context: this.context });\n        this._feedbackR = new Gain({ context: this.context });\n        this._feedbackSplit = new Split({ context: this.context, channels: 2 });\n        this._feedbackMerge = new Merge({ context: this.context, channels: 2 });\n        this._merge.connect(this._feedbackSplit);\n        this._feedbackMerge.connect(this._split);\n        // the left output connected to the left input\n        this._feedbackSplit.connect(this._feedbackL, 0, 0);\n        this._feedbackL.connect(this._feedbackMerge, 0, 0);\n        // the right output connected to the right input\n        this._feedbackSplit.connect(this._feedbackR, 1, 0);\n        this._feedbackR.connect(this._feedbackMerge, 0, 1);\n        // the feedback control\n        this.feedback.fan(this._feedbackL.gain, this._feedbackR.gain);\n        readOnly(this, [\"feedback\"]);\n    }\n    static getDefaults() {\n        return Object.assign(StereoEffect.getDefaults(), {\n            feedback: 0.5,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.feedback.dispose();\n        this._feedbackL.dispose();\n        this._feedbackR.dispose();\n        this._feedbackSplit.dispose();\n        this._feedbackMerge.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=StereoFeedbackEffect.js.map","import { connectSeries } from \"../core/context/ToneAudioNode\";\nimport { Gain } from \"../core/context/Gain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Negate } from \"../signal/Negate\";\nimport { Signal } from \"../signal/Signal\";\n/**\n * Subtract the signal connected to the input is subtracted from the signal connected\n * The subtrahend.\n *\n * @example\n * // subtract a scalar from a signal\n * const sub = new Tone.Subtract(1);\n * const sig = new Tone.Signal(4).connect(sub);\n * // the output of sub is 3.\n * @example\n * // subtract two signals\n * const sub = new Tone.Subtract();\n * const sigA = new Tone.Signal(10);\n * const sigB = new Tone.Signal(2.5);\n * sigA.connect(sub);\n * sigB.connect(sub.subtrahend);\n * // output of sub is 7.5\n * @category Signal\n */\nexport class Subtract extends Signal {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Subtract.getDefaults(), arguments, [\"value\"])));\n        this.override = false;\n        this.name = \"Subtract\";\n        /**\n         * the summing node\n         */\n        this._sum = new Gain({ context: this.context });\n        this.input = this._sum;\n        this.output = this._sum;\n        /**\n         * Negate the input of the second input before connecting it to the summing node.\n         */\n        this._neg = new Negate({ context: this.context });\n        /**\n         * The value which is subtracted from the main signal\n         */\n        this.subtrahend = this._param;\n        connectSeries(this._constantSource, this._neg, this._sum);\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            value: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._neg.dispose();\n        this._sum.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Subtract.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { Split } from \"./Split\";\nimport { Add } from \"../../signal/Add\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Subtract } from \"../../signal/Subtract\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n/**\n * Mid/Side processing separates the the 'mid' signal (which comes out of both the left and the right channel)\n * and the 'side' (which only comes out of the the side channels).\n * ```\n * Mid = (Left+Right)/sqrt(2);   // obtain mid-signal from left and right\n * Side = (Left-Right)/sqrt(2);   // obtain side-signal from left and right\n * ```\n * @category Component\n */\nexport class MidSideSplit extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(MidSideSplit.getDefaults(), arguments));\n        this.name = \"MidSideSplit\";\n        this._split = this.input = new Split({\n            channels: 2,\n            context: this.context\n        });\n        this._midAdd = new Add({ context: this.context });\n        this.mid = new Multiply({\n            context: this.context,\n            value: Math.SQRT1_2,\n        });\n        this._sideSubtract = new Subtract({ context: this.context });\n        this.side = new Multiply({\n            context: this.context,\n            value: Math.SQRT1_2,\n        });\n        this._split.connect(this._midAdd, 0);\n        this._split.connect(this._midAdd.addend, 1);\n        this._split.connect(this._sideSubtract, 0);\n        this._split.connect(this._sideSubtract.subtrahend, 1);\n        this._midAdd.connect(this.mid);\n        this._sideSubtract.connect(this.side);\n    }\n    dispose() {\n        super.dispose();\n        this.mid.dispose();\n        this.side.dispose();\n        this._midAdd.dispose();\n        this._sideSubtract.dispose();\n        this._split.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=MidSideSplit.js.map","import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { Merge } from \"./Merge\";\nimport { Add } from \"../../signal/Add\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Subtract } from \"../../signal/Subtract\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n/**\n * MidSideMerge merges the mid and side signal after they've been separated by [[MidSideSplit]]\n * ```\n * Mid = (Left+Right)/sqrt(2);   // obtain mid-signal from left and right\n * Side = (Left-Right)/sqrt(2);   // obtain side-signal from left and right\n * ```\n * @category Component\n */\nexport class MidSideMerge extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(MidSideMerge.getDefaults(), arguments));\n        this.name = \"MidSideMerge\";\n        this.mid = new Gain({ context: this.context });\n        this.side = new Gain({ context: this.context });\n        this._left = new Add({ context: this.context });\n        this._leftMult = new Multiply({\n            context: this.context,\n            value: Math.SQRT1_2\n        });\n        this._right = new Subtract({ context: this.context });\n        this._rightMult = new Multiply({\n            context: this.context,\n            value: Math.SQRT1_2\n        });\n        this._merge = this.output = new Merge({ context: this.context });\n        this.mid.fan(this._left);\n        this.side.connect(this._left.addend);\n        this.mid.connect(this._right);\n        this.side.connect(this._right.subtrahend);\n        this._left.connect(this._leftMult);\n        this._right.connect(this._rightMult);\n        this._leftMult.connect(this._merge, 0, 0);\n        this._rightMult.connect(this._merge, 0, 1);\n    }\n    dispose() {\n        super.dispose();\n        this.mid.dispose();\n        this.side.dispose();\n        this._leftMult.dispose();\n        this._rightMult.dispose();\n        this._left.dispose();\n        this._right.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=MidSideMerge.js.map","import { Effect } from \"./Effect\";\nimport { MidSideSplit } from \"../component/channel/MidSideSplit\";\nimport { MidSideMerge } from \"../component/channel/MidSideMerge\";\n/**\n * Mid/Side processing separates the the 'mid' signal\n * (which comes out of both the left and the right channel)\n * and the 'side' (which only comes out of the the side channels)\n * and effects them separately before being recombined.\n * Applies a Mid/Side seperation and recombination.\n * Algorithm found in [kvraudio forums](http://www.kvraudio.com/forum/viewtopic.php?t=212587).\n * This is a base-class for Mid/Side Effects.\n * @category Effect\n */\nexport class MidSideEffect extends Effect {\n    constructor(options) {\n        super(options);\n        this.name = \"MidSideEffect\";\n        this._midSideMerge = new MidSideMerge({ context: this.context });\n        this._midSideSplit = new MidSideSplit({ context: this.context });\n        this._midSend = this._midSideSplit.mid;\n        this._sideSend = this._midSideSplit.side;\n        this._midReturn = this._midSideMerge.mid;\n        this._sideReturn = this._midSideMerge.side;\n        // the connections\n        this.effectSend.connect(this._midSideSplit);\n        this._midSideMerge.connect(this.effectReturn);\n    }\n    /**\n     * Connect the mid chain of the effect\n     */\n    connectEffectMid(...nodes) {\n        this._midSend.chain(...nodes, this._midReturn);\n    }\n    /**\n     * Connect the side chain of the effect\n     */\n    connectEffectSide(...nodes) {\n        this._sideSend.chain(...nodes, this._sideReturn);\n    }\n    dispose() {\n        super.dispose();\n        this._midSideSplit.dispose();\n        this._midSideMerge.dispose();\n        this._midSend.dispose();\n        this._sideSend.dispose();\n        this._midReturn.dispose();\n        this._sideReturn.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=MidSideEffect.js.map","import { MidSideEffect } from \"../effect/MidSideEffect\";\nimport { Signal } from \"../signal/Signal\";\nimport { Multiply } from \"../signal/Multiply\";\nimport { Subtract } from \"../signal/Subtract\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { connect } from \"../core/context/ToneAudioNode\";\n/**\n * Applies a width factor to the mid/side seperation.\n * 0 is all mid and 1 is all side.\n * Algorithm found in [kvraudio forums](http://www.kvraudio.com/forum/viewtopic.php?t=212587).\n * ```\n * Mid *= 2*(1-width)<br>\n * Side *= 2*width\n * ```\n * @category Effect\n */\nexport class StereoWidener extends MidSideEffect {\n    constructor() {\n        super(optionsFromArguments(StereoWidener.getDefaults(), arguments, [\"width\"]));\n        this.name = \"StereoWidener\";\n        const options = optionsFromArguments(StereoWidener.getDefaults(), arguments, [\"width\"]);\n        this.width = new Signal({\n            context: this.context,\n            value: options.width,\n            units: \"normalRange\",\n        });\n        readOnly(this, [\"width\"]);\n        this._twoTimesWidthMid = new Multiply({\n            context: this.context,\n            value: 2,\n        });\n        this._twoTimesWidthSide = new Multiply({\n            context: this.context,\n            value: 2,\n        });\n        this._midMult = new Multiply({ context: this.context });\n        this._twoTimesWidthMid.connect(this._midMult.factor);\n        this.connectEffectMid(this._midMult);\n        this._oneMinusWidth = new Subtract({ context: this.context });\n        this._oneMinusWidth.connect(this._twoTimesWidthMid);\n        connect(this.context.getConstant(1), this._oneMinusWidth);\n        this.width.connect(this._oneMinusWidth.subtrahend);\n        this._sideMult = new Multiply({ context: this.context });\n        this.width.connect(this._twoTimesWidthSide);\n        this._twoTimesWidthSide.connect(this._sideMult.factor);\n        this.connectEffectSide(this._sideMult);\n    }\n    static getDefaults() {\n        return Object.assign(MidSideEffect.getDefaults(), {\n            width: 0.5,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.width.dispose();\n        this._midMult.dispose();\n        this._sideMult.dispose();\n        this._twoTimesWidthMid.dispose();\n        this._twoTimesWidthSide.dispose();\n        this._oneMinusWidth.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=StereoWidener.js.map","import { StereoEffect } from \"./StereoEffect\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { Gain } from \"../core/context/Gain\";\nimport { Signal } from \"../signal/Signal\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * Tremolo modulates the amplitude of an incoming signal using an [[LFO]].\n * The effect is a stereo effect where the modulation phase is inverted in each channel.\n *\n * @example\n * // create a tremolo and start it's LFO\n * const tremolo = new Tone.Tremolo(9, 0.75).toDestination().start();\n * // route an oscillator through the tremolo and start it\n * const oscillator = new Tone.Oscillator().connect(tremolo).start();\n *\n * @category Effect\n */\nexport class Tremolo extends StereoEffect {\n    constructor() {\n        super(optionsFromArguments(Tremolo.getDefaults(), arguments, [\"frequency\", \"depth\"]));\n        this.name = \"Tremolo\";\n        const options = optionsFromArguments(Tremolo.getDefaults(), arguments, [\"frequency\", \"depth\"]);\n        this._lfoL = new LFO({\n            context: this.context,\n            type: options.type,\n            min: 1,\n            max: 0,\n        });\n        this._lfoR = new LFO({\n            context: this.context,\n            type: options.type,\n            min: 1,\n            max: 0,\n        });\n        this._amplitudeL = new Gain({ context: this.context });\n        this._amplitudeR = new Gain({ context: this.context });\n        this.frequency = new Signal({\n            context: this.context,\n            value: options.frequency,\n            units: \"frequency\",\n        });\n        this.depth = new Signal({\n            context: this.context,\n            value: options.depth,\n            units: \"normalRange\",\n        });\n        readOnly(this, [\"frequency\", \"depth\"]);\n        this.connectEffectLeft(this._amplitudeL);\n        this.connectEffectRight(this._amplitudeR);\n        this._lfoL.connect(this._amplitudeL.gain);\n        this._lfoR.connect(this._amplitudeR.gain);\n        this.frequency.fan(this._lfoL.frequency, this._lfoR.frequency);\n        this.depth.fan(this._lfoR.amplitude, this._lfoL.amplitude);\n        this.spread = options.spread;\n    }\n    static getDefaults() {\n        return Object.assign(StereoEffect.getDefaults(), {\n            frequency: 10,\n            type: \"sine\",\n            depth: 0.5,\n            spread: 180,\n        });\n    }\n    /**\n     * Start the tremolo.\n     */\n    start(time) {\n        this._lfoL.start(time);\n        this._lfoR.start(time);\n        return this;\n    }\n    /**\n     * Stop the tremolo.\n     */\n    stop(time) {\n        this._lfoL.stop(time);\n        this._lfoR.stop(time);\n        return this;\n    }\n    /**\n     * Sync the effect to the transport.\n     */\n    sync() {\n        this._lfoL.sync();\n        this._lfoR.sync();\n        this.context.transport.syncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * Unsync the filter from the transport\n     */\n    unsync() {\n        this._lfoL.unsync();\n        this._lfoR.unsync();\n        this.context.transport.unsyncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * The oscillator type.\n     */\n    get type() {\n        return this._lfoL.type;\n    }\n    set type(type) {\n        this._lfoL.type = type;\n        this._lfoR.type = type;\n    }\n    /**\n     * Amount of stereo spread. When set to 0, both LFO's will be panned centrally.\n     * When set to 180, LFO's will be panned hard left and right respectively.\n     */\n    get spread() {\n        return this._lfoR.phase - this._lfoL.phase; // 180\n    }\n    set spread(spread) {\n        this._lfoL.phase = 90 - (spread / 2);\n        this._lfoR.phase = (spread / 2) + 90;\n    }\n    dispose() {\n        super.dispose();\n        this._lfoL.dispose();\n        this._lfoR.dispose();\n        this._amplitudeL.dispose();\n        this._amplitudeR.dispose();\n        this.frequency.dispose();\n        this.depth.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Tremolo.js.map","import { Effect } from \"./Effect\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { LFO } from \"../source/oscillator/LFO\";\nimport { Delay } from \"../core/context/Delay\";\nimport { readOnly } from \"../core/util/Interface\";\n/**\n * A Vibrato effect composed of a Tone.Delay and a Tone.LFO. The LFO\n * modulates the delayTime of the delay, causing the pitch to rise and fall.\n * @category Effect\n */\nexport class Vibrato extends Effect {\n    constructor() {\n        super(optionsFromArguments(Vibrato.getDefaults(), arguments, [\"frequency\", \"depth\"]));\n        this.name = \"Vibrato\";\n        const options = optionsFromArguments(Vibrato.getDefaults(), arguments, [\"frequency\", \"depth\"]);\n        this._delayNode = new Delay({\n            context: this.context,\n            delayTime: 0,\n            maxDelay: options.maxDelay,\n        });\n        this._lfo = new LFO({\n            context: this.context,\n            type: options.type,\n            min: 0,\n            max: options.maxDelay,\n            frequency: options.frequency,\n            phase: -90 // offse the phase so the resting position is in the center\n        }).start().connect(this._delayNode.delayTime);\n        this.frequency = this._lfo.frequency;\n        this.depth = this._lfo.amplitude;\n        this.depth.value = options.depth;\n        readOnly(this, [\"frequency\", \"depth\"]);\n        this.effectSend.chain(this._delayNode, this.effectReturn);\n    }\n    static getDefaults() {\n        return Object.assign(Effect.getDefaults(), {\n            maxDelay: 0.005,\n            frequency: 5,\n            depth: 0.1,\n            type: \"sine\"\n        });\n    }\n    /**\n     * Type of oscillator attached to the Vibrato.\n     */\n    get type() {\n        return this._lfo.type;\n    }\n    set type(type) {\n        this._lfo.type = type;\n    }\n    dispose() {\n        super.dispose();\n        this._delayNode.dispose();\n        this._lfo.dispose();\n        this.frequency.dispose();\n        this.depth.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Vibrato.js.map","import { AudioToGain } from \"../signal/AudioToGain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { ModulationSynth } from \"./ModulationSynth\";\n/**\n * AMSynth uses the output of one Tone.Synth to modulate the\n * amplitude of another Tone.Synth. The harmonicity (the ratio between\n * the two signals) affects the timbre of the output signal greatly.\n * Read more about Amplitude Modulation Synthesis on\n * [SoundOnSound](https://web.archive.org/web/20160404103653/http://www.soundonsound.com:80/sos/mar00/articles/synthsecrets.htm).\n *\n * @example\n * const synth = new Tone.AMSynth().toDestination();\n * synth.triggerAttackRelease(\"C4\", \"4n\");\n *\n * @category Instrument\n */\nexport class AMSynth extends ModulationSynth {\n    constructor() {\n        super(optionsFromArguments(AMSynth.getDefaults(), arguments));\n        this.name = \"AMSynth\";\n        this._modulationScale = new AudioToGain({\n            context: this.context,\n        });\n        // control the two voices frequency\n        this.frequency.connect(this._carrier.frequency);\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this.detune.fan(this._carrier.detune, this._modulator.detune);\n        this._modulator.chain(this._modulationScale, this._modulationNode.gain);\n        this._carrier.chain(this._modulationNode, this.output);\n    }\n    dispose() {\n        super.dispose();\n        this._modulationScale.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AMSynth.js.map","import { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Multiply } from \"../signal/Multiply\";\nimport { ModulationSynth } from \"./ModulationSynth\";\n/**\n * FMSynth is composed of two Tone.Synths where one Tone.Synth modulates\n * the frequency of a second Tone.Synth. A lot of spectral content\n * can be explored using the modulationIndex parameter. Read more about\n * frequency modulation synthesis on Sound On Sound: [Part 1](https://web.archive.org/web/20160403123704/http://www.soundonsound.com/sos/apr00/articles/synthsecrets.htm), [Part 2](https://web.archive.org/web/20160403115835/http://www.soundonsound.com/sos/may00/articles/synth.htm).\n *\n * @example\n * const fmSynth = new Tone.FMSynth().toDestination();\n * fmSynth.triggerAttackRelease(\"C5\", \"4n\");\n *\n * @category Instrument\n */\nexport class FMSynth extends ModulationSynth {\n    constructor() {\n        super(optionsFromArguments(FMSynth.getDefaults(), arguments));\n        this.name = \"FMSynth\";\n        const options = optionsFromArguments(FMSynth.getDefaults(), arguments);\n        this.modulationIndex = new Multiply({\n            context: this.context,\n            value: options.modulationIndex,\n        });\n        // control the two voices frequency\n        this.frequency.connect(this._carrier.frequency);\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this.frequency.chain(this.modulationIndex, this._modulationNode);\n        this.detune.fan(this._carrier.detune, this._modulator.detune);\n        this._modulator.connect(this._modulationNode.gain);\n        this._modulationNode.connect(this._carrier.frequency);\n        this._carrier.connect(this.output);\n    }\n    static getDefaults() {\n        return Object.assign(ModulationSynth.getDefaults(), {\n            modulationIndex: 10,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.modulationIndex.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FMSynth.js.map","import { Signal } from \"../signal/Signal\";\nimport { Multiply } from \"../signal/Multiply\";\nimport { Gain } from \"../core/context/Gain\";\nimport { Envelope } from \"../component/envelope/Envelope\";\nimport { ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { Monophonic } from \"./Monophonic\";\nimport { OmniOscillator } from \"../source/oscillator/OmniOscillator\";\nimport { Source } from \"../source/Source\";\nimport { Synth } from \"./Synth\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { omitFromObject, optionsFromArguments } from \"../core/util/Defaults\";\n/**\n * Base class for both AM and FM synths\n */\nexport class ModulationSynth extends Monophonic {\n    constructor() {\n        super(optionsFromArguments(ModulationSynth.getDefaults(), arguments));\n        this.name = \"ModulationSynth\";\n        const options = optionsFromArguments(ModulationSynth.getDefaults(), arguments);\n        this._carrier = new Synth({\n            context: this.context,\n            oscillator: options.oscillator,\n            envelope: options.envelope,\n            onsilence: () => this.onsilence(this),\n            volume: -10,\n        });\n        this._modulator = new Synth({\n            context: this.context,\n            oscillator: options.modulation,\n            envelope: options.modulationEnvelope,\n            volume: -10,\n        });\n        this.oscillator = this._carrier.oscillator;\n        this.envelope = this._carrier.envelope;\n        this.modulation = this._modulator.oscillator;\n        this.modulationEnvelope = this._modulator.envelope;\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n        });\n        this.detune = new Signal({\n            context: this.context,\n            value: options.detune,\n            units: \"cents\"\n        });\n        this.harmonicity = new Multiply({\n            context: this.context,\n            value: options.harmonicity,\n            minValue: 0,\n        });\n        this._modulationNode = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        readOnly(this, [\"frequency\", \"harmonicity\", \"oscillator\", \"envelope\", \"modulation\", \"modulationEnvelope\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Monophonic.getDefaults(), {\n            harmonicity: 3,\n            oscillator: Object.assign(omitFromObject(OmniOscillator.getDefaults(), [\n                ...Object.keys(Source.getDefaults()),\n                \"frequency\",\n                \"detune\"\n            ]), {\n                type: \"sine\"\n            }),\n            envelope: Object.assign(omitFromObject(Envelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.01,\n                decay: 0.01,\n                sustain: 1,\n                release: 0.5\n            }),\n            modulation: Object.assign(omitFromObject(OmniOscillator.getDefaults(), [\n                ...Object.keys(Source.getDefaults()),\n                \"frequency\",\n                \"detune\"\n            ]), {\n                type: \"square\"\n            }),\n            modulationEnvelope: Object.assign(omitFromObject(Envelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.5,\n                decay: 0.0,\n                sustain: 1,\n                release: 0.5\n            })\n        });\n    }\n    /**\n     * Trigger the attack portion of the note\n     */\n    _triggerEnvelopeAttack(time, velocity) {\n        // @ts-ignore\n        this._carrier._triggerEnvelopeAttack(time, velocity);\n        // @ts-ignore\n        this._modulator._triggerEnvelopeAttack(time, velocity);\n    }\n    /**\n     * Trigger the release portion of the note\n     */\n    _triggerEnvelopeRelease(time) {\n        // @ts-ignore\n        this._carrier._triggerEnvelopeRelease(time);\n        // @ts-ignore\n        this._modulator._triggerEnvelopeRelease(time);\n        return this;\n    }\n    getLevelAtTime(time) {\n        time = this.toSeconds(time);\n        return this.envelope.getValueAtTime(time);\n    }\n    dispose() {\n        super.dispose();\n        this._carrier.dispose();\n        this._modulator.dispose();\n        this.frequency.dispose();\n        this.detune.dispose();\n        this.harmonicity.dispose();\n        this._modulationNode.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ModulationSynth.js.map","import { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Envelope } from \"./Envelope\";\nimport { Scale } from \"../../signal/Scale\";\nimport { Pow } from \"../../signal/Pow\";\nimport { assertRange } from \"../../core/util/Debug\";\n/**\n * FrequencyEnvelope is an [[Envelope]] which ramps between [[baseFrequency]]\n * and [[octaves]]. It can also have an optional [[exponent]] to adjust the curve\n * which it ramps.\n * @example\n * const oscillator = new Tone.Oscillator().toDestination().start();\n * const freqEnv = new Tone.FrequencyEnvelope({\n * \tattack: 0.2,\n * \tbaseFrequency: \"C2\",\n * \toctaves: 4\n * });\n * freqEnv.connect(oscillator.frequency);\n * freqEnv.triggerAttack();\n * @category Component\n */\nexport class FrequencyEnvelope extends Envelope {\n    constructor() {\n        super(optionsFromArguments(FrequencyEnvelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]));\n        this.name = \"FrequencyEnvelope\";\n        const options = optionsFromArguments(FrequencyEnvelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]);\n        this._octaves = options.octaves;\n        this._baseFrequency = this.toFrequency(options.baseFrequency);\n        this._exponent = this.input = new Pow({\n            context: this.context,\n            value: options.exponent\n        });\n        this._scale = this.output = new Scale({\n            context: this.context,\n            min: this._baseFrequency,\n            max: this._baseFrequency * Math.pow(2, this._octaves),\n        });\n        this._sig.chain(this._exponent, this._scale);\n    }\n    static getDefaults() {\n        return Object.assign(Envelope.getDefaults(), {\n            baseFrequency: 200,\n            exponent: 1,\n            octaves: 4,\n        });\n    }\n    /**\n     * The envelope's minimum output value. This is the value which it\n     * starts at.\n     */\n    get baseFrequency() {\n        return this._baseFrequency;\n    }\n    set baseFrequency(min) {\n        const freq = this.toFrequency(min);\n        assertRange(freq, 0);\n        this._baseFrequency = freq;\n        this._scale.min = this._baseFrequency;\n        // update the max value when the min changes\n        this.octaves = this._octaves;\n    }\n    /**\n     * The number of octaves above the baseFrequency that the\n     * envelope will scale to.\n     */\n    get octaves() {\n        return this._octaves;\n    }\n    set octaves(octaves) {\n        this._octaves = octaves;\n        this._scale.max = this._baseFrequency * Math.pow(2, octaves);\n    }\n    /**\n     * The envelope's exponent value.\n     */\n    get exponent() {\n        return this._exponent.value;\n    }\n    set exponent(exponent) {\n        this._exponent.value = exponent;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._exponent.dispose();\n        this._scale.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FrequencyEnvelope.js.map","import { AmplitudeEnvelope } from \"../component/envelope/AmplitudeEnvelope\";\nimport { Envelope } from \"../component/envelope/Envelope\";\nimport { Filter } from \"../component/filter/Filter\";\nimport { omitFromObject, optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { Monophonic } from \"../instrument/Monophonic\";\nimport { OmniOscillator } from \"../source/oscillator/OmniOscillator\";\nimport { Source } from \"../source/Source\";\nimport { FrequencyEnvelope } from \"../component/envelope/FrequencyEnvelope\";\nimport { ToneAudioNode } from \"../core/context/ToneAudioNode\";\n/**\n * MonoSynth is composed of one `oscillator`, one `filter`, and two `envelopes`.\n * The amplitude of the Oscillator and the cutoff frequency of the\n * Filter are controlled by Envelopes.\n * <img src=\"https://docs.google.com/drawings/d/1gaY1DF9_Hzkodqf8JI1Cg2VZfwSElpFQfI94IQwad38/pub?w=924&h=240\">\n * @example\n * const synth = new Tone.MonoSynth({\n * \toscillator: {\n * \t\ttype: \"square\"\n * \t},\n * \tenvelope: {\n * \t\tattack: 0.1\n * \t}\n * }).toDestination();\n * synth.triggerAttackRelease(\"C4\", \"8n\");\n * @category Instrument\n */\nexport class MonoSynth extends Monophonic {\n    constructor() {\n        super(optionsFromArguments(MonoSynth.getDefaults(), arguments));\n        this.name = \"MonoSynth\";\n        const options = optionsFromArguments(MonoSynth.getDefaults(), arguments);\n        this.oscillator = new OmniOscillator(Object.assign(options.oscillator, {\n            context: this.context,\n            detune: options.detune,\n            onstop: () => this.onsilence(this),\n        }));\n        this.frequency = this.oscillator.frequency;\n        this.detune = this.oscillator.detune;\n        this.filter = new Filter(Object.assign(options.filter, { context: this.context }));\n        this.filterEnvelope = new FrequencyEnvelope(Object.assign(options.filterEnvelope, { context: this.context }));\n        this.envelope = new AmplitudeEnvelope(Object.assign(options.envelope, { context: this.context }));\n        // connect the oscillators to the output\n        this.oscillator.chain(this.filter, this.envelope, this.output);\n        // connect the filter envelope\n        this.filterEnvelope.connect(this.filter.frequency);\n        readOnly(this, [\"oscillator\", \"frequency\", \"detune\", \"filter\", \"filterEnvelope\", \"envelope\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Monophonic.getDefaults(), {\n            envelope: Object.assign(omitFromObject(Envelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.005,\n                decay: 0.1,\n                release: 1,\n                sustain: 0.9,\n            }),\n            filter: Object.assign(omitFromObject(Filter.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                Q: 1,\n                rolloff: -12,\n                type: \"lowpass\",\n            }),\n            filterEnvelope: Object.assign(omitFromObject(FrequencyEnvelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.6,\n                baseFrequency: 200,\n                decay: 0.2,\n                exponent: 2,\n                octaves: 3,\n                release: 2,\n                sustain: 0.5,\n            }),\n            oscillator: Object.assign(omitFromObject(OmniOscillator.getDefaults(), Object.keys(Source.getDefaults())), {\n                type: \"sawtooth\",\n            }),\n        });\n    }\n    /**\n     * start the attack portion of the envelope\n     * @param time the time the attack should start\n     * @param velocity the velocity of the note (0-1)\n     */\n    _triggerEnvelopeAttack(time, velocity = 1) {\n        this.envelope.triggerAttack(time, velocity);\n        this.filterEnvelope.triggerAttack(time);\n        this.oscillator.start(time);\n        if (this.envelope.sustain === 0) {\n            const computedAttack = this.toSeconds(this.envelope.attack);\n            const computedDecay = this.toSeconds(this.envelope.decay);\n            this.oscillator.stop(time + computedAttack + computedDecay);\n        }\n    }\n    /**\n     * start the release portion of the envelope\n     * @param time the time the release should start\n     */\n    _triggerEnvelopeRelease(time) {\n        this.envelope.triggerRelease(time);\n        this.filterEnvelope.triggerRelease(time);\n        this.oscillator.stop(time + this.toSeconds(this.envelope.release));\n    }\n    getLevelAtTime(time) {\n        time = this.toSeconds(time);\n        return this.envelope.getValueAtTime(time);\n    }\n    dispose() {\n        super.dispose();\n        this.oscillator.dispose();\n        this.envelope.dispose();\n        this.filterEnvelope.dispose();\n        this.filter.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=MonoSynth.js.map","import { __decorate } from \"tslib\";\nimport { FrequencyClass } from \"../core/type/Frequency\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { noOp } from \"../core/util/Interface\";\nimport { Instrument } from \"../instrument/Instrument\";\nimport { timeRange } from \"../core/util/Decorator\";\n/**\n * Abstract base class for other monophonic instruments to extend.\n */\nexport class Monophonic extends Instrument {\n    constructor() {\n        super(optionsFromArguments(Monophonic.getDefaults(), arguments));\n        const options = optionsFromArguments(Monophonic.getDefaults(), arguments);\n        this.portamento = options.portamento;\n        this.onsilence = options.onsilence;\n    }\n    static getDefaults() {\n        return Object.assign(Instrument.getDefaults(), {\n            detune: 0,\n            onsilence: noOp,\n            portamento: 0,\n        });\n    }\n    /**\n     * Trigger the attack of the note optionally with a given velocity.\n     * @param  note The note to trigger.\n     * @param  time When the note should start.\n     * @param  velocity The velocity scaler determines how \"loud\" the note will be triggered.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * // trigger the note a half second from now at half velocity\n     * synth.triggerAttack(\"C4\", \"+0.5\", 0.5);\n     */\n    triggerAttack(note, time, velocity = 1) {\n        this.log(\"triggerAttack\", note, time, velocity);\n        const seconds = this.toSeconds(time);\n        this._triggerEnvelopeAttack(seconds, velocity);\n        this.setNote(note, seconds);\n        return this;\n    }\n    /**\n     * Trigger the release portion of the envelope\n     * @param  time If no time is given, the release happens immediatly\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * synth.triggerAttack(\"C4\");\n     * // trigger the release a second from now\n     * synth.triggerRelease(\"+1\");\n     */\n    triggerRelease(time) {\n        this.log(\"triggerRelease\", time);\n        const seconds = this.toSeconds(time);\n        this._triggerEnvelopeRelease(seconds);\n        return this;\n    }\n    /**\n     * Set the note at the given time. If no time is given, the note\n     * will set immediately.\n     * @param note The note to change to.\n     * @param  time The time when the note should be set.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * synth.triggerAttack(\"C4\");\n     * // change to F#6 in one quarter note from now.\n     * synth.setNote(\"F#6\", \"+4n\");\n     */\n    setNote(note, time) {\n        const computedTime = this.toSeconds(time);\n        const computedFrequency = note instanceof FrequencyClass ? note.toFrequency() : note;\n        if (this.portamento > 0 && this.getLevelAtTime(computedTime) > 0.05) {\n            const portTime = this.toSeconds(this.portamento);\n            this.frequency.exponentialRampTo(computedFrequency, portTime, computedTime);\n        }\n        else {\n            this.frequency.setValueAtTime(computedFrequency, computedTime);\n        }\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Monophonic.prototype, \"portamento\", void 0);\n//# sourceMappingURL=Monophonic.js.map","import { getContext } from \"../Global\";\nimport { ftom, mtof } from \"./Conversions\";\nimport { FrequencyClass } from \"./Frequency\";\n/**\n * Midi is a primitive type for encoding Time values.\n * Midi can be constructed with or without the `new` keyword. Midi can be passed\n * into the parameter of any method which takes time as an argument.\n * @category Unit\n */\nexport class MidiClass extends FrequencyClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"MidiClass\";\n        this.defaultUnits = \"midi\";\n    }\n    /**\n     * Returns the value of a frequency in the current units\n     */\n    _frequencyToUnits(freq) {\n        return ftom(super._frequencyToUnits(freq));\n    }\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    _ticksToUnits(ticks) {\n        return ftom(super._ticksToUnits(ticks));\n    }\n    /**\n     * Return the value of the beats in the current units\n     */\n    _beatsToUnits(beats) {\n        return ftom(super._beatsToUnits(beats));\n    }\n    /**\n     * Returns the value of a second in the current units\n     */\n    _secondsToUnits(seconds) {\n        return ftom(super._secondsToUnits(seconds));\n    }\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * Tone.Midi(60).toMidi(); // 60\n     */\n    toMidi() {\n        return this.valueOf();\n    }\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * Tone.Midi(60).toFrequency(); // 261.6255653005986\n     */\n    toFrequency() {\n        return mtof(this.toMidi());\n    }\n    /**\n     * Transposes the frequency by the given number of semitones.\n     * @return A new transposed MidiClass\n     * @example\n     * Tone.Midi(\"A4\").transpose(3); // \"C5\"\n     */\n    transpose(interval) {\n        return new MidiClass(this.context, this.toMidi() + interval);\n    }\n}\n/**\n * Convert a value into a FrequencyClass object.\n * @category Unit\n */\nexport function Midi(value, units) {\n    return new MidiClass(getContext(), value, units);\n}\n//# sourceMappingURL=Midi.js.map","import { MidiClass } from \"../core/type/Midi\";\nimport { deepMerge, omitFromObject, optionsFromArguments } from \"../core/util/Defaults\";\nimport { isArray, isNumber } from \"../core/util/TypeCheck\";\nimport { Instrument } from \"./Instrument\";\nimport { Synth } from \"./Synth\";\nimport { assert, warn } from \"../core/util/Debug\";\n/**\n * PolySynth handles voice creation and allocation for any\n * instruments passed in as the second paramter. PolySynth is\n * not a synthesizer by itself, it merely manages voices of\n * one of the other types of synths, allowing any of the\n * monophonic synthesizers to be polyphonic.\n *\n * @example\n * const synth = new Tone.PolySynth().toDestination();\n * // set the attributes across all the voices using 'set'\n * synth.set({ detune: -1200 });\n * // play a chord\n * synth.triggerAttackRelease([\"C4\", \"E4\", \"A4\"], 1);\n * @category Instrument\n */\nexport class PolySynth extends Instrument {\n    constructor() {\n        super(optionsFromArguments(PolySynth.getDefaults(), arguments, [\"voice\", \"options\"]));\n        this.name = \"PolySynth\";\n        /**\n         * The voices which are not currently in use\n         */\n        this._availableVoices = [];\n        /**\n         * The currently active voices\n         */\n        this._activeVoices = [];\n        /**\n         * All of the allocated voices for this synth.\n         */\n        this._voices = [];\n        /**\n         * The GC timeout. Held so that it could be cancelled when the node is disposed.\n         */\n        this._gcTimeout = -1;\n        /**\n         * A moving average of the number of active voices\n         */\n        this._averageActiveVoices = 0;\n        const options = optionsFromArguments(PolySynth.getDefaults(), arguments, [\"voice\", \"options\"]);\n        // check against the old API (pre 14.3.0)\n        assert(!isNumber(options.voice), \"DEPRECATED: The polyphony count is no longer the first argument.\");\n        const defaults = options.voice.getDefaults();\n        this.options = Object.assign(defaults, options.options);\n        this.voice = options.voice;\n        this.maxPolyphony = options.maxPolyphony;\n        // create the first voice\n        this._dummyVoice = this._getNextAvailableVoice();\n        // remove it from the voices list\n        const index = this._voices.indexOf(this._dummyVoice);\n        this._voices.splice(index, 1);\n        // kick off the GC interval\n        this._gcTimeout = this.context.setInterval(this._collectGarbage.bind(this), 1);\n    }\n    static getDefaults() {\n        return Object.assign(Instrument.getDefaults(), {\n            maxPolyphony: 32,\n            options: {},\n            voice: Synth,\n        });\n    }\n    /**\n     * The number of active voices.\n     */\n    get activeVoices() {\n        return this._activeVoices.length;\n    }\n    /**\n     * Invoked when the source is done making sound, so that it can be\n     * readded to the pool of available voices\n     */\n    _makeVoiceAvailable(voice) {\n        this._availableVoices.push(voice);\n        // remove the midi note from 'active voices'\n        const activeVoiceIndex = this._activeVoices.findIndex((e) => e.voice === voice);\n        this._activeVoices.splice(activeVoiceIndex, 1);\n    }\n    /**\n     * Get an available voice from the pool of available voices.\n     * If one is not available and the maxPolyphony limit is reached,\n     * steal a voice, otherwise return null.\n     */\n    _getNextAvailableVoice() {\n        // if there are available voices, return the first one\n        if (this._availableVoices.length) {\n            return this._availableVoices.shift();\n        }\n        else if (this._voices.length < this.maxPolyphony) {\n            // otherwise if there is still more maxPolyphony, make a new voice\n            const voice = new this.voice(Object.assign(this.options, {\n                context: this.context,\n                onsilence: this._makeVoiceAvailable.bind(this),\n            }));\n            voice.connect(this.output);\n            this._voices.push(voice);\n            return voice;\n        }\n        else {\n            warn(\"Max polyphony exceeded. Note dropped.\");\n        }\n    }\n    /**\n     * Occasionally check if there are any allocated voices which can be cleaned up.\n     */\n    _collectGarbage() {\n        this._averageActiveVoices = Math.max(this._averageActiveVoices * 0.95, this.activeVoices);\n        if (this._availableVoices.length && this._voices.length > Math.ceil(this._averageActiveVoices + 1)) {\n            // take off an available note\n            const firstAvail = this._availableVoices.shift();\n            const index = this._voices.indexOf(firstAvail);\n            this._voices.splice(index, 1);\n            if (!this.context.isOffline) {\n                firstAvail.dispose();\n            }\n        }\n    }\n    /**\n     * Internal method which triggers the attack\n     */\n    _triggerAttack(notes, time, velocity) {\n        notes.forEach(note => {\n            const midiNote = new MidiClass(this.context, note).toMidi();\n            const voice = this._getNextAvailableVoice();\n            if (voice) {\n                voice.triggerAttack(note, time, velocity);\n                this._activeVoices.push({\n                    midi: midiNote, voice, released: false,\n                });\n                this.log(\"triggerAttack\", note, time);\n            }\n        });\n    }\n    /**\n     * Internal method which triggers the release\n     */\n    _triggerRelease(notes, time) {\n        notes.forEach(note => {\n            const midiNote = new MidiClass(this.context, note).toMidi();\n            const event = this._activeVoices.find(({ midi, released }) => midi === midiNote && !released);\n            if (event) {\n                // trigger release on that note\n                event.voice.triggerRelease(time);\n                // mark it as released\n                event.released = true;\n                this.log(\"triggerRelease\", note, time);\n            }\n        });\n    }\n    /**\n     * Schedule the attack/release events. If the time is in the future, then it should set a timeout\n     * to wait for just-in-time scheduling\n     */\n    _scheduleEvent(type, notes, time, velocity) {\n        assert(!this.disposed, \"Synth was already disposed\");\n        // if the notes are greater than this amount of time in the future, they should be scheduled with setTimeout\n        if (time <= this.now()) {\n            // do it immediately\n            if (type === \"attack\") {\n                this._triggerAttack(notes, time, velocity);\n            }\n            else {\n                this._triggerRelease(notes, time);\n            }\n        }\n        else {\n            // schedule it to start in the future\n            this.context.setTimeout(() => {\n                this._scheduleEvent(type, notes, time, velocity);\n            }, time - this.now());\n        }\n    }\n    /**\n     * Trigger the attack portion of the note\n     * @param  notes The notes to play. Accepts a single Frequency or an array of frequencies.\n     * @param  time  The start time of the note.\n     * @param velocity The velocity of the note.\n     * @example\n     * const synth = new Tone.PolySynth(Tone.FMSynth).toDestination();\n     * // trigger a chord immediately with a velocity of 0.2\n     * synth.triggerAttack([\"Ab3\", \"C4\", \"F5\"], Tone.now(), 0.2);\n     */\n    triggerAttack(notes, time, velocity) {\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        const computedTime = this.toSeconds(time);\n        this._scheduleEvent(\"attack\", notes, computedTime, velocity);\n        return this;\n    }\n    /**\n     * Trigger the release of the note. Unlike monophonic instruments,\n     * a note (or array of notes) needs to be passed in as the first argument.\n     * @param  notes The notes to play. Accepts a single Frequency or an array of frequencies.\n     * @param  time  When the release will be triggered.\n     * @example\n     * @example\n     * const poly = new Tone.PolySynth(Tone.AMSynth).toDestination();\n     * poly.triggerAttack([\"Ab3\", \"C4\", \"F5\"]);\n     * // trigger the release of the given notes.\n     * poly.triggerRelease([\"Ab3\", \"C4\"], \"+1\");\n     * poly.triggerRelease(\"F5\", \"+3\");\n     */\n    triggerRelease(notes, time) {\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        const computedTime = this.toSeconds(time);\n        this._scheduleEvent(\"release\", notes, computedTime);\n        return this;\n    }\n    /**\n     * Trigger the attack and release after the specified duration\n     * @param  notes The notes to play. Accepts a single  Frequency or an array of frequencies.\n     * @param  duration the duration of the note\n     * @param  time  if no time is given, defaults to now\n     * @param  velocity the velocity of the attack (0-1)\n     * @example\n     * const poly = new Tone.PolySynth(Tone.AMSynth).toDestination();\n     * // can pass in an array of durations as well\n     * poly.triggerAttackRelease([\"Eb3\", \"G4\", \"Bb4\", \"D5\"], [4, 3, 2, 1]);\n     */\n    triggerAttackRelease(notes, duration, time, velocity) {\n        const computedTime = this.toSeconds(time);\n        this.triggerAttack(notes, computedTime, velocity);\n        if (isArray(duration)) {\n            assert(isArray(notes), \"If the duration is an array, the notes must also be an array\");\n            notes = notes;\n            for (let i = 0; i < notes.length; i++) {\n                const d = duration[Math.min(i, duration.length - 1)];\n                const durationSeconds = this.toSeconds(d);\n                assert(durationSeconds > 0, \"The duration must be greater than 0\");\n                this.triggerRelease(notes[i], computedTime + durationSeconds);\n            }\n        }\n        else {\n            const durationSeconds = this.toSeconds(duration);\n            assert(durationSeconds > 0, \"The duration must be greater than 0\");\n            this.triggerRelease(notes, computedTime + durationSeconds);\n        }\n        return this;\n    }\n    sync() {\n        if (this._syncState()) {\n            this._syncMethod(\"triggerAttack\", 1);\n            this._syncMethod(\"triggerRelease\", 1);\n        }\n        return this;\n    }\n    /**\n     * Set a member/attribute of the voices\n     * @example\n     * const poly = new Tone.PolySynth().toDestination();\n     * // set all of the voices using an options object for the synth type\n     * poly.set({\n     * \tenvelope: {\n     * \t\tattack: 0.25\n     * \t}\n     * });\n     * poly.triggerAttackRelease(\"Bb3\", 0.2);\n     */\n    set(options) {\n        // remove options which are controlled by the PolySynth\n        const sanitizedOptions = omitFromObject(options, [\"onsilence\", \"context\"]);\n        // store all of the options\n        this.options = deepMerge(this.options, sanitizedOptions);\n        this._voices.forEach(voice => voice.set(sanitizedOptions));\n        this._dummyVoice.set(sanitizedOptions);\n        return this;\n    }\n    get() {\n        return this._dummyVoice.get();\n    }\n    /**\n     * Trigger the release portion of all the currently active voices immediately.\n     * Useful for silencing the synth.\n     */\n    releaseAll(time) {\n        const computedTime = this.toSeconds(time);\n        this._activeVoices.forEach(({ voice }) => {\n            voice.triggerRelease(computedTime);\n        });\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._dummyVoice.dispose();\n        this._voices.forEach(v => v.dispose());\n        this._activeVoices = [];\n        this._availableVoices = [];\n        this.context.clearInterval(this._gcTimeout);\n        return this;\n    }\n}\n//# sourceMappingURL=PolySynth.js.map","import { AmplitudeEnvelope } from \"../component/envelope/AmplitudeEnvelope\";\nimport { Envelope } from \"../component/envelope/Envelope\";\nimport { ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { omitFromObject, optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { OmniOscillator } from \"../source/oscillator/OmniOscillator\";\nimport { Source } from \"../source/Source\";\nimport { Monophonic } from \"./Monophonic\";\n/**\n * Synth is composed simply of a [[OmniOscillator]] routed through an [[AmplitudeEnvelope]].\n * ```\n * +----------------+   +-------------------+\n * | OmniOscillator +>--> AmplitudeEnvelope +>--> Output\n * +----------------+   +-------------------+\n * ```\n * @example\n * const synth = new Tone.Synth().toDestination();\n * synth.triggerAttackRelease(\"C4\", \"8n\");\n * @category Instrument\n */\nexport class Synth extends Monophonic {\n    constructor() {\n        super(optionsFromArguments(Synth.getDefaults(), arguments));\n        this.name = \"Synth\";\n        const options = optionsFromArguments(Synth.getDefaults(), arguments);\n        this.oscillator = new OmniOscillator(Object.assign({\n            context: this.context,\n            detune: options.detune,\n            onstop: () => this.onsilence(this),\n        }, options.oscillator));\n        this.frequency = this.oscillator.frequency;\n        this.detune = this.oscillator.detune;\n        this.envelope = new AmplitudeEnvelope(Object.assign({\n            context: this.context,\n        }, options.envelope));\n        // connect the oscillators to the output\n        this.oscillator.chain(this.envelope, this.output);\n        readOnly(this, [\"oscillator\", \"frequency\", \"detune\", \"envelope\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Monophonic.getDefaults(), {\n            envelope: Object.assign(omitFromObject(Envelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.005,\n                decay: 0.1,\n                release: 1,\n                sustain: 0.3,\n            }),\n            oscillator: Object.assign(omitFromObject(OmniOscillator.getDefaults(), [...Object.keys(Source.getDefaults()), \"frequency\", \"detune\"]), {\n                type: \"triangle\",\n            }),\n        });\n    }\n    /**\n     * start the attack portion of the envelope\n     * @param time the time the attack should start\n     * @param velocity the velocity of the note (0-1)\n     */\n    _triggerEnvelopeAttack(time, velocity) {\n        // the envelopes\n        this.envelope.triggerAttack(time, velocity);\n        this.oscillator.start(time);\n        // if there is no release portion, stop the oscillator\n        if (this.envelope.sustain === 0) {\n            const computedAttack = this.toSeconds(this.envelope.attack);\n            const computedDecay = this.toSeconds(this.envelope.decay);\n            this.oscillator.stop(time + computedAttack + computedDecay);\n        }\n    }\n    /**\n     * start the release portion of the envelope\n     * @param time the time the release should start\n     */\n    _triggerEnvelopeRelease(time) {\n        this.envelope.triggerRelease(time);\n        this.oscillator.stop(time + this.toSeconds(this.envelope.release));\n    }\n    getLevelAtTime(time) {\n        time = this.toSeconds(time);\n        return this.envelope.getValueAtTime(time);\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this.oscillator.dispose();\n        this.envelope.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Synth.js.map","import { connectSeries } from \"../core/context/ToneAudioNode\";\nimport { Gain } from \"../core/context/Gain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Signal } from \"./Signal\";\n/**\n * Add a signal and a number or two signals. When no value is\n * passed into the constructor, Tone.Add will sum input and `addend`\n * If a value is passed into the constructor, the it will be added to the input.\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst add = new Tone.Add(2).toDestination();\n * \tadd.addend.setValueAtTime(1, 0.2);\n * \tconst signal = new Tone.Signal(2);\n * \t// add a signal and a scalar\n * \tsignal.connect(add);\n * \tsignal.setValueAtTime(1, 0.1);\n * }, 0.5, 1);\n * @category Signal\n */\nexport class Add extends Signal {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Add.getDefaults(), arguments, [\"value\"])));\n        this.override = false;\n        this.name = \"Add\";\n        /**\n         * the summing node\n         */\n        this._sum = new Gain({ context: this.context });\n        this.input = this._sum;\n        this.output = this._sum;\n        /**\n         * The value which is added to the input signal\n         */\n        this.addend = this._param;\n        connectSeries(this._constantSource, this._sum);\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            value: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._sum.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Add.js.map","import { SignalOperator } from \"./SignalOperator\";\nimport { WaveShaper } from \"./WaveShaper\";\n/**\n * AudioToGain converts an input in AudioRange [-1,1] to NormalRange [0,1].\n * See [[GainToAudio]].\n * @category Signal\n */\nexport class AudioToGain extends SignalOperator {\n    constructor() {\n        super(...arguments);\n        this.name = \"AudioToGain\";\n        /**\n         * The node which converts the audio ranges\n         */\n        this._norm = new WaveShaper({\n            context: this.context,\n            mapping: x => (x + 1) / 2,\n        });\n        /**\n         * The AudioRange input [-1, 1]\n         */\n        this.input = this._norm;\n        /**\n         * The GainRange output [0, 1]\n         */\n        this.output = this._norm;\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this._norm.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AudioToGain.js.map","import { Gain } from \"../core/context/Gain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Signal } from \"./Signal\";\n/**\n * Multiply two incoming signals. Or, if a number is given in the constructor,\n * multiplies the incoming signal by that value.\n *\n * @example\n * // multiply two signals\n * const mult = new Tone.Multiply();\n * const sigA = new Tone.Signal(3);\n * const sigB = new Tone.Signal(4);\n * sigA.connect(mult);\n * sigB.connect(mult.factor);\n * // output of mult is 12.\n * @example\n * // multiply a signal and a number\n * const mult = new Tone.Multiply(10);\n * const sig = new Tone.Signal(2).connect(mult);\n * // the output of mult is 20.\n * @category Signal\n */\nexport class Multiply extends Signal {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Multiply.getDefaults(), arguments, [\"value\"])));\n        this.name = \"Multiply\";\n        /**\n         * Indicates if the value should be overridden on connection\n         */\n        this.override = false;\n        const options = optionsFromArguments(Multiply.getDefaults(), arguments, [\"value\"]);\n        this._mult = this.input = this.output = new Gain({\n            context: this.context,\n            minValue: options.minValue,\n            maxValue: options.maxValue,\n        });\n        this.factor = this._param = this._mult.gain;\n        this.factor.setValueAtTime(options.value, 0);\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            value: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._mult.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Multiply.js.map","import { Multiply } from \"./Multiply\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Negate the incoming signal. i.e. an input signal of 10 will output -10\n *\n * @example\n * const neg = new Tone.Negate();\n * const sig = new Tone.Signal(-2).connect(neg);\n * // output of neg is positive 2.\n * @category Signal\n */\nexport class Negate extends SignalOperator {\n    constructor() {\n        super(...arguments);\n        this.name = \"Negate\";\n        /**\n         * negation is done by multiplying by -1\n         */\n        this._multiply = new Multiply({\n            context: this.context,\n            value: -1,\n        });\n        /**\n         * The input and output are equal to the multiply node\n         */\n        this.input = this._multiply;\n        this.output = this._multiply;\n    }\n    /**\n     * clean up\n     * @returns {Negate} this\n     */\n    dispose() {\n        super.dispose();\n        this._multiply.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Negate.js.map","import { WaveShaper } from \"./WaveShaper\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Pow applies an exponent to the incoming signal. The incoming signal must be AudioRange [-1, 1]\n *\n * @example\n * const pow = new Tone.Pow(2);\n * const sig = new Tone.Signal(0.5).connect(pow);\n * // output of pow is 0.25.\n * @category Signal\n */\nexport class Pow extends SignalOperator {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"])));\n        this.name = \"Pow\";\n        const options = optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"]);\n        this._exponentScaler = this.input = this.output = new WaveShaper({\n            context: this.context,\n            mapping: this._expFunc(options.value),\n            length: 8192,\n        });\n        this._exponent = options.value;\n    }\n    static getDefaults() {\n        return Object.assign(SignalOperator.getDefaults(), {\n            value: 1,\n        });\n    }\n    /**\n     * the function which maps the waveshaper\n     * @param exponent exponent value\n     */\n    _expFunc(exponent) {\n        return (val) => {\n            return Math.pow(Math.abs(val), exponent);\n        };\n    }\n    /**\n     * The value of the exponent.\n     */\n    get value() {\n        return this._exponent;\n    }\n    set value(exponent) {\n        this._exponent = exponent;\n        this._exponentScaler.setMap(this._expFunc(this._exponent));\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._exponentScaler.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Pow.js.map","import { optionsFromArguments } from \"../core/util/Defaults\";\nimport { Add } from \"./Add\";\nimport { Multiply } from \"./Multiply\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Performs a linear scaling on an input signal.\n * Scales a NormalRange input to between\n * outputMin and outputMax.\n *\n * @example\n * const scale = new Tone.Scale(50, 100);\n * const signal = new Tone.Signal(0.5).connect(scale);\n * // the output of scale equals 75\n * @category Signal\n */\nexport class Scale extends SignalOperator {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Scale.getDefaults(), arguments, [\"min\", \"max\"])));\n        this.name = \"Scale\";\n        const options = optionsFromArguments(Scale.getDefaults(), arguments, [\"min\", \"max\"]);\n        this._mult = this.input = new Multiply({\n            context: this.context,\n            value: options.max - options.min,\n        });\n        this._add = this.output = new Add({\n            context: this.context,\n            value: options.min,\n        });\n        this._min = options.min;\n        this._max = options.max;\n        this.input.connect(this.output);\n    }\n    static getDefaults() {\n        return Object.assign(SignalOperator.getDefaults(), {\n            max: 1,\n            min: 0,\n        });\n    }\n    /**\n     * The minimum output value. This number is output when the value input value is 0.\n     */\n    get min() {\n        return this._min;\n    }\n    set min(min) {\n        this._min = min;\n        this._setRange();\n    }\n    /**\n     * The maximum output value. This number is output when the value input value is 1.\n     */\n    get max() {\n        return this._max;\n    }\n    set max(max) {\n        this._max = max;\n        this._setRange();\n    }\n    /**\n     * set the values\n     */\n    _setRange() {\n        this._add.value = this._min;\n        this._mult.value = this._max - this._min;\n    }\n    dispose() {\n        super.dispose();\n        this._add.dispose();\n        this._mult.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Scale.js.map","import { optionsFromArguments } from \"../core/util/Defaults\";\nimport { ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { connectSignal } from \"./Signal\";\n/**\n * A signal operator has an input and output and modifies the signal.\n */\nexport class SignalOperator extends ToneAudioNode {\n    constructor() {\n        super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(), arguments, [\"context\"])));\n    }\n    connect(destination, outputNum = 0, inputNum = 0) {\n        connectSignal(this, destination, outputNum, inputNum);\n        return this;\n    }\n}\n//# sourceMappingURL=SignalOperator.js.map","import { optionsFromArguments } from \"../core/util/Defaults\";\nimport { isArray, isFunction } from \"../core/util/TypeCheck\";\nimport { assert } from \"../core/util/Debug\";\nimport { Signal } from \"./Signal\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Wraps the native Web Audio API\n * [WaveShaperNode](http://webaudio.github.io/web-audio-api/#the-waveshapernode-interface).\n *\n * @example\n * const osc = new Tone.Oscillator().toDestination().start();\n * // multiply the output of the signal by 2 using the waveshaper's function\n * const timesTwo = new Tone.WaveShaper((val) => val * 2, 2048).connect(osc.frequency);\n * const signal = new Tone.Signal(440).connect(timesTwo);\n * @category Signal\n */\nexport class WaveShaper extends SignalOperator {\n    constructor() {\n        super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(), arguments, [\"mapping\", \"length\"])));\n        this.name = \"WaveShaper\";\n        /**\n         * the waveshaper node\n         */\n        this._shaper = this.context.createWaveShaper();\n        /**\n         * The input to the waveshaper node.\n         */\n        this.input = this._shaper;\n        /**\n         * The output from the waveshaper node\n         */\n        this.output = this._shaper;\n        const options = optionsFromArguments(WaveShaper.getDefaults(), arguments, [\"mapping\", \"length\"]);\n        if (isArray(options.mapping) || options.mapping instanceof Float32Array) {\n            this.curve = Float32Array.from(options.mapping);\n        }\n        else if (isFunction(options.mapping)) {\n            this.setMap(options.mapping, options.length);\n        }\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            length: 1024,\n        });\n    }\n    /**\n     * Uses a mapping function to set the value of the curve.\n     * @param mapping The function used to define the values.\n     *                The mapping function take two arguments:\n     *                the first is the value at the current position\n     *                which goes from -1 to 1 over the number of elements\n     *                in the curve array. The second argument is the array position.\n     * @example\n     * const shaper = new Tone.WaveShaper();\n     * // map the input signal from [-1, 1] to [0, 10]\n     * shaper.setMap((val, index) => (val + 1) * 5);\n     */\n    setMap(mapping, length = 1024) {\n        const array = new Float32Array(length);\n        for (let i = 0, len = length; i < len; i++) {\n            const normalized = (i / (len - 1)) * 2 - 1;\n            array[i] = mapping(normalized, i);\n        }\n        this.curve = array;\n        return this;\n    }\n    /**\n     * The array to set as the waveshaper curve. For linear curves\n     * array length does not make much difference, but for complex curves\n     * longer arrays will provide smoother interpolation.\n     */\n    get curve() {\n        return this._shaper.curve;\n    }\n    set curve(mapping) {\n        this._shaper.curve = mapping;\n    }\n    /**\n     * Specifies what type of oversampling (if any) should be used when\n     * applying the shaping curve. Can either be \"none\", \"2x\" or \"4x\".\n     */\n    get oversample() {\n        return this._shaper.oversample;\n    }\n    set oversample(oversampling) {\n        const isOverSampleType = [\"none\", \"2x\", \"4x\"].some(str => str.includes(oversampling));\n        assert(isOverSampleType, \"oversampling must be either 'none', '2x', or '4x'\");\n        this._shaper.oversample = oversampling;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._shaper.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=WaveShaper.js.map","import { ToneAudioBuffer } from \"../core/context/ToneAudioBuffer\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { assert } from \"../core/util/Debug\";\nimport { Source } from \"../source/Source\";\nimport { ToneBufferSource } from \"./buffer/ToneBufferSource\";\n/**\n * Noise is a noise generator. It uses looped noise buffers to save on performance.\n * Noise supports the noise types: \"pink\", \"white\", and \"brown\". Read more about\n * colors of noise on [Wikipedia](https://en.wikipedia.org/wiki/Colors_of_noise).\n *\n * @example\n * // initialize the noise and start\n * const noise = new Tone.Noise(\"pink\").start();\n * // make an autofilter to shape the noise\n * const autoFilter = new Tone.AutoFilter({\n * \tfrequency: \"8n\",\n * \tbaseFrequency: 200,\n * \toctaves: 8\n * }).toDestination().start();\n * // connect the noise\n * noise.connect(autoFilter);\n * // start the autofilter LFO\n * autoFilter.start();\n * @category Source\n */\nexport class Noise extends Source {\n    constructor() {\n        super(optionsFromArguments(Noise.getDefaults(), arguments, [\"type\"]));\n        this.name = \"Noise\";\n        /**\n         * Private reference to the source\n         */\n        this._source = null;\n        const options = optionsFromArguments(Noise.getDefaults(), arguments, [\"type\"]);\n        this._playbackRate = options.playbackRate;\n        this.type = options.type;\n        this._fadeIn = options.fadeIn;\n        this._fadeOut = options.fadeOut;\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            fadeIn: 0,\n            fadeOut: 0,\n            playbackRate: 1,\n            type: \"white\",\n        });\n    }\n    /**\n     * The type of the noise. Can be \"white\", \"brown\", or \"pink\".\n     * @example\n     * const noise = new Tone.Noise().toDestination().start();\n     * noise.type = \"brown\";\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        assert(type in _noiseBuffers, \"Noise: invalid type: \" + type);\n        if (this._type !== type) {\n            this._type = type;\n            // if it's playing, stop and restart it\n            if (this.state === \"started\") {\n                const now = this.now();\n                this._stop(now);\n                this._start(now);\n            }\n        }\n    }\n    /**\n     * The playback rate of the noise. Affects\n     * the \"frequency\" of the noise.\n     */\n    get playbackRate() {\n        return this._playbackRate;\n    }\n    set playbackRate(rate) {\n        this._playbackRate = rate;\n        if (this._source) {\n            this._source.playbackRate.value = rate;\n        }\n    }\n    /**\n     * internal start method\n     */\n    _start(time) {\n        const buffer = _noiseBuffers[this._type];\n        this._source = new ToneBufferSource({\n            url: buffer,\n            context: this.context,\n            fadeIn: this._fadeIn,\n            fadeOut: this._fadeOut,\n            loop: true,\n            onended: () => this.onstop(this),\n            playbackRate: this._playbackRate,\n        }).connect(this.output);\n        this._source.start(this.toSeconds(time), Math.random() * (buffer.duration - 0.001));\n    }\n    /**\n     * internal stop method\n     */\n    _stop(time) {\n        if (this._source) {\n            this._source.stop(this.toSeconds(time));\n            this._source = null;\n        }\n    }\n    /**\n     * The fadeIn time of the amplitude envelope.\n     */\n    get fadeIn() {\n        return this._fadeIn;\n    }\n    set fadeIn(time) {\n        this._fadeIn = time;\n        if (this._source) {\n            this._source.fadeIn = this._fadeIn;\n        }\n    }\n    /**\n     * The fadeOut time of the amplitude envelope.\n     */\n    get fadeOut() {\n        return this._fadeOut;\n    }\n    set fadeOut(time) {\n        this._fadeOut = time;\n        if (this._source) {\n            this._source.fadeOut = this._fadeOut;\n        }\n    }\n    _restart(time) {\n        // TODO could be optimized by cancelling the buffer source 'stop'\n        this._stop(time);\n        this._start(time);\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        if (this._source) {\n            this._source.disconnect();\n        }\n        return this;\n    }\n}\n//--------------------\n// THE NOISE BUFFERS\n//--------------------\n// Noise buffer stats\nconst BUFFER_LENGTH = 44100 * 5;\nconst NUM_CHANNELS = 2;\n/**\n * Cache the noise buffers\n */\nconst _noiseCache = {\n    brown: null,\n    pink: null,\n    white: null,\n};\n/**\n * The noise arrays. Generated on initialization.\n * borrowed heavily from https://github.com/zacharydenton/noise.js\n * (c) 2013 Zach Denton (MIT)\n */\nconst _noiseBuffers = {\n    get brown() {\n        if (!_noiseCache.brown) {\n            const buffer = [];\n            for (let channelNum = 0; channelNum < NUM_CHANNELS; channelNum++) {\n                const channel = new Float32Array(BUFFER_LENGTH);\n                buffer[channelNum] = channel;\n                let lastOut = 0.0;\n                for (let i = 0; i < BUFFER_LENGTH; i++) {\n                    const white = Math.random() * 2 - 1;\n                    channel[i] = (lastOut + (0.02 * white)) / 1.02;\n                    lastOut = channel[i];\n                    channel[i] *= 3.5; // (roughly) compensate for gain\n                }\n            }\n            _noiseCache.brown = new ToneAudioBuffer().fromArray(buffer);\n        }\n        return _noiseCache.brown;\n    },\n    get pink() {\n        if (!_noiseCache.pink) {\n            const buffer = [];\n            for (let channelNum = 0; channelNum < NUM_CHANNELS; channelNum++) {\n                const channel = new Float32Array(BUFFER_LENGTH);\n                buffer[channelNum] = channel;\n                let b0, b1, b2, b3, b4, b5, b6;\n                b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n                for (let i = 0; i < BUFFER_LENGTH; i++) {\n                    const white = Math.random() * 2 - 1;\n                    b0 = 0.99886 * b0 + white * 0.0555179;\n                    b1 = 0.99332 * b1 + white * 0.0750759;\n                    b2 = 0.96900 * b2 + white * 0.1538520;\n                    b3 = 0.86650 * b3 + white * 0.3104856;\n                    b4 = 0.55000 * b4 + white * 0.5329522;\n                    b5 = -0.7616 * b5 - white * 0.0168980;\n                    channel[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n                    channel[i] *= 0.11; // (roughly) compensate for gain\n                    b6 = white * 0.115926;\n                }\n            }\n            _noiseCache.pink = new ToneAudioBuffer().fromArray(buffer);\n        }\n        return _noiseCache.pink;\n    },\n    get white() {\n        if (!_noiseCache.white) {\n            const buffer = [];\n            for (let channelNum = 0; channelNum < NUM_CHANNELS; channelNum++) {\n                const channel = new Float32Array(BUFFER_LENGTH);\n                buffer[channelNum] = channel;\n                for (let i = 0; i < BUFFER_LENGTH; i++) {\n                    channel[i] = Math.random() * 2 - 1;\n                }\n            }\n            _noiseCache.white = new ToneAudioBuffer().fromArray(buffer);\n        }\n        return _noiseCache.white;\n    },\n};\n//# sourceMappingURL=Noise.js.map","import { __awaiter } from \"tslib\";\nimport { connect, ToneAudioNode } from \"../core/context/ToneAudioNode\";\nimport { Volume } from \"../component/channel/Volume\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { assert } from \"../core/util/Debug\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { isDefined, isNumber } from \"../core/util/TypeCheck\";\n/**\n * UserMedia uses MediaDevices.getUserMedia to open up and external microphone or audio input.\n * Check [MediaDevices API Support](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)\n * to see which browsers are supported. Access to an external input\n * is limited to secure (HTTPS) connections.\n * @example\n * const meter = new Tone.Meter();\n * const mic = new Tone.UserMedia().connect(meter);\n * mic.open().then(() => {\n * \t// promise resolves when input is available\n * \tconsole.log(\"mic open\");\n * \t// print the incoming mic levels in decibels\n * \tsetInterval(() => console.log(meter.getValue()), 100);\n * }).catch(e => {\n * \t// promise is rejected when the user doesn't have or allow mic access\n * \tconsole.log(\"mic not open\");\n * });\n * @category Source\n */\nexport class UserMedia extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(UserMedia.getDefaults(), arguments, [\"volume\"]));\n        this.name = \"UserMedia\";\n        const options = optionsFromArguments(UserMedia.getDefaults(), arguments, [\"volume\"]);\n        this._volume = this.output = new Volume({\n            context: this.context,\n            volume: options.volume,\n        });\n        this.volume = this._volume.volume;\n        readOnly(this, \"volume\");\n        this.mute = options.mute;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            mute: false,\n            volume: 0\n        });\n    }\n    /**\n     * Open the media stream. If a string is passed in, it is assumed\n     * to be the label or id of the stream, if a number is passed in,\n     * it is the input number of the stream.\n     * @param  labelOrId The label or id of the audio input media device.\n     *                   With no argument, the default stream is opened.\n     * @return The promise is resolved when the stream is open.\n     */\n    open(labelOrId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            assert(UserMedia.supported, \"UserMedia is not supported\");\n            // close the previous stream\n            if (this.state === \"started\") {\n                this.close();\n            }\n            const devices = yield UserMedia.enumerateDevices();\n            if (isNumber(labelOrId)) {\n                this._device = devices[labelOrId];\n            }\n            else {\n                this._device = devices.find((device) => {\n                    return device.label === labelOrId || device.deviceId === labelOrId;\n                });\n                // didn't find a matching device\n                if (!this._device && devices.length > 0) {\n                    this._device = devices[0];\n                }\n                assert(isDefined(this._device), `No matching device ${labelOrId}`);\n            }\n            // do getUserMedia\n            const constraints = {\n                audio: {\n                    echoCancellation: false,\n                    sampleRate: this.context.sampleRate,\n                    noiseSuppression: false,\n                    mozNoiseSuppression: false,\n                }\n            };\n            if (this._device) {\n                // @ts-ignore\n                constraints.audio.deviceId = this._device.deviceId;\n            }\n            const stream = yield navigator.mediaDevices.getUserMedia(constraints);\n            // start a new source only if the previous one is closed\n            if (!this._stream) {\n                this._stream = stream;\n                // Wrap a MediaStreamSourceNode around the live input stream.\n                const mediaStreamNode = this.context.createMediaStreamSource(stream);\n                // Connect the MediaStreamSourceNode to a gate gain node\n                connect(mediaStreamNode, this.output);\n                this._mediaStream = mediaStreamNode;\n            }\n            return this;\n        });\n    }\n    /**\n     * Close the media stream\n     */\n    close() {\n        if (this._stream && this._mediaStream) {\n            this._stream.getAudioTracks().forEach((track) => {\n                track.stop();\n            });\n            this._stream = undefined;\n            // remove the old media stream\n            this._mediaStream.disconnect();\n            this._mediaStream = undefined;\n        }\n        this._device = undefined;\n        return this;\n    }\n    /**\n     * Returns a promise which resolves with the list of audio input devices available.\n     * @return The promise that is resolved with the devices\n     * @example\n     * Tone.UserMedia.enumerateDevices().then((devices) => {\n     * \t// print the device labels\n     * \tconsole.log(devices.map(device => device.label));\n     * });\n     */\n    static enumerateDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const allDevices = yield navigator.mediaDevices.enumerateDevices();\n            return allDevices.filter(device => {\n                return device.kind === \"audioinput\";\n            });\n        });\n    }\n    /**\n     * Returns the playback state of the source, \"started\" when the microphone is open\n     * and \"stopped\" when the mic is closed.\n     */\n    get state() {\n        return this._stream && this._stream.active ? \"started\" : \"stopped\";\n    }\n    /**\n     * Returns an identifier for the represented device that is\n     * persisted across sessions. It is un-guessable by other applications and\n     * unique to the origin of the calling application. It is reset when the\n     * user clears cookies (for Private Browsing, a different identifier is\n     * used that is not persisted across sessions). Returns undefined when the\n     * device is not open.\n     */\n    get deviceId() {\n        if (this._device) {\n            return this._device.deviceId;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Returns a group identifier. Two devices have the\n     * same group identifier if they belong to the same physical device.\n     * Returns null  when the device is not open.\n     */\n    get groupId() {\n        if (this._device) {\n            return this._device.groupId;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Returns a label describing this device (for example \"Built-in Microphone\").\n     * Returns undefined when the device is not open or label is not available\n     * because of permissions.\n     */\n    get label() {\n        if (this._device) {\n            return this._device.label;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Mute the output.\n     * @example\n     * const mic = new Tone.UserMedia();\n     * mic.open().then(() => {\n     * \t// promise resolves when input is available\n     * });\n     * // mute the output\n     * mic.mute = true;\n     */\n    get mute() {\n        return this._volume.mute;\n    }\n    set mute(mute) {\n        this._volume.mute = mute;\n    }\n    dispose() {\n        super.dispose();\n        this.close();\n        this._volume.dispose();\n        this.volume.dispose();\n        return this;\n    }\n    /**\n     * If getUserMedia is supported by the browser.\n     */\n    static get supported() {\n        return isDefined(navigator.mediaDevices) &&\n            isDefined(navigator.mediaDevices.getUserMedia);\n    }\n}\n//# sourceMappingURL=UserMedia.js.map","import { Gain } from \"../core/context/Gain\";\nimport { connect, disconnect } from \"../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Tone.Zero outputs 0's at audio-rate. The reason this has to be\n * it's own class is that many browsers optimize out Tone.Signal\n * with a value of 0 and will not process nodes further down the graph.\n * @category Signal\n */\nexport class Zero extends SignalOperator {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Zero.getDefaults(), arguments)));\n        this.name = \"Zero\";\n        /**\n         * The gain node which connects the constant source to the output\n         */\n        this._gain = new Gain({ context: this.context });\n        /**\n         * Only outputs 0\n         */\n        this.output = this._gain;\n        /**\n         * no input node\n         */\n        this.input = undefined;\n        connect(this.context.getConstant(0), this._gain);\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        disconnect(this.context.getConstant(0), this._gain);\n        return this;\n    }\n}\n//# sourceMappingURL=Zero.js.map","import { Gain } from \"../../core/context/Gain\";\nimport { Param } from \"../../core/context/Param\";\nimport { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { AudioToGain } from \"../../signal/AudioToGain\";\nimport { Scale } from \"../../signal/Scale\";\nimport { connectSignal, Signal } from \"../../signal/Signal\";\nimport { Zero } from \"../../signal/Zero\";\nimport { Oscillator } from \"./Oscillator\";\n/**\n * LFO stands for low frequency oscillator. LFO produces an output signal\n * which can be attached to an AudioParam or Tone.Signal\n * in order to modulate that parameter with an oscillator. The LFO can\n * also be synced to the transport to start/stop and change when the tempo changes.\n * @example\n * return Tone.Offline(() => {\n * \tconst lfo = new Tone.LFO(\"4n\", 400, 4000).start().toDestination();\n * }, 0.5, 1);\n * @category Source\n */\nexport class LFO extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(LFO.getDefaults(), arguments, [\"frequency\", \"min\", \"max\"]));\n        this.name = \"LFO\";\n        /**\n         * The value that the LFO outputs when it's stopped\n         */\n        this._stoppedValue = 0;\n        /**\n         * A private placeholder for the units\n         */\n        this._units = \"number\";\n        /**\n         * If the input value is converted using the [[units]]\n         */\n        this.convert = true;\n        /**\n         * Private methods borrowed from Param\n         */\n        // @ts-ignore\n        this._fromType = Param.prototype._fromType;\n        // @ts-ignore\n        this._toType = Param.prototype._toType;\n        // @ts-ignore\n        this._is = Param.prototype._is;\n        // @ts-ignore\n        this._clampValue = Param.prototype._clampValue;\n        const options = optionsFromArguments(LFO.getDefaults(), arguments, [\"frequency\", \"min\", \"max\"]);\n        this._oscillator = new Oscillator(options);\n        this.frequency = this._oscillator.frequency;\n        this._amplitudeGain = new Gain({\n            context: this.context,\n            gain: options.amplitude,\n            units: \"normalRange\",\n        });\n        this.amplitude = this._amplitudeGain.gain;\n        this._stoppedSignal = new Signal({\n            context: this.context,\n            units: \"audioRange\",\n            value: 0,\n        });\n        this._zeros = new Zero({ context: this.context });\n        this._a2g = new AudioToGain({ context: this.context });\n        this._scaler = this.output = new Scale({\n            context: this.context,\n            max: options.max,\n            min: options.min,\n        });\n        this.units = options.units;\n        this.min = options.min;\n        this.max = options.max;\n        // connect it up\n        this._oscillator.chain(this._amplitudeGain, this._a2g, this._scaler);\n        this._zeros.connect(this._a2g);\n        this._stoppedSignal.connect(this._a2g);\n        readOnly(this, [\"amplitude\", \"frequency\"]);\n        this.phase = options.phase;\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            amplitude: 1,\n            frequency: \"4n\",\n            max: 1,\n            min: 0,\n            type: \"sine\",\n            units: \"number\",\n        });\n    }\n    /**\n     * Start the LFO.\n     * @param time The time the LFO will start\n     */\n    start(time) {\n        time = this.toSeconds(time);\n        this._stoppedSignal.setValueAtTime(0, time);\n        this._oscillator.start(time);\n        return this;\n    }\n    /**\n     * Stop the LFO.\n     * @param  time The time the LFO will stop\n     */\n    stop(time) {\n        time = this.toSeconds(time);\n        this._stoppedSignal.setValueAtTime(this._stoppedValue, time);\n        this._oscillator.stop(time);\n        return this;\n    }\n    /**\n     * Sync the start/stop/pause to the transport\n     * and the frequency to the bpm of the transport\n     * @example\n     * const lfo = new Tone.LFO(\"8n\");\n     * lfo.sync().start(0);\n     * // the rate of the LFO will always be an eighth note, even as the tempo changes\n     */\n    sync() {\n        this._oscillator.sync();\n        this._oscillator.syncFrequency();\n        return this;\n    }\n    /**\n     * unsync the LFO from transport control\n     */\n    unsync() {\n        this._oscillator.unsync();\n        this._oscillator.unsyncFrequency();\n        return this;\n    }\n    /**\n     * After the oscillator waveform is updated, reset the `_stoppedSignal` value to match the updated waveform\n     */\n    _setStoppedValue() {\n        this._stoppedValue = this._oscillator.getInitialValue();\n        this._stoppedSignal.value = this._stoppedValue;\n    }\n    /**\n     * The minimum output of the LFO.\n     */\n    get min() {\n        return this._toType(this._scaler.min);\n    }\n    set min(min) {\n        min = this._fromType(min);\n        this._scaler.min = min;\n    }\n    /**\n     * The maximum output of the LFO.\n     */\n    get max() {\n        return this._toType(this._scaler.max);\n    }\n    set max(max) {\n        max = this._fromType(max);\n        this._scaler.max = max;\n    }\n    /**\n     * The type of the oscillator: See [[Oscillator.type]]\n     */\n    get type() {\n        return this._oscillator.type;\n    }\n    set type(type) {\n        this._oscillator.type = type;\n        this._setStoppedValue();\n    }\n    /**\n     * The oscillator's partials array: See [[Oscillator.partials]]\n     */\n    get partials() {\n        return this._oscillator.partials;\n    }\n    set partials(partials) {\n        this._oscillator.partials = partials;\n        this._setStoppedValue();\n    }\n    /**\n     * The phase of the LFO.\n     */\n    get phase() {\n        return this._oscillator.phase;\n    }\n    set phase(phase) {\n        this._oscillator.phase = phase;\n        this._setStoppedValue();\n    }\n    /**\n     * The output units of the LFO.\n     */\n    get units() {\n        return this._units;\n    }\n    set units(val) {\n        const currentMin = this.min;\n        const currentMax = this.max;\n        // convert the min and the max\n        this._units = val;\n        this.min = currentMin;\n        this.max = currentMax;\n    }\n    /**\n     * Returns the playback state of the source, either \"started\" or \"stopped\".\n     */\n    get state() {\n        return this._oscillator.state;\n    }\n    /**\n     * @param node the destination to connect to\n     * @param outputNum the optional output number\n     * @param inputNum the input number\n     */\n    connect(node, outputNum, inputNum) {\n        if (node instanceof Param || node instanceof Signal) {\n            this.convert = node.convert;\n            this.units = node.units;\n        }\n        connectSignal(this, node, outputNum, inputNum);\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._oscillator.dispose();\n        this._stoppedSignal.dispose();\n        this._zeros.dispose();\n        this._scaler.dispose();\n        this._a2g.dispose();\n        this._amplitudeGain.dispose();\n        this.amplitude.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=LFO.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { AudioToGain } from \"../../signal/AudioToGain\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Source } from \"../Source\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\n/**\n * An amplitude modulated oscillator node. It is implemented with\n * two oscillators, one which modulators the other's amplitude\n * through a gain node.\n * ```\n *    +-------------+       +----------+\n *    | Carrier Osc +>------> GainNode |\n *    +-------------+       |          +--->Output\n *                      +---> gain     |\n * +---------------+    |   +----------+\n * | Modulator Osc +>---+\n * +---------------+\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst amOsc = new Tone.AMOscillator(30, \"sine\", \"square\").toDestination().start();\n * }, 0.2, 1);\n * @category Source\n */\nexport class AMOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(AMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]));\n        this.name = \"AMOscillator\";\n        /**\n         * convert the -1,1 output to 0,1\n         */\n        this._modulationScale = new AudioToGain({ context: this.context });\n        /**\n         * the node where the modulation happens\n         */\n        this._modulationNode = new Gain({\n            context: this.context,\n        });\n        const options = optionsFromArguments(AMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]);\n        this._carrier = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: options.type,\n        });\n        this.frequency = this._carrier.frequency,\n            this.detune = this._carrier.detune;\n        this._modulator = new Oscillator({\n            context: this.context,\n            phase: options.phase,\n            type: options.modulationType,\n        });\n        this.harmonicity = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.harmonicity,\n        });\n        // connections\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this._modulator.chain(this._modulationScale, this._modulationNode.gain);\n        this._carrier.chain(this._modulationNode, this.output);\n        readOnly(this, [\"frequency\", \"detune\", \"harmonicity\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            harmonicity: 1,\n            modulationType: \"square\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._modulator.start(time);\n        this._carrier.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        this._modulator.stop(time);\n        this._carrier.stop(time);\n    }\n    _restart(time) {\n        this._modulator.restart(time);\n        this._carrier.restart(time);\n    }\n    /**\n     * The type of the carrier oscillator\n     */\n    get type() {\n        return this._carrier.type;\n    }\n    set type(type) {\n        this._carrier.type = type;\n    }\n    get baseType() {\n        return this._carrier.baseType;\n    }\n    set baseType(baseType) {\n        this._carrier.baseType = baseType;\n    }\n    get partialCount() {\n        return this._carrier.partialCount;\n    }\n    set partialCount(partialCount) {\n        this._carrier.partialCount = partialCount;\n    }\n    /**\n     * The type of the modulator oscillator\n     */\n    get modulationType() {\n        return this._modulator.type;\n    }\n    set modulationType(type) {\n        this._modulator.type = type;\n    }\n    get phase() {\n        return this._carrier.phase;\n    }\n    set phase(phase) {\n        this._carrier.phase = phase;\n        this._modulator.phase = phase;\n    }\n    get partials() {\n        return this._carrier.partials;\n    }\n    set partials(partials) {\n        this._carrier.partials = partials;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.detune.dispose();\n        this.harmonicity.dispose();\n        this._carrier.dispose();\n        this._modulator.dispose();\n        this._modulationNode.dispose();\n        this._modulationScale.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { noOp, readOnly } from \"../../core/util/Interface\";\nimport { Signal } from \"../../signal/Signal\";\nimport { Source } from \"../Source\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\nimport { assertRange } from \"../../core/util/Debug\";\n/**\n * FatOscillator is an array of oscillators with detune spread between the oscillators\n * @example\n * const fatOsc = new Tone.FatOscillator(\"Ab3\", \"sawtooth\", 40).toDestination().start();\n * @category Source\n */\nexport class FatOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(FatOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"spread\"]));\n        this.name = \"FatOscillator\";\n        /**\n         * The array of oscillators\n         */\n        this._oscillators = [];\n        const options = optionsFromArguments(FatOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"spread\"]);\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        this._spread = options.spread;\n        this._type = options.type;\n        this._phase = options.phase;\n        this._partials = options.partials;\n        this._partialCount = options.partialCount;\n        // set the count initially\n        this.count = options.count;\n        readOnly(this, [\"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            count: 3,\n            spread: 20,\n            type: \"sawtooth\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._forEach(osc => osc.start(time));\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._forEach(osc => osc.stop(time));\n    }\n    _restart(time) {\n        this._forEach(osc => osc.restart(time));\n    }\n    /**\n     * Iterate over all of the oscillators\n     */\n    _forEach(iterator) {\n        for (let i = 0; i < this._oscillators.length; i++) {\n            iterator(this._oscillators[i], i);\n        }\n    }\n    /**\n     * The type of the oscillator\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n        this._forEach(osc => osc.type = type);\n    }\n    /**\n     * The detune spread between the oscillators. If \"count\" is\n     * set to 3 oscillators and the \"spread\" is set to 40,\n     * the three oscillators would be detuned like this: [-20, 0, 20]\n     * for a total detune spread of 40 cents.\n     * @example\n     * const fatOsc = new Tone.FatOscillator().toDestination().start();\n     * fatOsc.spread = 70;\n     */\n    get spread() {\n        return this._spread;\n    }\n    set spread(spread) {\n        this._spread = spread;\n        if (this._oscillators.length > 1) {\n            const start = -spread / 2;\n            const step = spread / (this._oscillators.length - 1);\n            this._forEach((osc, i) => osc.detune.value = start + step * i);\n        }\n    }\n    /**\n     * The number of detuned oscillators. Must be an integer greater than 1.\n     * @example\n     * const fatOsc = new Tone.FatOscillator(\"C#3\", \"sawtooth\").toDestination().start();\n     * // use 4 sawtooth oscillators\n     * fatOsc.count = 4;\n     */\n    get count() {\n        return this._oscillators.length;\n    }\n    set count(count) {\n        assertRange(count, 1);\n        if (this._oscillators.length !== count) {\n            // dispose the previous oscillators\n            this._forEach(osc => osc.dispose());\n            this._oscillators = [];\n            for (let i = 0; i < count; i++) {\n                const osc = new Oscillator({\n                    context: this.context,\n                    volume: -6 - count * 1.1,\n                    type: this._type,\n                    phase: this._phase + (i / count) * 360,\n                    partialCount: this._partialCount,\n                    onstop: i === 0 ? () => this.onstop(this) : noOp,\n                });\n                if (this.type === \"custom\") {\n                    osc.partials = this._partials;\n                }\n                this.frequency.connect(osc.frequency);\n                this.detune.connect(osc.detune);\n                osc.detune.overridden = false;\n                osc.connect(this.output);\n                this._oscillators[i] = osc;\n            }\n            // set the spread\n            this.spread = this._spread;\n            if (this.state === \"started\") {\n                this._forEach(osc => osc.start());\n            }\n        }\n    }\n    get phase() {\n        return this._phase;\n    }\n    set phase(phase) {\n        this._phase = phase;\n        this._forEach((osc, i) => osc.phase = this._phase + (i / this.count) * 360);\n    }\n    get baseType() {\n        return this._oscillators[0].baseType;\n    }\n    set baseType(baseType) {\n        this._forEach(osc => osc.baseType = baseType);\n        this._type = this._oscillators[0].type;\n    }\n    get partials() {\n        return this._oscillators[0].partials;\n    }\n    set partials(partials) {\n        this._partials = partials;\n        this._partialCount = this._partials.length;\n        if (partials.length) {\n            this._type = \"custom\";\n            this._forEach(osc => osc.partials = partials);\n        }\n    }\n    get partialCount() {\n        return this._oscillators[0].partialCount;\n    }\n    set partialCount(partialCount) {\n        this._partialCount = partialCount;\n        this._forEach(osc => osc.partialCount = partialCount);\n        this._type = this._oscillators[0].type;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.detune.dispose();\n        this._forEach(osc => osc.dispose());\n        return this;\n    }\n}\n//# sourceMappingURL=FatOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Signal } from \"../../signal/Signal\";\nimport { Source } from \"../Source\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\n/**\n * FMOscillator implements a frequency modulation synthesis\n * ```\n *                                              +-------------+\n * +---------------+        +-------------+     | Carrier Osc |\n * | Modulator Osc +>-------> GainNode    |     |             +--->Output\n * +---------------+        |             +>----> frequency   |\n *                       +--> gain        |     +-------------+\n *                       |  +-------------+\n * +-----------------+   |\n * | modulationIndex +>--+\n * +-----------------+\n * ```\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst fmOsc = new Tone.FMOscillator({\n * \t\tfrequency: 200,\n * \t\ttype: \"square\",\n * \t\tmodulationType: \"triangle\",\n * \t\tharmonicity: 0.2,\n * \t\tmodulationIndex: 3\n * \t}).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class FMOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(FMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]));\n        this.name = \"FMOscillator\";\n        /**\n         * the node where the modulation happens\n         */\n        this._modulationNode = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        const options = optionsFromArguments(FMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]);\n        this._carrier = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: 0,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: options.type,\n        });\n        this.detune = this._carrier.detune;\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this._modulator = new Oscillator({\n            context: this.context,\n            phase: options.phase,\n            type: options.modulationType,\n        });\n        this.harmonicity = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.harmonicity,\n        });\n        this.modulationIndex = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.modulationIndex,\n        });\n        // connections\n        this.frequency.connect(this._carrier.frequency);\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this.frequency.chain(this.modulationIndex, this._modulationNode);\n        this._modulator.connect(this._modulationNode.gain);\n        this._modulationNode.connect(this._carrier.frequency);\n        this._carrier.connect(this.output);\n        this.detune.connect(this._modulator.detune);\n        readOnly(this, [\"modulationIndex\", \"frequency\", \"detune\", \"harmonicity\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            harmonicity: 1,\n            modulationIndex: 2,\n            modulationType: \"square\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._modulator.start(time);\n        this._carrier.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        this._modulator.stop(time);\n        this._carrier.stop(time);\n    }\n    _restart(time) {\n        this._modulator.restart(time);\n        this._carrier.restart(time);\n        return this;\n    }\n    get type() {\n        return this._carrier.type;\n    }\n    set type(type) {\n        this._carrier.type = type;\n    }\n    get baseType() {\n        return this._carrier.baseType;\n    }\n    set baseType(baseType) {\n        this._carrier.baseType = baseType;\n    }\n    get partialCount() {\n        return this._carrier.partialCount;\n    }\n    set partialCount(partialCount) {\n        this._carrier.partialCount = partialCount;\n    }\n    /**\n     * The type of the modulator oscillator\n     */\n    get modulationType() {\n        return this._modulator.type;\n    }\n    set modulationType(type) {\n        this._modulator.type = type;\n    }\n    get phase() {\n        return this._carrier.phase;\n    }\n    set phase(phase) {\n        this._carrier.phase = phase;\n        this._modulator.phase = phase;\n    }\n    get partials() {\n        return this._carrier.partials;\n    }\n    set partials(partials) {\n        this._carrier.partials = partials;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.harmonicity.dispose();\n        this._carrier.dispose();\n        this._modulator.dispose();\n        this._modulationNode.dispose();\n        this.modulationIndex.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { Signal } from \"../../signal/Signal\";\nimport { WaveShaper } from \"../../signal/WaveShaper\";\nimport { Source } from \"../Source\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\n/**\n * PulseOscillator is an oscillator with control over pulse width,\n * also known as the duty cycle. At 50% duty cycle (width = 0) the wave is\n * a square wave.\n * [Read more](https://wigglewave.wordpress.com/2014/08/16/pulse-waveforms-and-harmonics/).\n * ```\n *    width = -0.25        width = 0.0          width = 0.25\n *\n *   +-----+            +-------+       +    +-------+     +-+\n *   |     |            |       |       |            |     |\n *   |     |            |       |       |            |     |\n * +-+     +-------+    +       +-------+            +-----+\n *\n *\n *    width = -0.5                              width = 0.5\n *\n *     +---+                                 +-------+   +---+\n *     |   |                                         |   |\n *     |   |                                         |   |\n * +---+   +-------+                                 +---+\n *\n *\n *    width = -0.75                             width = 0.75\n *\n *       +-+                                 +-------+ +-----+\n *       | |                                         | |\n *       | |                                         | |\n * +-----+ +-------+                                 +-+\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst pulse = new Tone.PulseOscillator(50, 0.4).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class PulseOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(PulseOscillator.getDefaults(), arguments, [\"frequency\", \"width\"]));\n        this.name = \"PulseOscillator\";\n        /**\n         * gate the width amount\n         */\n        this._widthGate = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        /**\n         * Threshold the signal to turn it into a square\n         */\n        this._thresh = new WaveShaper({\n            context: this.context,\n            mapping: val => val <= 0 ? -1 : 1,\n        });\n        const options = optionsFromArguments(PulseOscillator.getDefaults(), arguments, [\"frequency\", \"width\"]);\n        this.width = new Signal({\n            context: this.context,\n            units: \"audioRange\",\n            value: options.width,\n        });\n        this._triangle = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: \"triangle\",\n        });\n        this.frequency = this._triangle.frequency;\n        this.detune = this._triangle.detune;\n        // connections\n        this._triangle.chain(this._thresh, this.output);\n        this.width.chain(this._widthGate, this._thresh);\n        readOnly(this, [\"width\", \"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            phase: 0,\n            type: \"pulse\",\n            width: 0.2,\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._triangle.start(time);\n        this._widthGate.gain.setValueAtTime(1, time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._triangle.stop(time);\n        // the width is still connected to the output.\n        // that needs to be stopped also\n        this._widthGate.gain.cancelScheduledValues(time);\n        this._widthGate.gain.setValueAtTime(0, time);\n    }\n    _restart(time) {\n        this._triangle.restart(time);\n        this._widthGate.gain.cancelScheduledValues(time);\n        this._widthGate.gain.setValueAtTime(1, time);\n    }\n    /**\n     * The phase of the oscillator in degrees.\n     */\n    get phase() {\n        return this._triangle.phase;\n    }\n    set phase(phase) {\n        this._triangle.phase = phase;\n    }\n    /**\n     * The type of the oscillator. Always returns \"pulse\".\n     */\n    get type() {\n        return \"pulse\";\n    }\n    /**\n     * The baseType of the oscillator. Always returns \"pulse\".\n     */\n    get baseType() {\n        return \"pulse\";\n    }\n    /**\n     * The partials of the waveform. Cannot set partials for this waveform type\n     */\n    get partials() {\n        return [];\n    }\n    /**\n     * No partials for this waveform type.\n     */\n    get partialCount() {\n        return 0;\n    }\n    /**\n     * *Internal use* The carrier oscillator type is fed through the\n     * waveshaper node to create the pulse. Using different carrier oscillators\n     * changes oscillator's behavior.\n     */\n    set carrierType(type) {\n        this._triangle.type = type;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up method.\n     */\n    dispose() {\n        super.dispose();\n        this._triangle.dispose();\n        this.width.dispose();\n        this._widthGate.dispose();\n        this._thresh.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PulseOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Source } from \"../Source\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\nimport { PulseOscillator } from \"./PulseOscillator\";\n/**\n * PWMOscillator modulates the width of a Tone.PulseOscillator\n * at the modulationFrequency. This has the effect of continuously\n * changing the timbre of the oscillator by altering the harmonics\n * generated.\n * @example\n * return Tone.Offline(() => {\n * \tconst pwm = new Tone.PWMOscillator(60, 0.3).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class PWMOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(PWMOscillator.getDefaults(), arguments, [\"frequency\", \"modulationFrequency\"]));\n        this.name = \"PWMOscillator\";\n        this.sourceType = \"pwm\";\n        /**\n         * Scale the oscillator so it doesn't go silent\n         * at the extreme values.\n         */\n        this._scale = new Multiply({\n            context: this.context,\n            value: 2,\n        });\n        const options = optionsFromArguments(PWMOscillator.getDefaults(), arguments, [\"frequency\", \"modulationFrequency\"]);\n        this._pulse = new PulseOscillator({\n            context: this.context,\n            frequency: options.modulationFrequency,\n        });\n        // change the pulse oscillator type\n        this._pulse.carrierType = \"sine\";\n        this.modulationFrequency = this._pulse.frequency;\n        this._modulator = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n        });\n        this.frequency = this._modulator.frequency;\n        this.detune = this._modulator.detune;\n        // connections\n        this._modulator.chain(this._scale, this._pulse.width);\n        this._pulse.connect(this.output);\n        readOnly(this, [\"modulationFrequency\", \"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            modulationFrequency: 0.4,\n            phase: 0,\n            type: \"pwm\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._modulator.start(time);\n        this._pulse.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._modulator.stop(time);\n        this._pulse.stop(time);\n    }\n    /**\n     * restart the oscillator\n     */\n    _restart(time) {\n        this._modulator.restart(time);\n        this._pulse.restart(time);\n    }\n    /**\n     * The type of the oscillator. Always returns \"pwm\".\n     */\n    get type() {\n        return \"pwm\";\n    }\n    /**\n     * The baseType of the oscillator. Always returns \"pwm\".\n     */\n    get baseType() {\n        return \"pwm\";\n    }\n    /**\n     * The partials of the waveform. Cannot set partials for this waveform type\n     */\n    get partials() {\n        return [];\n    }\n    /**\n     * No partials for this waveform type.\n     */\n    get partialCount() {\n        return 0;\n    }\n    /**\n     * The phase of the oscillator in degrees.\n     */\n    get phase() {\n        return this._modulator.phase;\n    }\n    set phase(phase) {\n        this._modulator.phase = phase;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._pulse.dispose();\n        this._scale.dispose();\n        this._modulator.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PWMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { isNumber, isString } from \"../../core/util/TypeCheck\";\nimport { Signal } from \"../../signal/Signal\";\nimport { Source } from \"../Source\";\nimport { AMOscillator } from \"./AMOscillator\";\nimport { FatOscillator } from \"./FatOscillator\";\nimport { FMOscillator } from \"./FMOscillator\";\nimport { Oscillator } from \"./Oscillator\";\nimport { generateWaveform } from \"./OscillatorInterface\";\nimport { PulseOscillator } from \"./PulseOscillator\";\nimport { PWMOscillator } from \"./PWMOscillator\";\nconst OmniOscillatorSourceMap = {\n    am: AMOscillator,\n    fat: FatOscillator,\n    fm: FMOscillator,\n    oscillator: Oscillator,\n    pulse: PulseOscillator,\n    pwm: PWMOscillator,\n};\n/**\n * OmniOscillator aggregates all of the oscillator types into one.\n * @example\n * return Tone.Offline(() => {\n * \tconst omniOsc = new Tone.OmniOscillator(\"C#4\", \"pwm\").toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class OmniOscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(OmniOscillator.getDefaults(), arguments, [\"frequency\", \"type\"]));\n        this.name = \"OmniOscillator\";\n        const options = optionsFromArguments(OmniOscillator.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, [\"frequency\", \"detune\"]);\n        // set the options\n        this.set(options);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), FMOscillator.getDefaults(), AMOscillator.getDefaults(), FatOscillator.getDefaults(), PulseOscillator.getDefaults(), PWMOscillator.getDefaults());\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._oscillator.start(time);\n    }\n    /**\n     * start the oscillator\n     */\n    _stop(time) {\n        this._oscillator.stop(time);\n    }\n    _restart(time) {\n        this._oscillator.restart(time);\n        return this;\n    }\n    /**\n     * The type of the oscillator. Can be any of the basic types: sine, square, triangle, sawtooth. Or\n     * prefix the basic types with \"fm\", \"am\", or \"fat\" to use the FMOscillator, AMOscillator or FatOscillator\n     * types. The oscillator could also be set to \"pwm\" or \"pulse\". All of the parameters of the\n     * oscillator's class are accessible when the oscillator is set to that type, but throws an error\n     * when it's not.\n     * @example\n     * const omniOsc = new Tone.OmniOscillator().toDestination().start();\n     * omniOsc.type = \"pwm\";\n     * // modulationFrequency is parameter which is available\n     * // only when the type is \"pwm\".\n     * omniOsc.modulationFrequency.value = 0.5;\n     */\n    get type() {\n        let prefix = \"\";\n        if ([\"am\", \"fm\", \"fat\"].some(p => this._sourceType === p)) {\n            prefix = this._sourceType;\n        }\n        return prefix + this._oscillator.type;\n    }\n    set type(type) {\n        if (type.substr(0, 2) === \"fm\") {\n            this._createNewOscillator(\"fm\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(2);\n        }\n        else if (type.substr(0, 2) === \"am\") {\n            this._createNewOscillator(\"am\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(2);\n        }\n        else if (type.substr(0, 3) === \"fat\") {\n            this._createNewOscillator(\"fat\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(3);\n        }\n        else if (type === \"pwm\") {\n            this._createNewOscillator(\"pwm\");\n            this._oscillator = this._oscillator;\n        }\n        else if (type === \"pulse\") {\n            this._createNewOscillator(\"pulse\");\n        }\n        else {\n            this._createNewOscillator(\"oscillator\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type;\n        }\n    }\n    /**\n     * The value is an empty array when the type is not \"custom\".\n     * This is not available on \"pwm\" and \"pulse\" oscillator types.\n     * See [[Oscillator.partials]]\n     */\n    get partials() {\n        return this._oscillator.partials;\n    }\n    set partials(partials) {\n        if (!this._getOscType(this._oscillator, \"pulse\") && !this._getOscType(this._oscillator, \"pwm\")) {\n            this._oscillator.partials = partials;\n        }\n    }\n    get partialCount() {\n        return this._oscillator.partialCount;\n    }\n    set partialCount(partialCount) {\n        if (!this._getOscType(this._oscillator, \"pulse\") && !this._getOscType(this._oscillator, \"pwm\")) {\n            this._oscillator.partialCount = partialCount;\n        }\n    }\n    set(props) {\n        // make sure the type is set first\n        if (Reflect.has(props, \"type\") && props.type) {\n            this.type = props.type;\n        }\n        // then set the rest\n        super.set(props);\n        return this;\n    }\n    /**\n     * connect the oscillator to the frequency and detune signals\n     */\n    _createNewOscillator(oscType) {\n        if (oscType !== this._sourceType) {\n            this._sourceType = oscType;\n            const OscConstructor = OmniOscillatorSourceMap[oscType];\n            // short delay to avoid clicks on the change\n            const now = this.now();\n            if (this._oscillator) {\n                const oldOsc = this._oscillator;\n                oldOsc.stop(now);\n                // dispose the old one\n                this.context.setTimeout(() => oldOsc.dispose(), this.blockTime);\n            }\n            this._oscillator = new OscConstructor({\n                context: this.context,\n            });\n            this.frequency.connect(this._oscillator.frequency);\n            this.detune.connect(this._oscillator.detune);\n            this._oscillator.connect(this.output);\n            this._oscillator.onstop = () => this.onstop(this);\n            if (this.state === \"started\") {\n                this._oscillator.start(now);\n            }\n        }\n    }\n    get phase() {\n        return this._oscillator.phase;\n    }\n    set phase(phase) {\n        this._oscillator.phase = phase;\n    }\n    /**\n     * The source type of the oscillator.\n     * @example\n     * const omniOsc = new Tone.OmniOscillator(440, \"fmsquare\");\n     * console.log(omniOsc.sourceType); // 'fm'\n     */\n    get sourceType() {\n        return this._sourceType;\n    }\n    set sourceType(sType) {\n        // the basetype defaults to sine\n        let baseType = \"sine\";\n        if (this._oscillator.type !== \"pwm\" && this._oscillator.type !== \"pulse\") {\n            baseType = this._oscillator.type;\n        }\n        // set the type\n        if (sType === \"fm\") {\n            this.type = \"fm\" + baseType;\n        }\n        else if (sType === \"am\") {\n            this.type = \"am\" + baseType;\n        }\n        else if (sType === \"fat\") {\n            this.type = \"fat\" + baseType;\n        }\n        else if (sType === \"oscillator\") {\n            this.type = baseType;\n        }\n        else if (sType === \"pulse\") {\n            this.type = \"pulse\";\n        }\n        else if (sType === \"pwm\") {\n            this.type = \"pwm\";\n        }\n    }\n    _getOscType(osc, sourceType) {\n        return osc instanceof OmniOscillatorSourceMap[sourceType];\n    }\n    /**\n     * The base type of the oscillator. See [[Oscillator.baseType]]\n     * @example\n     * const omniOsc = new Tone.OmniOscillator(440, \"fmsquare4\");\n     * console.log(omniOsc.sourceType, omniOsc.baseType, omniOsc.partialCount);\n     */\n    get baseType() {\n        return this._oscillator.baseType;\n    }\n    set baseType(baseType) {\n        if (!this._getOscType(this._oscillator, \"pulse\") &&\n            !this._getOscType(this._oscillator, \"pwm\") &&\n            baseType !== \"pulse\" && baseType !== \"pwm\") {\n            this._oscillator.baseType = baseType;\n        }\n    }\n    /**\n     * The width of the oscillator when sourceType === \"pulse\".\n     * See [[PWMOscillator.width]]\n     */\n    get width() {\n        if (this._getOscType(this._oscillator, \"pulse\")) {\n            return this._oscillator.width;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * The number of detuned oscillators when sourceType === \"fat\".\n     * See [[FatOscillator.count]]\n     */\n    get count() {\n        if (this._getOscType(this._oscillator, \"fat\")) {\n            return this._oscillator.count;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set count(count) {\n        if (this._getOscType(this._oscillator, \"fat\") && isNumber(count)) {\n            this._oscillator.count = count;\n        }\n    }\n    /**\n     * The detune spread between the oscillators when sourceType === \"fat\".\n     * See [[FatOscillator.count]]\n     */\n    get spread() {\n        if (this._getOscType(this._oscillator, \"fat\")) {\n            return this._oscillator.spread;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set spread(spread) {\n        if (this._getOscType(this._oscillator, \"fat\") && isNumber(spread)) {\n            this._oscillator.spread = spread;\n        }\n    }\n    /**\n     * The type of the modulator oscillator. Only if the oscillator is set to \"am\" or \"fm\" types.\n     * See [[AMOscillator]] or [[FMOscillator]]\n     */\n    get modulationType() {\n        if (this._getOscType(this._oscillator, \"fm\") || this._getOscType(this._oscillator, \"am\")) {\n            return this._oscillator.modulationType;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set modulationType(mType) {\n        if ((this._getOscType(this._oscillator, \"fm\") || this._getOscType(this._oscillator, \"am\")) && isString(mType)) {\n            this._oscillator.modulationType = mType;\n        }\n    }\n    /**\n     * The modulation index when the sourceType === \"fm\"\n     * See [[FMOscillator]].\n     */\n    get modulationIndex() {\n        if (this._getOscType(this._oscillator, \"fm\")) {\n            return this._oscillator.modulationIndex;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Harmonicity is the frequency ratio between the carrier and the modulator oscillators.\n     * See [[AMOscillator]] or [[FMOscillator]]\n     */\n    get harmonicity() {\n        if (this._getOscType(this._oscillator, \"fm\") || this._getOscType(this._oscillator, \"am\")) {\n            return this._oscillator.harmonicity;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * The modulationFrequency Signal of the oscillator when sourceType === \"pwm\"\n     * see [[PWMOscillator]]\n     * @min 0.1\n     * @max 5\n     */\n    get modulationFrequency() {\n        if (this._getOscType(this._oscillator, \"pwm\")) {\n            return this._oscillator.modulationFrequency;\n        }\n        else {\n            return undefined;\n        }\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.detune.dispose();\n        this.frequency.dispose();\n        this._oscillator.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=OmniOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { deepEquals, optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { isDefined } from \"../../core/util/TypeCheck\";\nimport { Signal } from \"../../signal/Signal\";\nimport { Source } from \"../Source\";\nimport { generateWaveform } from \"./OscillatorInterface\";\nimport { ToneOscillatorNode } from \"./ToneOscillatorNode\";\nimport { assertRange } from \"../../core/util/Debug\";\nimport { clamp } from \"../../core/util/Math\";\n/**\n * Oscillator supports a number of features including\n * phase rotation, multiple oscillator types (see Oscillator.type),\n * and Transport syncing (see Oscillator.syncFrequency).\n *\n * @example\n * // make and start a 440hz sine tone\n * const osc = new Tone.Oscillator(440, \"sine\").toDestination().start();\n * @category Source\n */\nexport class Oscillator extends Source {\n    constructor() {\n        super(optionsFromArguments(Oscillator.getDefaults(), arguments, [\"frequency\", \"type\"]));\n        this.name = \"Oscillator\";\n        /**\n         * the main oscillator\n         */\n        this._oscillator = null;\n        const options = optionsFromArguments(Oscillator.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        readOnly(this, \"frequency\");\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, \"detune\");\n        this._partials = options.partials;\n        this._partialCount = options.partialCount;\n        this._type = options.type;\n        if (options.partialCount && options.type !== \"custom\") {\n            this._type = this.baseType + options.partialCount.toString();\n        }\n        this.phase = options.phase;\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            partialCount: 0,\n            partials: [],\n            phase: 0,\n            type: \"sine\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        const computedTime = this.toSeconds(time);\n        // new oscillator with previous values\n        const oscillator = new ToneOscillatorNode({\n            context: this.context,\n            onended: () => this.onstop(this),\n        });\n        this._oscillator = oscillator;\n        if (this._wave) {\n            this._oscillator.setPeriodicWave(this._wave);\n        }\n        else {\n            this._oscillator.type = this._type;\n        }\n        // connect the control signal to the oscillator frequency & detune\n        this._oscillator.connect(this.output);\n        this.frequency.connect(this._oscillator.frequency);\n        this.detune.connect(this._oscillator.detune);\n        // start the oscillator\n        this._oscillator.start(computedTime);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        const computedTime = this.toSeconds(time);\n        if (this._oscillator) {\n            this._oscillator.stop(computedTime);\n        }\n    }\n    /**\n     * Restart the oscillator. Does not stop the oscillator, but instead\n     * just cancels any scheduled 'stop' from being invoked.\n     */\n    _restart(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"restart\", computedTime);\n        if (this._oscillator) {\n            this._oscillator.cancelStop();\n        }\n        this._state.cancel(computedTime);\n        return this;\n    }\n    /**\n     * Sync the signal to the Transport's bpm. Any changes to the transports bpm,\n     * will also affect the oscillators frequency.\n     * @example\n     * const osc = new Tone.Oscillator().toDestination().start();\n     * osc.frequency.value = 440;\n     * // the ratio between the bpm and the frequency will be maintained\n     * osc.syncFrequency();\n     * // double the tempo\n     * Tone.Transport.bpm.value *= 2;\n     * // the frequency of the oscillator is doubled to 880\n     */\n    syncFrequency() {\n        this.context.transport.syncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * Unsync the oscillator's frequency from the Transport.\n     * See Oscillator.syncFrequency\n     */\n    unsyncFrequency() {\n        this.context.transport.unsyncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * Get a cached periodic wave. Avoids having to recompute\n     * the oscillator values when they have already been computed\n     * with the same values.\n     */\n    _getCachedPeriodicWave() {\n        if (this._type === \"custom\") {\n            const oscProps = Oscillator._periodicWaveCache.find(description => {\n                return description.phase === this._phase &&\n                    deepEquals(description.partials, this._partials);\n            });\n            return oscProps;\n        }\n        else {\n            const oscProps = Oscillator._periodicWaveCache.find(description => {\n                return description.type === this._type &&\n                    description.phase === this._phase;\n            });\n            this._partialCount = oscProps ? oscProps.partialCount : this._partialCount;\n            return oscProps;\n        }\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n        const isBasicType = [\"sine\", \"square\", \"sawtooth\", \"triangle\"].indexOf(type) !== -1;\n        if (this._phase === 0 && isBasicType) {\n            this._wave = undefined;\n            this._partialCount = 0;\n            // just go with the basic approach\n            if (this._oscillator !== null) {\n                // already tested that it's a basic type\n                this._oscillator.type = type;\n            }\n        }\n        else {\n            // first check if the value is cached\n            const cache = this._getCachedPeriodicWave();\n            if (isDefined(cache)) {\n                const { partials, wave } = cache;\n                this._wave = wave;\n                this._partials = partials;\n                if (this._oscillator !== null) {\n                    this._oscillator.setPeriodicWave(this._wave);\n                }\n            }\n            else {\n                const [real, imag] = this._getRealImaginary(type, this._phase);\n                const periodicWave = this.context.createPeriodicWave(real, imag);\n                this._wave = periodicWave;\n                if (this._oscillator !== null) {\n                    this._oscillator.setPeriodicWave(this._wave);\n                }\n                // set the cache\n                Oscillator._periodicWaveCache.push({\n                    imag,\n                    partialCount: this._partialCount,\n                    partials: this._partials,\n                    phase: this._phase,\n                    real,\n                    type: this._type,\n                    wave: this._wave,\n                });\n                if (Oscillator._periodicWaveCache.length > 100) {\n                    Oscillator._periodicWaveCache.shift();\n                }\n            }\n        }\n    }\n    get baseType() {\n        return this._type.replace(this.partialCount.toString(), \"\");\n    }\n    set baseType(baseType) {\n        if (this.partialCount && this._type !== \"custom\" && baseType !== \"custom\") {\n            this.type = baseType + this.partialCount;\n        }\n        else {\n            this.type = baseType;\n        }\n    }\n    get partialCount() {\n        return this._partialCount;\n    }\n    set partialCount(p) {\n        assertRange(p, 0);\n        let type = this._type;\n        const partial = /^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);\n        if (partial) {\n            type = partial[1];\n        }\n        if (this._type !== \"custom\") {\n            if (p === 0) {\n                this.type = type;\n            }\n            else {\n                this.type = type + p.toString();\n            }\n        }\n        else {\n            // extend or shorten the partials array\n            const fullPartials = new Float32Array(p);\n            // copy over the partials array\n            this._partials.forEach((v, i) => fullPartials[i] = v);\n            this._partials = Array.from(fullPartials);\n            this.type = this._type;\n        }\n    }\n    /**\n     * Returns the real and imaginary components based\n     * on the oscillator type.\n     * @returns [real: Float32Array, imaginary: Float32Array]\n     */\n    _getRealImaginary(type, phase) {\n        const fftSize = 4096;\n        let periodicWaveSize = fftSize / 2;\n        const real = new Float32Array(periodicWaveSize);\n        const imag = new Float32Array(periodicWaveSize);\n        let partialCount = 1;\n        if (type === \"custom\") {\n            partialCount = this._partials.length + 1;\n            this._partialCount = this._partials.length;\n            periodicWaveSize = partialCount;\n            // if the partial count is 0, don't bother doing any computation\n            if (this._partials.length === 0) {\n                return [real, imag];\n            }\n        }\n        else {\n            const partial = /^(sine|triangle|square|sawtooth)(\\d+)$/.exec(type);\n            if (partial) {\n                partialCount = parseInt(partial[2], 10) + 1;\n                this._partialCount = parseInt(partial[2], 10);\n                type = partial[1];\n                partialCount = Math.max(partialCount, 2);\n                periodicWaveSize = partialCount;\n            }\n            else {\n                this._partialCount = 0;\n            }\n            this._partials = [];\n        }\n        for (let n = 1; n < periodicWaveSize; ++n) {\n            const piFactor = 2 / (n * Math.PI);\n            let b;\n            switch (type) {\n                case \"sine\":\n                    b = (n <= partialCount) ? 1 : 0;\n                    this._partials[n - 1] = b;\n                    break;\n                case \"square\":\n                    b = (n & 1) ? 2 * piFactor : 0;\n                    this._partials[n - 1] = b;\n                    break;\n                case \"sawtooth\":\n                    b = piFactor * ((n & 1) ? 1 : -1);\n                    this._partials[n - 1] = b;\n                    break;\n                case \"triangle\":\n                    if (n & 1) {\n                        b = 2 * (piFactor * piFactor) * ((((n - 1) >> 1) & 1) ? -1 : 1);\n                    }\n                    else {\n                        b = 0;\n                    }\n                    this._partials[n - 1] = b;\n                    break;\n                case \"custom\":\n                    b = this._partials[n - 1];\n                    break;\n                default:\n                    throw new TypeError(\"Oscillator: invalid type: \" + type);\n            }\n            if (b !== 0) {\n                real[n] = -b * Math.sin(phase * n);\n                imag[n] = b * Math.cos(phase * n);\n            }\n            else {\n                real[n] = 0;\n                imag[n] = 0;\n            }\n        }\n        return [real, imag];\n    }\n    /**\n     * Compute the inverse FFT for a given phase.\n     */\n    _inverseFFT(real, imag, phase) {\n        let sum = 0;\n        const len = real.length;\n        for (let i = 0; i < len; i++) {\n            sum += real[i] * Math.cos(i * phase) + imag[i] * Math.sin(i * phase);\n        }\n        return sum;\n    }\n    /**\n     * Returns the initial value of the oscillator when stopped.\n     * E.g. a \"sine\" oscillator with phase = 90 would return an initial value of -1.\n     */\n    getInitialValue() {\n        const [real, imag] = this._getRealImaginary(this._type, 0);\n        let maxValue = 0;\n        const twoPi = Math.PI * 2;\n        const testPositions = 32;\n        // check for peaks in 16 places\n        for (let i = 0; i < testPositions; i++) {\n            maxValue = Math.max(this._inverseFFT(real, imag, (i / testPositions) * twoPi), maxValue);\n        }\n        return clamp(-this._inverseFFT(real, imag, this._phase) / maxValue, -1, 1);\n    }\n    get partials() {\n        return this._partials.slice(0, this.partialCount);\n    }\n    set partials(partials) {\n        this._partials = partials;\n        this._partialCount = this._partials.length;\n        if (partials.length) {\n            this.type = \"custom\";\n        }\n    }\n    get phase() {\n        return this._phase * (180 / Math.PI);\n    }\n    set phase(phase) {\n        this._phase = phase * Math.PI / 180;\n        // reset the type\n        this.type = this._type;\n    }\n    asArray(length = 1024) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return generateWaveform(this, length);\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this._oscillator !== null) {\n            this._oscillator.dispose();\n        }\n        this._wave = undefined;\n        this.frequency.dispose();\n        this.detune.dispose();\n        return this;\n    }\n}\n/**\n * Cache the periodic waves to avoid having to redo computations\n */\nOscillator._periodicWaveCache = [];\n//# sourceMappingURL=Oscillator.js.map","import { __awaiter } from \"tslib\";\nimport { OfflineContext } from \"../../core/context/OfflineContext\";\n/**\n * Render a segment of the oscillator to an offline context and return the results as an array\n */\nexport function generateWaveform(instance, length) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const duration = length / instance.context.sampleRate;\n        const context = new OfflineContext(1, duration, instance.context.sampleRate);\n        const clone = new instance.constructor(Object.assign(instance.get(), {\n            // should do 2 iterations\n            frequency: 2 / duration,\n            // zero out the detune\n            detune: 0,\n            context\n        })).toDestination();\n        clone.start(0);\n        const buffer = yield context.render();\n        return buffer.getChannelData(0);\n    });\n}\n//# sourceMappingURL=OscillatorInterface.js.map","import { connect } from \"../../core/context/ToneAudioNode\";\nimport { Param } from \"../../core/context/Param\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { OneShotSource } from \"../OneShotSource\";\nimport { readOnly } from \"../../core/util/Interface\";\n/**\n * Wrapper around the native fire-and-forget OscillatorNode.\n * Adds the ability to reschedule the stop method.\n * ***[[Oscillator]] is better for most use-cases***\n * @category Source\n */\nexport class ToneOscillatorNode extends OneShotSource {\n    constructor() {\n        super(optionsFromArguments(ToneOscillatorNode.getDefaults(), arguments, [\"frequency\", \"type\"]));\n        this.name = \"ToneOscillatorNode\";\n        /**\n         * The oscillator\n         */\n        this._oscillator = this.context.createOscillator();\n        this._internalChannels = [this._oscillator];\n        const options = optionsFromArguments(ToneOscillatorNode.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        connect(this._oscillator, this._gainNode);\n        this.type = options.type;\n        this.frequency = new Param({\n            context: this.context,\n            param: this._oscillator.frequency,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Param({\n            context: this.context,\n            param: this._oscillator.detune,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, [\"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(OneShotSource.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            type: \"sine\",\n        });\n    }\n    /**\n     * Start the oscillator node at the given time\n     * @param  time When to start the oscillator\n     */\n    start(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"start\", computedTime);\n        this._startGain(computedTime);\n        this._oscillator.start(computedTime);\n        return this;\n    }\n    _stopSource(time) {\n        this._oscillator.stop(time);\n    }\n    /**\n     * Sets an arbitrary custom periodic waveform given a PeriodicWave.\n     * @param  periodicWave PeriodicWave should be created with context.createPeriodicWave\n     */\n    setPeriodicWave(periodicWave) {\n        this._oscillator.setPeriodicWave(periodicWave);\n        return this;\n    }\n    /**\n     * The oscillator type. Either 'sine', 'sawtooth', 'square', or 'triangle'\n     */\n    get type() {\n        return this._oscillator.type;\n    }\n    set type(type) {\n        this._oscillator.type = type;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        if (this.state === \"started\") {\n            this.stop();\n        }\n        this._oscillator.disconnect();\n        this.frequency.dispose();\n        this.detune.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ToneOscillatorNode.js.map","/**\n * The MIT License\n *\n * Copyright © 2022 Yuka authors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n* Class for representing a telegram, an envelope which contains a message\n* and certain metadata like sender and receiver. Part of the messaging system\n* for game entities.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Telegram {\n\n\t/**\n\t* Constructs a new telegram object.\n\t*\n\t* @param {GameEntity} sender - The sender.\n\t* @param {GameEntity} receiver - The receiver.\n\t* @param {String} message - The actual message.\n\t* @param {Number} delay - A time value in millisecond used to delay the message dispatching.\n\t* @param {Object} data - An object for custom data.\n\t*/\n\tconstructor( sender, receiver, message, delay, data ) {\n\n\t\t/**\n\t\t* The sender.\n\t\t* @type {GameEntity}\n\t\t*/\n\t\tthis.sender = sender;\n\n\t\t/**\n\t\t* The receiver.\n\t\t* @type {GameEntity}\n\t\t*/\n\t\tthis.receiver = receiver;\n\n\t\t/**\n\t\t* The actual message.\n\t\t* @type {String}\n\t\t*/\n\t\tthis.message = message;\n\n\t\t/**\n\t\t* A time value in millisecond used to delay the message dispatching.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.delay = delay;\n\n\t\t/**\n\t\t* An object for custom data.\n\t\t* @type {Object}\n\t\t*/\n\t\tthis.data = data;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tsender: this.sender.uuid,\n\t\t\treceiver: this.receiver.uuid,\n\t\t\tmessage: this.message,\n\t\t\tdelay: this.delay,\n\t\t\tdata: this.data\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Telegram} A reference to this telegram.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.sender = json.sender;\n\t\tthis.receiver = json.receiver;\n\t\tthis.message = json.message;\n\t\tthis.delay = json.delay;\n\t\tthis.data = json.data;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {Telegram} A reference to this telegram.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.sender = entities.get( this.sender );\n\t\tthis.receiver = entities.get( this.receiver );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* istanbul ignore next */\n\n/**\n* Class with a logger interface. Messages are only logged to console if\n* their log level is smaller or equal than the current log level.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Logger {\n\n\t/**\n\t* Sets the log level for the logger. Allow values are: *LOG*,\n\t* *WARN*, *ERROR*, *SILENT*. The default level is *WARN*. The constants\n\t* are accessible over the *Logger.LEVEL* namespace.\n\t*\n\t* @param {Number} level - The log level.\n\t*/\n\tstatic setLevel( level ) {\n\n\t\tcurrentLevel = level;\n\n\t}\n\n\t/**\n\t* Logs a message with the level *LOG*.\n\t*\n\t* @param {...Any} args - The arguments to log.\n\t*/\n\tstatic log( ...args ) {\n\n\t\tif ( currentLevel <= Logger.LEVEL.LOG ) console.log( ...args );\n\n\t}\n\n\t/**\n\t* Logs a message with the level *WARN*.\n\t*\n\t* @param {...Any} args - The arguments to log.\n\t*/\n\tstatic warn( ...args ) {\n\n\t\tif ( currentLevel <= Logger.LEVEL.WARN ) console.warn( ...args );\n\n\t}\n\n\t/**\n\t* Logs a message with the level *ERROR*.\n\t*\n\t* @param {...Any} args - The arguments to log.\n\t*/\n\tstatic error( ...args ) {\n\n\t\tif ( currentLevel <= Logger.LEVEL.ERROR ) console.error( ...args );\n\n\t}\n\n}\n\nLogger.LEVEL = Object.freeze( {\n\tLOG: 0,\n\tWARN: 1,\n\tERROR: 2,\n\tSILENT: 3\n} );\n\nlet currentLevel = Logger.LEVEL.WARN;\n\n/**\n* This class is the core of the messaging system for game entities and used by the\n* {@link EntityManager}. The implementation can directly dispatch messages or use a\n* delayed delivery for deferred communication. This can be useful if a game entity\n* wants to inform itself about a particular event in the future.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass MessageDispatcher {\n\n\t/**\n\t* Constructs a new message dispatcher.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* A list of delayed telegrams.\n\t\t* @type {Array<Telegram>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.delayedTelegrams = new Array();\n\n\t}\n\n\t/**\n\t* Delivers the message to the receiver.\n\t*\n\t* @param {Telegram} telegram - The telegram to deliver.\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tdeliver( telegram ) {\n\n\t\tconst receiver = telegram.receiver;\n\n\t\tif ( receiver.handleMessage( telegram ) === false ) {\n\n\t\t\tLogger.warn( 'YUKA.MessageDispatcher: Message not handled by receiver: %o', receiver );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Receives the raw telegram data and decides how to dispatch the telegram (with or without delay).\n\t*\n\t* @param {GameEntity} sender - The sender.\n\t* @param {GameEntity} receiver - The receiver.\n\t* @param {String} message - The actual message.\n\t* @param {Number} delay - A time value in millisecond used to delay the message dispatching.\n\t* @param {Object} data - An object for custom data.\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tdispatch( sender, receiver, message, delay, data ) {\n\n\t\tconst telegram = new Telegram( sender, receiver, message, delay, data );\n\n\t\tif ( delay <= 0 ) {\n\n\t\t\tthis.deliver( telegram );\n\n\t\t} else {\n\n\t\t\tthis.delayedTelegrams.push( telegram );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Used to process delayed messages.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tdispatchDelayedMessages( delta ) {\n\n\t\tlet i = this.delayedTelegrams.length;\n\n\t\twhile ( i -- ) {\n\n\t\t\tconst telegram = this.delayedTelegrams[ i ];\n\n\t\t\ttelegram.delay -= delta;\n\n\t\t\tif ( telegram.delay <= 0 ) {\n\n\t\t\t\tthis.deliver( telegram );\n\n\t\t\t\tthis.delayedTelegrams.pop();\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the internal state of this message dispatcher.\n\t*\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tclear() {\n\n\t\tthis.delayedTelegrams.length = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\ttype: this.constructor.name,\n\t\t\tdelayedTelegrams: new Array()\n\t\t};\n\n\t\t// delayed telegrams\n\n\t\tfor ( let i = 0, l = this.delayedTelegrams.length; i < l; i ++ ) {\n\n\t\t\tconst delayedTelegram = this.delayedTelegrams[ i ];\n\t\t\tdata.delayedTelegrams.push( delayedTelegram.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.clear();\n\n\t\tconst telegramsJSON = json.delayedTelegrams;\n\n\t\tfor ( let i = 0, l = telegramsJSON.length; i < l; i ++ ) {\n\n\t\t\tconst telegramJSON = telegramsJSON[ i ];\n\t\t\tconst telegram = new Telegram().fromJSON( telegramJSON );\n\n\t\t\tthis.delayedTelegrams.push( telegram );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {MessageDispatcher} A reference to this message dispatcher.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tconst delayedTelegrams = this.delayedTelegrams;\n\n\t\tfor ( let i = 0, l = delayedTelegrams.length; i < l; i ++ ) {\n\n\t\t\tconst delayedTelegram = delayedTelegrams[ i ];\n\t\t\tdelayedTelegram.resolveReferences( entities );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst lut = new Array();\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\n/**\n* Class with various math helpers.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass MathUtils {\n\n\t/**\n\t* Computes the signed area of a rectangle defined by three points.\n\t* This method can also be used to calculate the area of a triangle.\n\t*\n\t* @param {Vector3} a - The first point in 3D space.\n\t* @param {Vector3} b - The second point in 3D space.\n\t* @param {Vector3} c - The third point in 3D space.\n\t* @return {Number} The signed area.\n\t*/\n\tstatic area( a, b, c ) {\n\n\t\treturn ( ( c.x - a.x ) * ( b.z - a.z ) ) - ( ( b.x - a.x ) * ( c.z - a.z ) );\n\n\t}\n\n\t/**\n\t* Returns the indices of the maximum values of the given array.\n\t*\n\t* @param {Array<Number>} array - The input array.\n\t* @return {Array<Number>} Array of indices into the array.\n\t*/\n\tstatic argmax( array ) {\n\n\t\tconst max = Math.max( ...array );\n\t\tconst indices = [];\n\n\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\tif ( array[ i ] === max ) indices.push( i );\n\n\t\t}\n\n\t\treturn indices;\n\n\t}\n\n\t/**\n\t* Returns a random sample from a given array.\n\t*\n\t* @param {Array<Any>} array - The array that is used to generate the random sample.\n\t* @param {Array<Number>} probabilities - The probabilities associated with each entry. If not given, the sample assumes a uniform distribution over all entries.\n\t* @return {Any} The random sample value.\n\t*/\n\tstatic choice( array, probabilities = null ) {\n\n\t\tconst random = Math.random();\n\n\t\tif ( probabilities === null ) {\n\n\t\t\treturn array[ Math.floor( Math.random() * array.length ) ];\n\n\t\t} else {\n\n\t\t\tlet probability = 0;\n\n\t\t\tconst index = array.map( ( value, index ) => {\n\n\t\t\t\tprobability += probabilities[ index ];\n\n\t\t\t\treturn probability;\n\n\t\t\t} ).findIndex( ( probability ) => probability >= random );\n\n\t\t\treturn array[ index ];\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Ensures the given scalar value is within a given min/max range.\n\t*\n\t* @param {Number} value - The value to clamp.\n\t* @param {Number} min - The min value.\n\t* @param {Number} max - The max value.\n\t* @return {Number} The clamped value.\n\t*/\n\tstatic clamp( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t}\n\n\t/**\n\t* Computes a RFC4122 Version 4 complied Universally Unique Identifier (UUID).\n\t*\n\t* @return {String} The UUID.\n\t*/\n\tstatic generateUUID() {\n\n\t\t// https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript/21963136#21963136\n\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\treturn uuid.toUpperCase();\n\n\t}\n\n\t/**\n\t* Computes a random float value within a given min/max range.\n\t*\n\t* @param {Number} min - The min value.\n\t* @param {Number} max - The max value.\n\t* @return {Number} The random float value.\n\t*/\n\tstatic randFloat( min, max ) {\n\n\t\treturn min + Math.random() * ( max - min );\n\n\t}\n\n\t/**\n\t* Computes a random integer value within a given min/max range.\n\t*\n\t* @param {Number} min - The min value.\n\t* @param {Number} max - The max value.\n\t* @return {Number} The random integer value.\n\t*/\n\tstatic randInt( min, max ) {\n\n\t\treturn min + Math.floor( Math.random() * ( max - min + 1 ) );\n\n\t}\n\n}\n\n/**\n* Class representing a 3D vector.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Vector3 {\n\n\t/**\n\t* Constructs a new 3D vector with the given values.\n\t*\n\t* @param {Number} x - The x component.\n\t* @param {Number} y - The y component.\n\t* @param {Number} z - The z component.\n\t*/\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\t/**\n\t\t* The x component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.x = x;\n\n\t\t/**\n\t\t* The y component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.y = y;\n\n\t\t/**\n\t\t* The z component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.z = z;\n\n\t}\n\n\t/**\n\t* Sets the given values to this 3D vector.\n\t*\n\t* @param {Number} x - The x component.\n\t* @param {Number} y - The y component.\n\t* @param {Number} z - The z component.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tset( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given 3D vector to this 3D vector.\n\t*\n\t* @param {Vector3} v - The vector to copy.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new 3D vector and copies all values from this 3D vector.\n\t*\n\t* @return {Vector3} A new 3D vector.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Adds the given 3D vector to this 3D vector.\n\t*\n\t* @param {Vector3} v - The vector to add.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds the given scalar to this 3D vector.\n\t*\n\t* @param {Number} s - The scalar to add.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds two given 3D vectors and stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} a - The first vector of the operation.\n\t* @param {Vector3} b - The second vector of the operation.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Subtracts the given 3D vector from this 3D vector.\n\t*\n\t* @param {Vector3} v - The vector to substract.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Subtracts the given scalar from this 3D vector.\n\t*\n\t* @param {Number} s - The scalar to substract.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Subtracts two given 3D vectors and stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} a - The first vector of the operation.\n\t* @param {Vector3} b - The second vector of the operation.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies the given 3D vector with this 3D vector.\n\t*\n\t* @param {Vector3} v - The vector to multiply.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies the given scalar with this 3D vector.\n\t*\n\t* @param {Number} s - The scalar to multiply.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tmultiplyScalar( s ) {\n\n\t\tthis.x *= s;\n\t\tthis.y *= s;\n\t\tthis.z *= s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies two given 3D vectors and stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} a - The first vector of the operation.\n\t* @param {Vector3} b - The second vector of the operation.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Divides the given 3D vector through this 3D vector.\n\t*\n\t* @param {Vector3} v - The vector to divide.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Divides the given scalar through this 3D vector.\n\t*\n\t* @param {Number} s - The scalar to multiply.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tdivideScalar( s ) {\n\n\t\tthis.x /= s;\n\t\tthis.y /= s;\n\t\tthis.z /= s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Divides two given 3D vectors and stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} a - The first vector of the operation.\n\t* @param {Vector3} b - The second vector of the operation.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tdivideVectors( a, b ) {\n\n\t\tthis.x = a.x / b.x;\n\t\tthis.y = a.y / b.y;\n\t\tthis.z = a.z / b.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Reflects this vector along the given normal.\n\t*\n\t* @param {Vector3} normal - The normal vector.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\treflect( normal ) {\n\n\t\t// solve r = v - 2( v * n ) * n\n\n\t\treturn this.sub( v1$4.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\t/**\n\t* Ensures this 3D vector lies in the given min/max range.\n\t*\n\t* @param {Vector3} min - The min range.\n\t* @param {Vector3} max - The max range.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tclamp( min, max ) {\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Compares each vector component of this 3D vector and the\n\t* given one and stores the minimum value in this instance.\n\t*\n\t* @param {Vector3} v - The 3D vector to check.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Compares each vector component of this 3D vector and the\n\t* given one and stores the maximum value in this instance.\n\t*\n\t* @param {Vector3} v - The 3D vector to check.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the dot product of this and the given 3D vector.\n\t*\n\t* @param {Vector3} v - The given 3D vector.\n\t* @return {Number} The results of the dor product.\n\t*/\n\tdot( v ) {\n\n\t\treturn ( this.x * v.x ) + ( this.y * v.y ) + ( this.z * v.z );\n\n\t}\n\n\t/**\n\t* Computes the cross product of this and the given 3D vector and\n\t* stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} v - A 3D vector.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tcross( v ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\n\t\tthis.x = ( y * v.z ) - ( z * v.y );\n\t\tthis.y = ( z * v.x ) - ( x * v.z );\n\t\tthis.z = ( x * v.y ) - ( y * v.x );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the cross product of the two given 3D vectors and\n\t* stores the result in this 3D vector.\n\t*\n\t* @param {Vector3} a - The first 3D vector.\n\t* @param {Vector3} b - The second 3D vector.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ( ay * bz ) - ( az * by );\n\t\tthis.y = ( az * bx ) - ( ax * bz );\n\t\tthis.z = ( ax * by ) - ( ay * bx );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the angle between this and the given vector.\n\t*\n\t* @param {Vector3} v - A 3D vector.\n\t* @return {Number} The angle in radians.\n\t*/\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.squaredLength() * v.squaredLength() );\n\n\t\tif ( denominator === 0 ) return 0;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\t/**\n\t* Computes the length of this 3D vector.\n\t*\n\t* @return {Number} The length of this 3D vector.\n\t*/\n\tlength() {\n\n\t\treturn Math.sqrt( this.squaredLength() );\n\n\t}\n\n\t/**\n\t* Computes the squared length of this 3D vector.\n\t* Calling this method is faster than calling {@link Vector3#length},\n\t* since it avoids computing a square root.\n\t*\n\t* @return {Number} The squared length of this 3D vector.\n\t*/\n\tsquaredLength() {\n\n\t\treturn this.dot( this );\n\n\t}\n\n\t/**\n\t* Computes the manhattan length of this 3D vector.\n\t*\n\t* @return {Number} The manhattan length of this 3D vector.\n\t*/\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\t/**\n\t* Computes the euclidean distance between this 3D vector and the given one.\n\t*\n\t* @param {Vector3} v - A 3D vector.\n\t* @return {Number} The euclidean distance between two 3D vectors.\n\t*/\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.squaredDistanceTo( v ) );\n\n\t}\n\n\t/**\n\t* Computes the squared euclidean distance between this 3D vector and the given one.\n\t* Calling this method is faster than calling {@link Vector3#distanceTo},\n\t* since it avoids computing a square root.\n\t*\n\t* @param {Vector3} v - A 3D vector.\n\t* @return {Number} The squared euclidean distance between two 3D vectors.\n\t*/\n\tsquaredDistanceTo( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn ( dx * dx ) + ( dy * dy ) + ( dz * dz );\n\n\t}\n\n\t/**\n\t* Computes the manhattan distance between this 3D vector and the given one.\n\t*\n\t* @param {Vector3} v - A 3D vector.\n\t* @return {Number} The manhattan distance between two 3D vectors.\n\t*/\n\tmanhattanDistanceTo( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn Math.abs( dx ) + Math.abs( dy ) + Math.abs( dz );\n\n\t}\n\n\t/**\n\t* Normalizes this 3D vector.\n\t*\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\t/**\n\t* Multiplies the given 4x4 matrix with this 3D vector\n\t*\n\t* @param {Matrix4} m - A 4x4 matrix.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( ( e[ 3 ] * x ) + ( e[ 7 ] * y ) + ( e[ 11 ] * z ) + e[ 15 ] );\n\n\t\tthis.x = ( ( e[ 0 ] * x ) + ( e[ 4 ] * y ) + ( e[ 8 ] * z ) + e[ 12 ] ) * w;\n\t\tthis.y = ( ( e[ 1 ] * x ) + ( e[ 5 ] * y ) + ( e[ 9 ] * z ) + e[ 13 ] ) * w;\n\t\tthis.z = ( ( e[ 2 ] * x ) + ( e[ 6 ] * y ) + ( e[ 10 ] * z ) + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies the given quaternion with this 3D vector.\n\t*\n\t* @param {Quaternion} q - A quaternion.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tapplyRotation( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Extracts the position portion of the given 4x4 matrix and stores it in this 3D vector.\n\t*\n\t* @param {Matrix4} m - A 4x4 matrix.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\textractPositionFromMatrix( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transform this direction vector by the given 4x4 matrix.\n\t*\n\t* @param {Matrix4} m - A 4x4 matrix.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\ttransformDirection( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\t/**\n\t* Sets the components of this 3D vector from a column of a 3x3 matrix.\n\t*\n\t* @param {Matrix3} m - A 3x3 matrix.\n\t* @param {Number} i - The index of the column.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tfromMatrix3Column( m, i ) {\n\n\t\treturn this.fromArray( m.elements, i * 3 );\n\n\t}\n\n\t/**\n\t* Sets the components of this 3D vector from a column of a 4x4 matrix.\n\t*\n\t* @param {Matrix3} m - A 4x4 matrix.\n\t* @param {Number} i - The index of the column.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tfromMatrix4Column( m, i ) {\n\n\t\treturn this.fromArray( m.elements, i * 4 );\n\n\t}\n\n\t/**\n\t* Sets the components of this 3D vector from a spherical coordinate.\n\t*\n\t* @param {Number} radius - The radius.\n\t* @param {Number} phi - The polar or inclination angle in radians. Should be in the range of (−π/2, +π/2].\n\t* @param {Number} theta - The azimuthal angle in radians. Should be in the range of (−π, +π].\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tfromSpherical( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the components of this 3D vector from an array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Vector3} A reference to this vector.\n\t*/\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset + 0 ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values of this 3D vector to the given array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Array<Number>} The array with the 3D vector components.\n\t*/\n\ttoArray( array, offset = 0 ) {\n\n\t\tarray[ offset + 0 ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\t/**\n\t* Returns true if the given 3D vector is deep equal with this 3D vector.\n\t*\n\t* @param {Vector3} v - The 3D vector to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n}\n\nconst v1$4 = new Vector3();\n\nconst WorldUp = new Vector3( 0, 1, 0 );\n\nconst localRight = new Vector3();\nconst worldRight = new Vector3();\nconst perpWorldUp = new Vector3();\nconst temp = new Vector3();\n\nconst colVal = [ 2, 2, 1 ];\nconst rowVal = [ 1, 0, 0 ];\n\n/**\n* Class representing a 3x3 matrix. The elements of the matrix\n* are stored in column-major order.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Matrix3 {\n\n\t/**\n\t* Constructs a new 3x3 identity matrix.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The elements of the matrix in column-major order.\n\t\t* @type {Array<Number>}\n\t\t*/\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t}\n\n\t/**\n\t* Sets the given values to this matrix. The arguments are in row-major order.\n\t*\n\t* @param {Number} n11 - An element of the matrix.\n\t* @param {Number} n12 - An element of the matrix.\n\t* @param {Number} n13 - An element of the matrix.\n\t* @param {Number} n21 - An element of the matrix.\n\t* @param {Number} n22 - An element of the matrix.\n\t* @param {Number} n23 - An element of the matrix.\n\t* @param {Number} n31 - An element of the matrix.\n\t* @param {Number} n32 - An element of the matrix.\n\t* @param {Number} n33 - An element of the matrix.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst e = this.elements;\n\n\t\te[ 0 ] = n11; e[ 3 ] = n12; e[ 6 ] = n13;\n\t\te[ 1 ] = n21; e[ 4 ] = n22; e[ 7 ] = n23;\n\t\te[ 2 ] = n31; e[ 5 ] = n32; e[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given matrix to this matrix.\n\t*\n\t* @param {Matrix3} m - The matrix to copy.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tcopy( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\te[ 0 ] = me[ 0 ]; e[ 1 ] = me[ 1 ]; e[ 2 ] = me[ 2 ];\n\t\te[ 3 ] = me[ 3 ]; e[ 4 ] = me[ 4 ]; e[ 5 ] = me[ 5 ];\n\t\te[ 6 ] = me[ 6 ]; e[ 7 ] = me[ 7 ]; e[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new matrix and copies all values from this matrix.\n\t*\n\t* @return {Matrix3} A new matrix.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Transforms this matrix to an identity matrix.\n\t*\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies this matrix with the given matrix.\n\t*\n\t* @param {Matrix3} m - The matrix to multiply.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\t/**\n\t* Multiplies this matrix with the given matrix.\n\t* So the order of the multiplication is switched compared to {@link Matrix3#multiply}.\n\t*\n\t* @param {Matrix3} m - The matrix to multiply.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\t/**\n\t* Multiplies two given matrices and stores the result in this matrix.\n\t*\n\t* @param {Matrix3} a - The first matrix of the operation.\n\t* @param {Matrix3} b - The second matrix of the operation.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst e = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\te[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\te[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\te[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\te[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\te[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\te[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\te[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\te[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\te[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies the given scalar with this matrix.\n\t*\n\t* @param {Number} s - The scalar to multiply.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tmultiplyScalar( s ) {\n\n\t\tconst e = this.elements;\n\n\t\te[ 0 ] *= s; e[ 3 ] *= s; e[ 6 ] *= s;\n\t\te[ 1 ] *= s; e[ 4 ] *= s; e[ 7 ] *= s;\n\t\te[ 2 ] *= s; e[ 5 ] *= s; e[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Extracts the basis vectors and stores them to the given vectors.\n\t*\n\t* @param {Vector3} xAxis - The first result vector for the x-axis.\n\t* @param {Vector3} yAxis - The second result vector for the y-axis.\n\t* @param {Vector3} zAxis - The third result vector for the z-axis.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.fromMatrix3Column( this, 0 );\n\t\tyAxis.fromMatrix3Column( this, 1 );\n\t\tzAxis.fromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Makes a basis from the given vectors.\n\t*\n\t* @param {Vector3} xAxis - The first basis vector for the x-axis.\n\t* @param {Vector3} yAxis - The second basis vector for the y-axis.\n\t* @param {Vector3} zAxis - The third basis vector for the z-axis.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x,\n\t\t\txAxis.y, yAxis.y, zAxis.y,\n\t\t\txAxis.z, yAxis.z, zAxis.z\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a rotation matrix that orients an object to face towards a specified target direction.\n\t*\n\t* @param {Vector3} localForward - Specifies the forward direction in the local space of the object.\n\t* @param {Vector3} targetDirection - Specifies the desired world space direction the object should look at.\n\t* @param {Vector3} localUp - Specifies the up direction in the local space of the object.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tlookAt( localForward, targetDirection, localUp ) {\n\n\t\tlocalRight.crossVectors( localUp, localForward ).normalize();\n\n\t\t// orthonormal linear basis A { localRight, localUp, localForward } for the object local space\n\n\t\tworldRight.crossVectors( WorldUp, targetDirection ).normalize();\n\n\t\tif ( worldRight.squaredLength() === 0 ) {\n\n\t\t\t// handle case when it's not possible to build a basis from targetDirection and worldUp\n\t\t\t// slightly shift targetDirection in order to avoid collinearity\n\n\t\t\ttemp.copy( targetDirection ).addScalar( Number.EPSILON );\n\t\t\tworldRight.crossVectors( WorldUp, temp ).normalize();\n\n\t\t}\n\n\t\tperpWorldUp.crossVectors( targetDirection, worldRight ).normalize();\n\n\t\t// orthonormal linear basis B { worldRight, perpWorldUp, targetDirection } for the desired target orientation\n\n\t\tm1.makeBasis( worldRight, perpWorldUp, targetDirection );\n\t\tm2.makeBasis( localRight, localUp, localForward );\n\n\t\t// construct a matrix that maps basis A to B\n\n\t\tthis.multiplyMatrices( m1, m2.transpose() );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transposes this matrix.\n\t*\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\ttranspose() {\n\n\t\tconst e = this.elements;\n\t\tlet t;\n\n\t\tt = e[ 1 ]; e[ 1 ] = e[ 3 ]; e[ 3 ] = t;\n\t\tt = e[ 2 ]; e[ 2 ] = e[ 6 ]; e[ 6 ] = t;\n\t\tt = e[ 5 ]; e[ 5 ] = e[ 7 ]; e[ 7 ] = t;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the element index according to the given column and row.\n\t*\n\t* @param {Number} column - Index of the column.\n\t* @param {Number} row - Index of the row.\n\t* @return {Number} The index of the element at the provided row and column.\n\t*/\n\tgetElementIndex( column, row ) {\n\n\t\treturn column * 3 + row;\n\n\t}\n\n\t/**\n\t* Computes the frobenius norm. It's the squareroot of the sum of all\n\t* squared matrix elements.\n\t*\n\t* @return {Number} The frobenius norm.\n\t*/\n\tfrobeniusNorm() {\n\n\t\tconst e = this.elements;\n\t\tlet norm = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tnorm += e[ i ] * e[ i ];\n\n\t\t}\n\n\t\treturn Math.sqrt( norm );\n\n\t}\n\n\t/**\n\t* Computes the  \"off-diagonal\" frobenius norm. Assumes the matrix is symmetric.\n\t*\n\t* @return {Number} The \"off-diagonal\" frobenius norm.\n\t*/\n\toffDiagonalFrobeniusNorm() {\n\n\t\tconst e = this.elements;\n\t\tlet norm = 0;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst t = e[ this.getElementIndex( colVal[ i ], rowVal[ i ] ) ];\n\t\t\tnorm += 2 * t * t; // multiply the result by two since the matrix is symetric\n\n\t\t}\n\n\t\treturn Math.sqrt( norm );\n\n\t}\n\n\t/**\n\t* Computes the eigenvectors and eigenvalues.\n\t*\n\t* Reference: https://github.com/AnalyticalGraphicsInc/cesium/blob/411a1afbd36b72df64d7362de6aa934730447234/Source/Core/Matrix3.js#L1141 (Apache License 2.0)\n\t*\n\t* The values along the diagonal of the diagonal matrix are the eigenvalues.\n\t* The columns of the unitary matrix are the corresponding eigenvectors.\n\t*\n\t* @param {Object} result - An object with unitary and diagonal properties which are matrices onto which to store the result.\n\t* @return {Object} An object with unitary and diagonal properties which are matrices onto which to store the result.\n\t*/\n\teigenDecomposition( result ) {\n\n\t\tlet count = 0;\n\t\tlet sweep = 0;\n\n\t\tconst maxSweeps = 10;\n\n\t\tresult.unitary.identity();\n\t\tresult.diagonal.copy( this );\n\n\t\tconst unitaryMatrix = result.unitary;\n\t\tconst diagonalMatrix = result.diagonal;\n\n\t\tconst epsilon = Number.EPSILON * diagonalMatrix.frobeniusNorm();\n\n\t\twhile ( sweep < maxSweeps && diagonalMatrix.offDiagonalFrobeniusNorm() > epsilon ) {\n\n\t\t\tdiagonalMatrix.shurDecomposition( m1 );\n\t\t\tm2.copy( m1 ).transpose();\n\t\t\tdiagonalMatrix.multiply( m1 );\n\t\t\tdiagonalMatrix.premultiply( m2 );\n\t\t\tunitaryMatrix.multiply( m1 );\n\n\t\t\tif ( ++ count > 2 ) {\n\n\t\t\t\tsweep ++;\n\t\t\t\tcount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Finds the largest off-diagonal term and then creates a matrix\n\t* which can be used to help reduce it.\n\t*\n\t* @param {Matrix3} result - The result matrix.\n\t* @return {Matrix3} The result matrix.\n\t*/\n\tshurDecomposition( result ) {\n\n\t\tlet maxDiagonal = 0;\n\t\tlet rotAxis = 1;\n\n\t\t// find pivot (rotAxis) based on largest off-diagonal term\n\n\t\tconst e = this.elements;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst t = Math.abs( e[ this.getElementIndex( colVal[ i ], rowVal[ i ] ) ] );\n\n\t\t\tif ( t > maxDiagonal ) {\n\n\t\t\t\tmaxDiagonal = t;\n\t\t\t\trotAxis = i;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet c = 1;\n\t\tlet s = 0;\n\n\t\tconst p = rowVal[ rotAxis ];\n\t\tconst q = colVal[ rotAxis ];\n\n\t\tif ( Math.abs( e[ this.getElementIndex( q, p ) ] ) > Number.EPSILON ) {\n\n\t\t\tconst qq = e[ this.getElementIndex( q, q ) ];\n\t\t\tconst pp = e[ this.getElementIndex( p, p ) ];\n\t\t\tconst qp = e[ this.getElementIndex( q, p ) ];\n\n\t\t\tconst tau = ( qq - pp ) / 2 / qp;\n\n\t\t\tlet t;\n\n\t\t\tif ( tau < 0 ) {\n\n\t\t\t\tt = - 1 / ( - tau + Math.sqrt( 1 + tau * tau ) );\n\n\t\t\t} else {\n\n\t\t\t\tt = 1 / ( tau + Math.sqrt( 1.0 + tau * tau ) );\n\n\t\t\t}\n\n\t\t\tc = 1.0 / Math.sqrt( 1.0 + t * t );\n\t\t\ts = t * c;\n\n\t\t}\n\n\t\tresult.identity();\n\n\t\tresult.elements[ this.getElementIndex( p, p ) ] = c;\n\t\tresult.elements[ this.getElementIndex( q, q ) ] = c;\n\t\tresult.elements[ this.getElementIndex( q, p ) ] = s;\n\t\tresult.elements[ this.getElementIndex( p, q ) ] = - s;\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Creates a rotation matrix from the given quaternion.\n\t*\n\t* @param {Quaternion} q - A quaternion representing a rotation.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tfromQuaternion( q ) {\n\n\t\tconst e = this.elements;\n\n\t\tconst x = q.x, y = q.y, z = q.z, w = q.w;\n\t\tconst x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\te[ 0 ] = 1 - ( yy + zz );\n\t\te[ 3 ] = xy - wz;\n\t\te[ 6 ] = xz + wy;\n\n\t\te[ 1 ] = xy + wz;\n\t\te[ 4 ] = 1 - ( xx + zz );\n\t\te[ 7 ] = yz - wx;\n\n\t\te[ 2 ] = xz - wy;\n\t\te[ 5 ] = yz + wx;\n\t\te[ 8 ] = 1 - ( xx + yy );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the elements of this matrix by extracting the upper-left 3x3 portion\n\t* from a 4x4 matrix.\n\t*\n\t* @param {Matrix4} m - A 4x4 matrix.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tfromMatrix4( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\te[ 0 ] = me[ 0 ]; e[ 1 ] = me[ 1 ]; e[ 2 ] = me[ 2 ];\n\t\te[ 3 ] = me[ 4 ]; e[ 4 ] = me[ 5 ]; e[ 5 ] = me[ 6 ];\n\t\te[ 6 ] = me[ 8 ]; e[ 7 ] = me[ 9 ]; e[ 8 ] = me[ 10 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the elements of this matrix from an array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Matrix3} A reference to this matrix.\n\t*/\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst e = this.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\te[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all elements of this matrix to the given array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Array<Number>} The array with the elements of the matrix.\n\t*/\n\ttoArray( array, offset = 0 ) {\n\n\t\tconst e = this.elements;\n\n\t\tarray[ offset + 0 ] = e[ 0 ];\n\t\tarray[ offset + 1 ] = e[ 1 ];\n\t\tarray[ offset + 2 ] = e[ 2 ];\n\n\t\tarray[ offset + 3 ] = e[ 3 ];\n\t\tarray[ offset + 4 ] = e[ 4 ];\n\t\tarray[ offset + 5 ] = e[ 5 ];\n\n\t\tarray[ offset + 6 ] = e[ 6 ];\n\t\tarray[ offset + 7 ] = e[ 7 ];\n\t\tarray[ offset + 8 ] = e[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\t/**\n\t* Returns true if the given matrix is deep equal with this matrix.\n\t*\n\t* @param {Matrix3} m - The matrix to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( e[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n}\n\nconst m1 = new Matrix3();\nconst m2 = new Matrix3();\n\nconst matrix$1 = new Matrix3();\nconst vector$1 = new Vector3();\n\n/**\n* Class representing a quaternion.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Quaternion {\n\n\t/**\n\t* Constructs a new quaternion with the given values.\n\t*\n\t* @param {Number} x - The x component.\n\t* @param {Number} y - The y component.\n\t* @param {Number} z - The z component.\n\t* @param {Number} w - The w component.\n\t*/\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\t/**\n\t\t* The x component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.x = x;\n\n\t\t/**\n\t\t* The y component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.y = y;\n\n\t\t/**\n\t\t* The z component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.z = z;\n\n\t\t/**\n\t\t* The w component.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.w = w;\n\n\t}\n\n\t/**\n\t* Sets the given values to this quaternion.\n\t*\n\t* @param {Number} x - The x component.\n\t* @param {Number} y - The y component.\n\t* @param {Number} z - The z component.\n\t* @param {Number} w - The w component.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given quaternion to this quaternion.\n\t*\n\t* @param {Quaternion} q - The quaternion to copy.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tcopy( q ) {\n\n\t\tthis.x = q.x;\n\t\tthis.y = q.y;\n\t\tthis.z = q.z;\n\t\tthis.w = q.w;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new quaternion and copies all values from this quaternion.\n\t*\n\t* @return {Quaternion} A new quaternion.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Computes the inverse of this quaternion.\n\t*\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tinverse() {\n\n\t\treturn this.conjugate().normalize();\n\n\t}\n\n\t/**\n\t* Computes the conjugate of this quaternion.\n\t*\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tconjugate() {\n\n\t\tthis.x *= - 1;\n\t\tthis.y *= - 1;\n\t\tthis.z *= - 1;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the dot product of this and the given quaternion.\n\t*\n\t* @param {Quaternion} q - The given quaternion.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tdot( q ) {\n\n\t\treturn ( this.x * q.x ) + ( this.y * q.y ) + ( this.z * q.z ) + ( this.w * q.w );\n\n\t}\n\n\t/**\n\t* Computes the length of this quaternion.\n\t*\n\t* @return {Number} The length of this quaternion.\n\t*/\n\tlength() {\n\n\t\treturn Math.sqrt( this.squaredLength() );\n\n\t}\n\n\t/**\n\t* Computes the squared length of this quaternion.\n\t*\n\t* @return {Number} The squared length of this quaternion.\n\t*/\n\tsquaredLength() {\n\n\t\treturn this.dot( this );\n\n\t}\n\n\t/**\n\t* Normalizes this quaternion.\n\t*\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\t\t\tthis.w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis.x = this.x * l;\n\t\t\tthis.y = this.y * l;\n\t\t\tthis.z = this.z * l;\n\t\t\tthis.w = this.w * l;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies this quaternion with the given quaternion.\n\t*\n\t* @param {Quaternion} q - The quaternion to multiply.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tmultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\t/**\n\t* Multiplies the given quaternion with this quaternion.\n\t* So the order of the multiplication is switched compared to {@link Quaternion#multiply}.\n\t*\n\t* @param {Quaternion} q - The quaternion to multiply.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\t/**\n\t* Multiplies two given quaternions and stores the result in this quaternion.\n\t*\n\t* @param {Quaternion} a - The first quaternion of the operation.\n\t* @param {Quaternion} b - The second quaternion of the operation.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tmultiplyQuaternions( a, b ) {\n\n\t\tconst qax = a.x, qay = a.y, qaz = a.z, qaw = a.w;\n\t\tconst qbx = b.x, qby = b.y, qbz = b.z, qbw = b.w;\n\n\t\tthis.x = ( qax * qbw ) + ( qaw * qbx ) + ( qay * qbz ) - ( qaz * qby );\n\t\tthis.y = ( qay * qbw ) + ( qaw * qby ) + ( qaz * qbx ) - ( qax * qbz );\n\t\tthis.z = ( qaz * qbw ) + ( qaw * qbz ) + ( qax * qby ) - ( qay * qbx );\n\t\tthis.w = ( qaw * qbw ) - ( qax * qbx ) - ( qay * qby ) - ( qaz * qbz );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the shortest angle between two rotation defined by this quaternion and the given one.\n\t*\n\t* @param {Quaternion} q - The given quaternion.\n\t* @return {Number} The angle in radians.\n\t*/\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\t/**\n\t* Transforms this rotation defined by this quaternion towards the target rotation\n\t* defined by the given quaternion by the given angular step. The rotation will not overshoot.\n\t*\n\t* @param {Quaternion} q - The target rotation.\n\t* @param {Number} step - The maximum step in radians.\n\t* @param {Number} tolerance - A tolerance value in radians to tweak the result\n\t* when both rotations are considered to be equal.\n\t* @return {Boolean} Whether the given quaternion already represents the target rotation.\n\t*/\n\trotateTo( q, step, tolerance = 0.0001 ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle < tolerance ) return true;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Creates a quaternion that orients an object to face towards a specified target direction.\n\t*\n\t* @param {Vector3} localForward - Specifies the forward direction in the local space of the object.\n\t* @param {Vector3} targetDirection - Specifies the desired world space direction the object should look at.\n\t* @param {Vector3} localUp - Specifies the up direction in the local space of the object.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tlookAt( localForward, targetDirection, localUp ) {\n\n\t\tmatrix$1.lookAt( localForward, targetDirection, localUp );\n\t\tthis.fromMatrix3( matrix$1 );\n\n\t}\n\n\t/**\n\t* Spherically interpolates between this quaternion and the given quaternion by t.\n\t* The parameter t is clamped to the range [0, 1].\n\t*\n\t* @param {Quaternion} q - The target rotation.\n\t* @param {Number} t - The interpolation parameter.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tslerp( q, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( q );\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\n\t\tlet cosHalfTheta = w * q.w + x * q.x + y * q.y + z * q.z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis.w = - q.w;\n\t\t\tthis.x = - q.x;\n\t\t\tthis.y = - q.y;\n\t\t\tthis.z = - q.z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( q );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis.w = w;\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n\t\t\tthis.w = 0.5 * ( w + this.w );\n\t\t\tthis.x = 0.5 * ( x + this.x );\n\t\t\tthis.y = 0.5 * ( y + this.y );\n\t\t\tthis.z = 0.5 * ( z + this.z );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta;\n\t\tconst ratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis.w = ( w * ratioA ) + ( this.w * ratioB );\n\t\tthis.x = ( x * ratioA ) + ( this.x * ratioB );\n\t\tthis.y = ( y * ratioA ) + ( this.y * ratioB );\n\t\tthis.z = ( z * ratioA ) + ( this.z * ratioB );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Extracts the rotation of the given 4x4 matrix and stores it in this quaternion.\n\t*\n\t* @param {Matrix4} m - A 4x4 matrix.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\textractRotationFromMatrix( m ) {\n\n\t\tconst e = matrix$1.elements;\n\t\tconst me = m.elements;\n\n\t\t// remove scaling from the 3x3 portion\n\n\t\tconst sx = 1 / vector$1.fromMatrix4Column( m, 0 ).length();\n\t\tconst sy = 1 / vector$1.fromMatrix4Column( m, 1 ).length();\n\t\tconst sz = 1 / vector$1.fromMatrix4Column( m, 2 ).length();\n\n\t\te[ 0 ] = me[ 0 ] * sx;\n\t\te[ 1 ] = me[ 1 ] * sx;\n\t\te[ 2 ] = me[ 2 ] * sx;\n\n\t\te[ 3 ] = me[ 4 ] * sy;\n\t\te[ 4 ] = me[ 5 ] * sy;\n\t\te[ 5 ] = me[ 6 ] * sy;\n\n\t\te[ 6 ] = me[ 8 ] * sz;\n\t\te[ 7 ] = me[ 9 ] * sz;\n\t\te[ 8 ] = me[ 10 ] * sz;\n\n\t\tthis.fromMatrix3( matrix$1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the components of this quaternion from the given euler angle (YXZ order).\n\t*\n\t* @param {Number} x - Rotation around x axis in radians.\n\t* @param {Number} y - Rotation around y axis in radians.\n\t* @param {Number} z - Rotation around z axis in radians.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tfromEuler( x, y, z ) {\n\n\t\t// from 3D Math Primer for Graphics and Game Development\n\t\t// 8.7.5 Converting Euler Angles to a Quaternion\n\n\t\t// assuming YXZ (head/pitch/bank or yaw/pitch/roll) order\n\n\t\tconst c1 = Math.cos( y / 2 );\n\t\tconst c2 = Math.cos( x / 2 );\n\t\tconst c3 = Math.cos( z / 2 );\n\n\t\tconst s1 = Math.sin( y / 2 );\n\t\tconst s2 = Math.sin( x / 2 );\n\t\tconst s3 = Math.sin( z / 2 );\n\n\t\tthis.w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\tthis.x = c1 * s2 * c3 + s1 * c2 * s3;\n\t\tthis.y = s1 * c2 * c3 - c1 * s2 * s3;\n\t\tthis.z = c1 * c2 * s3 - s1 * s2 * c3;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns an euler angel (YXZ order) representation of this quaternion.\n\t*\n\t* @param {Object} euler - The resulting euler angles.\n\t* @return {Object} The resulting euler angles.\n\t*/\n\ttoEuler( euler ) {\n\n\t\t// from 3D Math Primer for Graphics and Game Development\n\t\t// 8.7.6 Converting a Quaternion to Euler Angles\n\n\t\t// extract pitch\n\n\t\tconst sp = - 2 * ( this.y * this.z - this.x * this.w );\n\n\t\t// check for gimbal lock\n\n\t\tif ( Math.abs( sp ) > 0.9999 ) {\n\n\t\t\t// looking straight up or down\n\n\t\t\teuler.x = Math.PI * 0.5 * sp;\n\t\t\teuler.y = Math.atan2( this.x * this.z + this.w * this.y, 0.5 - this.x * this.x - this.y * this.y );\n\t\t\teuler.z = 0;\n\n\t\t} else { //todo test\n\n\t\t\teuler.x = Math.asin( sp );\n\t\t\teuler.y = Math.atan2( this.x * this.z + this.w * this.y, 0.5 - this.x * this.x - this.y * this.y );\n\t\t\teuler.z = Math.atan2( this.x * this.y + this.w * this.z, 0.5 - this.x * this.x - this.z * this.z );\n\n\t\t}\n\n\t\treturn euler;\n\n\t}\n\n\t/**\n\t* Sets the components of this quaternion from the given 3x3 rotation matrix.\n\t*\n\t* @param {Matrix3} m - The rotation matrix.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tfromMatrix3( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tconst m11 = e[ 0 ], m12 = e[ 3 ], m13 = e[ 6 ];\n\t\tconst m21 = e[ 1 ], m22 = e[ 4 ], m23 = e[ 7 ];\n\t\tconst m31 = e[ 2 ], m32 = e[ 5 ], m33 = e[ 8 ];\n\n\t\tconst trace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tlet s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis.w = 0.25 / s;\n\t\t\tthis.x = ( m32 - m23 ) * s;\n\t\t\tthis.y = ( m13 - m31 ) * s;\n\t\t\tthis.z = ( m21 - m12 ) * s;\n\n\t\t} else if ( ( m11 > m22 ) && ( m11 > m33 ) ) {\n\n\t\t\tlet s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis.w = ( m32 - m23 ) / s;\n\t\t\tthis.x = 0.25 * s;\n\t\t\tthis.y = ( m12 + m21 ) / s;\n\t\t\tthis.z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tlet s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis.w = ( m13 - m31 ) / s;\n\t\t\tthis.x = ( m12 + m21 ) / s;\n\t\t\tthis.y = 0.25 * s;\n\t\t\tthis.z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tlet s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis.w = ( m21 - m12 ) / s;\n\t\t\tthis.x = ( m13 + m31 ) / s;\n\t\t\tthis.y = ( m23 + m32 ) / s;\n\t\t\tthis.z = 0.25 * s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the components of this quaternion from an array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Quaternion} A reference to this quaternion.\n\t*/\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset + 0 ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values of this quaternion to the given array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Array<Number>} The array with the quaternion components.\n\t*/\n\ttoArray( array, offset = 0 ) {\n\n\t\tarray[ offset + 0 ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\t/**\n\t* Returns true if the given quaternion is deep equal with this quaternion.\n\t*\n\t* @param {Quaternion} q - The quaternion to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( q ) {\n\n\t\treturn ( ( q.x === this.x ) && ( q.y === this.y ) && ( q.z === this.z ) && ( q.w === this.w ) );\n\n\t}\n\n}\n\n/**\n* Class representing a 4x4 matrix. The elements of the matrix\n* are stored in column-major order.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Matrix4 {\n\n\t/**\n\t* Constructs a new 4x4 identity matrix.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The elements of the matrix in column-major order.\n\t\t* @type {Array<Number>}\n\t\t*/\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t}\n\n\t/**\n\t* Sets the given values to this matrix. The arguments are in row-major order.\n\t*\n\t* @param {Number} n11 - An element of the matrix.\n\t* @param {Number} n12 - An element of the matrix.\n\t* @param {Number} n13 - An element of the matrix.\n\t* @param {Number} n14 - An element of the matrix.\n\t* @param {Number} n21 - An element of the matrix.\n\t* @param {Number} n22 - An element of the matrix.\n\t* @param {Number} n23 - An element of the matrix.\n\t* @param {Number} n24 - An element of the matrix.\n\t* @param {Number} n31 - An element of the matrix.\n\t* @param {Number} n32 - An element of the matrix.\n\t* @param {Number} n33 - An element of the matrix.\n\t* @param {Number} n34 - An element of the matrix.\n\t* @param {Number} n41 - An element of the matrix.\n\t* @param {Number} n42 - An element of the matrix.\n\t* @param {Number} n43 - An element of the matrix.\n\t* @param {Number} n44 - An element of the matrix.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst e = this.elements;\n\n\t\te[ 0 ] = n11; e[ 4 ] = n12; e[ 8 ] = n13; e[ 12 ] = n14;\n\t\te[ 1 ] = n21; e[ 5 ] = n22; e[ 9 ] = n23; e[ 13 ] = n24;\n\t\te[ 2 ] = n31; e[ 6 ] = n32; e[ 10 ] = n33; e[ 14 ] = n34;\n\t\te[ 3 ] = n41; e[ 7 ] = n42; e[ 11 ] = n43; e[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given matrix to this matrix.\n\t*\n\t* @param {Matrix4} m - The matrix to copy.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tcopy( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\te[ 0 ] = me[ 0 ]; e[ 1 ] = me[ 1 ]; e[ 2 ] = me[ 2 ]; e[ 3 ] = me[ 3 ];\n\t\te[ 4 ] = me[ 4 ]; e[ 5 ] = me[ 5 ]; e[ 6 ] = me[ 6 ]; e[ 7 ] = me[ 7 ];\n\t\te[ 8 ] = me[ 8 ]; e[ 9 ] = me[ 9 ]; e[ 10 ] = me[ 10 ]; e[ 11 ] = me[ 11 ];\n\t\te[ 12 ] = me[ 12 ]; e[ 13 ] = me[ 13 ]; e[ 14 ] = me[ 14 ]; e[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new matrix and copies all values from this matrix.\n\t*\n\t* @return {Matrix4} A new matrix.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Transforms this matrix to an identity matrix.\n\t*\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies this matrix with the given matrix.\n\t*\n\t* @param {Matrix4} m - The matrix to multiply.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\t/**\n\t* Multiplies this matrix with the given matrix.\n\t* So the order of the multiplication is switched compared to {@link Matrix4#multiply}.\n\t*\n\t* @param {Matrix4} m - The matrix to multiply.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\t/**\n\t* Multiplies two given matrices and stores the result in this matrix.\n\t*\n\t* @param {Matrix4} a - The first matrix of the operation.\n\t* @param {Matrix4} b - The second matrix of the operation.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst e = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\te[ 0 ] = ( a11 * b11 ) + ( a12 * b21 ) + ( a13 * b31 ) + ( a14 * b41 );\n\t\te[ 4 ] = ( a11 * b12 ) + ( a12 * b22 ) + ( a13 * b32 ) + ( a14 * b42 );\n\t\te[ 8 ] = ( a11 * b13 ) + ( a12 * b23 ) + ( a13 * b33 ) + ( a14 * b43 );\n\t\te[ 12 ] = ( a11 * b14 ) + ( a12 * b24 ) + ( a13 * b34 ) + ( a14 * b44 );\n\n\t\te[ 1 ] = ( a21 * b11 ) + ( a22 * b21 ) + ( a23 * b31 ) + ( a24 * b41 );\n\t\te[ 5 ] = ( a21 * b12 ) + ( a22 * b22 ) + ( a23 * b32 ) + ( a24 * b42 );\n\t\te[ 9 ] = ( a21 * b13 ) + ( a22 * b23 ) + ( a23 * b33 ) + ( a24 * b43 );\n\t\te[ 13 ] = ( a21 * b14 ) + ( a22 * b24 ) + ( a23 * b34 ) + ( a24 * b44 );\n\n\t\te[ 2 ] = ( a31 * b11 ) + ( a32 * b21 ) + ( a33 * b31 ) + ( a34 * b41 );\n\t\te[ 6 ] = ( a31 * b12 ) + ( a32 * b22 ) + ( a33 * b32 ) + ( a34 * b42 );\n\t\te[ 10 ] = ( a31 * b13 ) + ( a32 * b23 ) + ( a33 * b33 ) + ( a34 * b43 );\n\t\te[ 14 ] = ( a31 * b14 ) + ( a32 * b24 ) + ( a33 * b34 ) + ( a34 * b44 );\n\n\t\te[ 3 ] = ( a41 * b11 ) + ( a42 * b21 ) + ( a43 * b31 ) + ( a44 * b41 );\n\t\te[ 7 ] = ( a41 * b12 ) + ( a42 * b22 ) + ( a43 * b32 ) + ( a44 * b42 );\n\t\te[ 11 ] = ( a41 * b13 ) + ( a42 * b23 ) + ( a43 * b33 ) + ( a44 * b43 );\n\t\te[ 15 ] = ( a41 * b14 ) + ( a42 * b24 ) + ( a43 * b34 ) + ( a44 * b44 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Multiplies the given scalar with this matrix.\n\t*\n\t* @param {Number} s - The scalar to multiply.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tmultiplyScalar( s ) {\n\n\t\tconst e = this.elements;\n\n\t\te[ 0 ] *= s; e[ 4 ] *= s; e[ 8 ] *= s; e[ 12 ] *= s;\n\t\te[ 1 ] *= s; e[ 5 ] *= s; e[ 9 ] *= s; e[ 13 ] *= s;\n\t\te[ 2 ] *= s; e[ 6 ] *= s; e[ 10 ] *= s; e[ 14 ] *= s;\n\t\te[ 3 ] *= s; e[ 7 ] *= s; e[ 11 ] *= s; e[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Extracts the basis vectors and stores them to the given vectors.\n\t*\n\t* @param {Vector3} xAxis - The first result vector for the x-axis.\n\t* @param {Vector3} yAxis - The second result vector for the y-axis.\n\t* @param {Vector3} zAxis - The third result vector for the z-axis.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.fromMatrix4Column( this, 0 );\n\t\tyAxis.fromMatrix4Column( this, 1 );\n\t\tzAxis.fromMatrix4Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Makes a basis from the given vectors.\n\t*\n\t* @param {Vector3} xAxis - The first basis vector for the x-axis.\n\t* @param {Vector3} yAxis - The second basis vector for the y-axis.\n\t* @param {Vector3} zAxis - The third basis vector for the z-axis.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Composes a matrix from the given position, quaternion and scale.\n\t*\n\t* @param {Vector3} position - A vector representing a position in 3D space.\n\t* @param {Quaternion} rotation - A quaternion representing a rotation.\n\t* @param {Vector3} scale - A vector representing a 3D scaling.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tcompose( position, rotation, scale ) {\n\n\t\tthis.fromQuaternion( rotation );\n\t\tthis.scale( scale );\n\t\tthis.setPosition( position );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Scales this matrix by the given 3D vector.\n\t*\n\t* @param {Vector3} v - A 3D vector representing a scaling.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tscale( v ) {\n\n\t\tconst e = this.elements;\n\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\te[ 0 ] *= x; e[ 4 ] *= y; e[ 8 ] *= z;\n\t\te[ 1 ] *= x; e[ 5 ] *= y; e[ 9 ] *= z;\n\t\te[ 2 ] *= x; e[ 6 ] *= y; e[ 10 ] *= z;\n\t\te[ 3 ] *= x; e[ 7 ] *= y; e[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the translation part of the 4x4 matrix to the given position vector.\n\t*\n\t* @param {Vector3} v - A 3D vector representing a position.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tsetPosition( v ) {\n\n\t\tconst e = this.elements;\n\n\t\te[ 12 ] = v.x;\n\t\te[ 13 ] = v.y;\n\t\te[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transposes this matrix.\n\t*\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\ttranspose() {\n\n\t\tconst e = this.elements;\n\t\tlet t;\n\n\t\tt = e[ 1 ]; e[ 1 ] = e[ 4 ]; e[ 4 ] = t;\n\t\tt = e[ 2 ]; e[ 2 ] = e[ 8 ]; e[ 8 ] = t;\n\t\tt = e[ 6 ]; e[ 6 ] = e[ 9 ]; e[ 9 ] = t;\n\n\t\tt = e[ 3 ]; e[ 3 ] = e[ 12 ]; e[ 12 ] = t;\n\t\tt = e[ 7 ]; e[ 7 ] = e[ 13 ]; e[ 13 ] = t;\n\t\tt = e[ 11 ]; e[ 11 ] = e[ 14 ]; e[ 14 ] = t;\n\n\t\treturn this;\n\n\n\t}\n\n\t/**\n\t* Computes the inverse of this matrix and stored the result in the given matrix.\n\t*\n\t* You can not invert a matrix with a determinant of zero. If you attempt this, the method returns a zero matrix instead.\n\t*\n\t* @param {Matrix4} m - The result matrix.\n\t* @return {Matrix4} The result matrix.\n\t*/\n\tgetInverse( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst n11 = e[ 0 ], n21 = e[ 1 ], n31 = e[ 2 ], n41 = e[ 3 ];\n\t\tconst n12 = e[ 4 ], n22 = e[ 5 ], n32 = e[ 6 ], n42 = e[ 7 ];\n\t\tconst n13 = e[ 8 ], n23 = e[ 9 ], n33 = e[ 10 ], n43 = e[ 11 ];\n\t\tconst n14 = e[ 12 ], n24 = e[ 13 ], n34 = e[ 14 ], n44 = e[ 15 ];\n\n\t\tconst t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44;\n\t\tconst t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44;\n\t\tconst t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44;\n\t\tconst t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return m.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tme[ 0 ] = t11 * detInv;\n\t\tme[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tme[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tme[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tme[ 4 ] = t12 * detInv;\n\t\tme[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tme[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tme[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tme[ 8 ] = t13 * detInv;\n\t\tme[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tme[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tme[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tme[ 12 ] = t14 * detInv;\n\t\tme[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tme[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tme[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn m;\n\n\t}\n\n\t/**\n\t* Computes the maximum scale value for all three axis.\n\t*\n\t* @return {Number} The maximum scale value.\n\t*/\n\tgetMaxScale() {\n\n\t\tconst e = this.elements;\n\n\t\tconst scaleXSq = e[ 0 ] * e[ 0 ] + e[ 1 ] * e[ 1 ] + e[ 2 ] * e[ 2 ];\n\t\tconst scaleYSq = e[ 4 ] * e[ 4 ] + e[ 5 ] * e[ 5 ] + e[ 6 ] * e[ 6 ];\n\t\tconst scaleZSq = e[ 8 ] * e[ 8 ] + e[ 9 ] * e[ 9 ] + e[ 10 ] * e[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\t/**\n\t* Uses the given quaternion to transform the upper left 3x3 part to a rotation matrix.\n\t* Other parts of the matrix are equal to the identiy matrix.\n\t*\n\t* @param {Quaternion} q - A quaternion representing a rotation.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tfromQuaternion( q ) {\n\n\t\tconst e = this.elements;\n\n\t\tconst x = q.x, y = q.y, z = q.z, w = q.w;\n\t\tconst x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\te[ 0 ] = 1 - ( yy + zz );\n\t\te[ 4 ] = xy - wz;\n\t\te[ 8 ] = xz + wy;\n\n\t\te[ 1 ] = xy + wz;\n\t\te[ 5 ] = 1 - ( xx + zz );\n\t\te[ 9 ] = yz - wx;\n\n\t\te[ 2 ] = xz - wy;\n\t\te[ 6 ] = yz + wx;\n\t\te[ 10 ] = 1 - ( xx + yy );\n\n\t\te[ 3 ] = 0;\n\t\te[ 7 ] = 0;\n\t\te[ 11 ] = 0;\n\n\t\te[ 12 ] = 0;\n\t\te[ 13 ] = 0;\n\t\te[ 14 ] = 0;\n\t\te[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the upper-left 3x3 portion of this matrix by the given 3x3 matrix. Other\n\t* parts of the matrix are equal to the identiy matrix.\n\t*\n\t* @param {Matrix3} m - A 3x3 matrix.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tfromMatrix3( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\te[ 0 ] = me[ 0 ];\n\t\te[ 1 ] = me[ 1 ];\n\t\te[ 2 ] = me[ 2 ];\n\t\te[ 3 ] = 0;\n\n\t\te[ 4 ] = me[ 3 ];\n\t\te[ 5 ] = me[ 4 ];\n\t\te[ 6 ] = me[ 5 ];\n\t\te[ 7 ] = 0;\n\n\t\te[ 8 ] = me[ 6 ];\n\t\te[ 9 ] = me[ 7 ];\n\t\te[ 10 ] = me[ 8 ];\n\t\te[ 11 ] = 0;\n\n\t\te[ 12 ] = 0;\n\t\te[ 13 ] = 0;\n\t\te[ 14 ] = 0;\n\t\te[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the elements of this matrix from an array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Matrix4} A reference to this matrix.\n\t*/\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst e = this.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\te[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all elements of this matrix to the given array.\n\t*\n\t* @param {Array<Number>} array - An array.\n\t* @param {Number} offset - An optional offset.\n\t* @return {Array<Number>} The array with the elements of the matrix.\n\t*/\n\ttoArray( array, offset = 0 ) {\n\n\t\tconst e = this.elements;\n\n\t\tarray[ offset + 0 ] = e[ 0 ];\n\t\tarray[ offset + 1 ] = e[ 1 ];\n\t\tarray[ offset + 2 ] = e[ 2 ];\n\t\tarray[ offset + 3 ] = e[ 3 ];\n\n\t\tarray[ offset + 4 ] = e[ 4 ];\n\t\tarray[ offset + 5 ] = e[ 5 ];\n\t\tarray[ offset + 6 ] = e[ 6 ];\n\t\tarray[ offset + 7 ] = e[ 7 ];\n\n\t\tarray[ offset + 8 ] = e[ 8 ];\n\t\tarray[ offset + 9 ] = e[ 9 ];\n\t\tarray[ offset + 10 ] = e[ 10 ];\n\t\tarray[ offset + 11 ] = e[ 11 ];\n\n\t\tarray[ offset + 12 ] = e[ 12 ];\n\t\tarray[ offset + 13 ] = e[ 13 ];\n\t\tarray[ offset + 14 ] = e[ 14 ];\n\t\tarray[ offset + 15 ] = e[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n\t/**\n\t* Returns true if the given matrix is deep equal with this matrix.\n\t*\n\t* @param {Matrix4} m - The matrix to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( m ) {\n\n\t\tconst e = this.elements;\n\t\tconst me = m.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( e[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n}\n\nconst targetRotation = new Quaternion();\nconst targetDirection = new Vector3();\nconst positionWorld = new Vector3();\nconst quaternionWorld = new Quaternion();\n\n/**\n* Base class for all game entities.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass GameEntity {\n\n\t/**\n\t* Constructs a new game entity.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The name of this game entity.\n\t\t* @type {String}\n\t\t*/\n\t\tthis.name = '';\n\n\t\t/**\n\t\t* Whether this game entity is active or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.active = true;\n\n\t\t/**\n\t\t* The child entities of this game entity.\n\t\t* @type {Array<GameEntity>}\n\t\t*/\n\t\tthis.children = new Array();\n\n\t\t/**\n\t\t* A reference to the parent entity of this game entity.\n\t\t* Automatically set when added to a {@link GameEntity}.\n\t\t* @type {?GameEntity}\n\t\t* @default null\n\t\t* @readonly\n\t\t*/\n\t\tthis.parent = null;\n\n\t\t/**\n\t\t* A list of neighbors of this game entity.\n\t\t* @type {Array<GameEntity>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.neighbors = new Array();\n\n\t\t/**\n\t\t* Game entities within this radius are considered as neighbors of this entity.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.neighborhoodRadius = 1;\n\n\t\t/**\n\t\t* Whether the neighborhood of this game entity is updated or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.updateNeighborhood = false;\n\n\t\t/**\n\t\t* The position of this game entity.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.position = new Vector3();\n\n\t\t/**\n\t\t* The rotation of this game entity.\n\t\t* @type {Quaternion}\n\t\t*/\n\t\tthis.rotation = new Quaternion();\n\n\t\t/**\n\t\t* The scaling of this game entity.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.scale = new Vector3( 1, 1, 1 );\n\n\t\t/**\n\t\t* The default forward vector of this game entity.\n\t\t* @type {Vector3}\n\t\t* @default (0,0,1)\n\t\t*/\n\t\tthis.forward = new Vector3( 0, 0, 1 );\n\n\t\t/**\n\t\t* The default up vector of this game entity.\n\t\t* @type {Vector3}\n\t\t* @default (0,1,0)\n\t\t*/\n\t\tthis.up = new Vector3( 0, 1, 0 );\n\n\t\t/**\n\t\t* The bounding radius of this game entity in world units.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.boundingRadius = 0;\n\n\t\t/**\n\t\t* The maximum turn rate of this game entity in radians per seconds.\n\t\t* The only method that uses this property right now is {@link GameEntity#rotateTo}.\n\t\t* @type {Number}\n\t\t* @default π\n\t\t*/\n\t\tthis.maxTurnRate = Math.PI;\n\n\t\t/**\n\t\t* Whether the entity can activate a trigger or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.canActivateTrigger = true;\n\n\t\t/**\n\t\t* A reference to the entity manager of this game entity.\n\t\t* Automatically set when added to an {@link EntityManager}.\n\t\t* @type {EntityManager}\n\t\t* @default null\n\t\t* @readonly\n\t\t*/\n\t\tthis.manager = null;\n\n\t\t// private properties\n\n\t\t// local transformation matrix. no part of the public API due to caching\n\n\t\tthis._localMatrix = new Matrix4();\n\n\t\t// internal world matrix reference (only accessible via a getter)\n\n\t\tthis._worldMatrix = new Matrix4();\n\n\t\t// per-entity cache in order to avoid unnecessary matrix calculations\n\n\t\tthis._cache = {\n\t\t\tposition: new Vector3(),\n\t\t\trotation: new Quaternion(),\n\t\t\tscale: new Vector3( 1, 1, 1 )\n\t\t};\n\n\t\t// render component\n\n\t\tthis._renderComponent = null;\n\t\tthis._renderComponentCallback = null;\n\n\t\t// flag to indicate whether the entity was updated by its manager at least once or not\n\n\t\tthis._started = false;\n\n\t\t//\n\n\t\tthis._uuid = null;\n\n\t\t// if set to true, it means the world matrix requires a recomputation\n\n\t\tthis._worldMatrixDirty = false;\n\n\t}\n\n\t/**\n\t* A transformation matrix representing the world space of this game entity.\n\t* @type {Matrix4}\n\t* @readonly\n\t*/\n\tget worldMatrix() {\n\n\t\tthis._updateWorldMatrix();\n\n\t\treturn this._worldMatrix;\n\n\t}\n\n\t/**\n\t* Unique ID, primarily used in context of serialization/deserialization.\n\t* @type {String}\n\t* @readonly\n\t*/\n\tget uuid() {\n\n\t\tif ( this._uuid === null ) {\n\n\t\t\tthis._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\treturn this._uuid;\n\n\t}\n\n\t/**\n\t* Executed when this game entity is updated for the first time by its {@link EntityManager}.\n\t*\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tstart() {\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates the internal state of this game entity. Normally called by {@link EntityManager#update}\n\t* in each simulation step.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tupdate( /* delta */ ) {\n\n\t\treturn this;\n\n\t}\n\n\n\t/**\n\t* Adds a game entity as a child to this game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity to add.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tadd( entity ) {\n\n\t\tif ( entity.parent !== null ) {\n\n\t\t\tentity.parent.remove( entity );\n\n\t\t}\n\n\t\tthis.children.push( entity );\n\t\tentity.parent = this;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes a game entity as a child from this game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity to remove.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tremove( entity ) {\n\n\t\tconst index = this.children.indexOf( entity );\n\t\tthis.children.splice( index, 1 );\n\n\t\tentity.parent = null;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the current direction (forward) vector of this game entity\n\t* and stores the result in the given vector.\n\t*\n\t* @param {Vector3} result - The direction vector of this game entity.\n\t* @return {Vector3} The direction vector of this game entity.\n\t*/\n\tgetDirection( result ) {\n\n\t\treturn result.copy( this.forward ).applyRotation( this.rotation ).normalize();\n\n\t}\n\n\t/**\n\t* Directly rotates the entity so it faces the given target position.\n\t*\n\t* @param {Vector3} target - The target position.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tlookAt( target ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tthis.getWorldPosition( positionWorld );\n\n\t\t\ttargetDirection.subVectors( target, positionWorld ).normalize();\n\n\t\t\tthis.rotation.lookAt( this.forward, targetDirection, this.up );\n\n\t\t\tquaternionWorld.extractRotationFromMatrix( parent.worldMatrix ).inverse();\n\n\t\t\tthis.rotation.premultiply( quaternionWorld );\n\n\t\t} else {\n\n\t\t\ttargetDirection.subVectors( target, this.position ).normalize();\n\n\t\t\tthis.rotation.lookAt( this.forward, targetDirection, this.up );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Given a target position, this method rotates the entity by an amount not\n\t* greater than {@link GameEntity#maxTurnRate} until it directly faces the target.\n\t*\n\t* @param {Vector3} target - The target position.\n\t* @param {Number} delta - The time delta.\n\t* @param {Number} tolerance - A tolerance value in radians to tweak the result\n\t* when a game entity is considered to face a target.\n\t* @return {Boolean} Whether the entity is faced to the target or not.\n\t*/\n\trotateTo( target, delta, tolerance = 0.0001 ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tthis.getWorldPosition( positionWorld );\n\n\t\t\ttargetDirection.subVectors( target, positionWorld ).normalize();\n\n\t\t\ttargetRotation.lookAt( this.forward, targetDirection, this.up );\n\n\t\t\tquaternionWorld.extractRotationFromMatrix( parent.worldMatrix ).inverse();\n\n\t\t\ttargetRotation.premultiply( quaternionWorld );\n\n\t\t} else {\n\n\t\t\ttargetDirection.subVectors( target, this.position ).normalize();\n\n\t\t\ttargetRotation.lookAt( this.forward, targetDirection, this.up );\n\n\t\t}\n\n\t\treturn this.rotation.rotateTo( targetRotation, this.maxTurnRate * delta, tolerance );\n\n\t}\n\n\t/**\n\t* Computes the current direction (forward) vector of this game entity\n\t* in world space and stores the result in the given vector.\n\t*\n\t* @param {Vector3} result - The direction vector of this game entity in world space.\n\t* @return {Vector3} The direction vector of this game entity in world space.\n\t*/\n\tgetWorldDirection( result ) {\n\n\t\tquaternionWorld.extractRotationFromMatrix( this.worldMatrix );\n\n\t\treturn result.copy( this.forward ).applyRotation( quaternionWorld ).normalize();\n\n\t}\n\n\t/**\n\t* Computes the current position of this game entity in world space and\n\t* stores the result in the given vector.\n\t*\n\t* @param {Vector3} result - The position of this game entity in world space.\n\t* @return {Vector3} The position of this game entity in world space.\n\t*/\n\tgetWorldPosition( result ) {\n\n\t\treturn result.extractPositionFromMatrix( this.worldMatrix );\n\n\t}\n\n\t/**\n\t* Sets a renderable component of a 3D engine with a sync callback for this game entity.\n\t*\n\t* @param {Object} renderComponent - A renderable component of a 3D engine.\n\t* @param {Function} callback - A callback that can be used to sync this game entity with the renderable component.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tsetRenderComponent( renderComponent, callback ) {\n\n\t\tthis._renderComponent = renderComponent;\n\t\tthis._renderComponentCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Holds the implementation for the message handling of this game entity.\n\t*\n\t* @param {Telegram} telegram - The telegram with the message data.\n\t* @return {Boolean} Whether the message was processed or not.\n\t*/\n\thandleMessage() {\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Holds the implementation for the line of sight test of this game entity.\n\t* This method is used by {@link Vision#visible} in order to determine whether\n\t* this game entity blocks the given line of sight or not. Implement this method\n\t* when your game entity acts as an obstacle.\n\t*\n\t* @param {Ray} ray - The ray that represents the line of sight.\n\t* @param {Vector3} intersectionPoint - The intersection point.\n\t* @return {Vector3} The intersection point.\n\t*/\n\tlineOfSightTest() {\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t* Sends a message with the given data to the specified receiver.\n\t*\n\t* @param {GameEntity} receiver - The receiver.\n\t* @param {String} message - The actual message.\n\t* @param {Number} delay - A time value in millisecond used to delay the message dispatching.\n\t* @param {Object} data - An object for custom data.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tsendMessage( receiver, message, delay = 0, data = null ) {\n\n\t\tif ( this.manager !== null ) {\n\n\t\t\tthis.manager.sendMessage( this, receiver, message, delay, data );\n\n\t\t} else {\n\n\t\t\tLogger.error( 'YUKA.GameEntity: The game entity must be added to a manager in order to send a message.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\t\t\tactive: this.active,\n\t\t\tchildren: entitiesToIds( this.children ),\n\t\t\tparent: ( this.parent !== null ) ? this.parent.uuid : null,\n\t\t\tneighbors: entitiesToIds( this.neighbors ),\n\t\t\tneighborhoodRadius: this.neighborhoodRadius,\n\t\t\tupdateNeighborhood: this.updateNeighborhood,\n\t\t\tposition: this.position.toArray( new Array() ),\n\t\t\trotation: this.rotation.toArray( new Array() ),\n\t\t\tscale: this.scale.toArray( new Array() ),\n\t\t\tforward: this.forward.toArray( new Array() ),\n\t\t\tup: this.up.toArray( new Array() ),\n\t\t\tboundingRadius: this.boundingRadius,\n\t\t\tmaxTurnRate: this.maxTurnRate,\n\t\t\tcanActivateTrigger: this.canActivateTrigger,\n\t\t\tworldMatrix: this.worldMatrix.toArray( new Array() ),\n\t\t\t_localMatrix: this._localMatrix.toArray( new Array() ),\n\t\t\t_cache: {\n\t\t\t\tposition: this._cache.position.toArray( new Array() ),\n\t\t\t\trotation: this._cache.rotation.toArray( new Array() ),\n\t\t\t\tscale: this._cache.scale.toArray( new Array() ),\n\t\t\t},\n\t\t\t_started: this._started\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.name = json.name;\n\t\tthis.active = json.active;\n\t\tthis.neighborhoodRadius = json.neighborhoodRadius;\n\t\tthis.updateNeighborhood = json.updateNeighborhood;\n\t\tthis.position.fromArray( json.position );\n\t\tthis.rotation.fromArray( json.rotation );\n\t\tthis.scale.fromArray( json.scale );\n\t\tthis.forward.fromArray( json.forward );\n\t\tthis.up.fromArray( json.up );\n\t\tthis.boundingRadius = json.boundingRadius;\n\t\tthis.maxTurnRate = json.maxTurnRate;\n\t\tthis.canActivateTrigger = json.canActivateTrigger;\n\n\t\tthis.children = json.children.slice();\n\t\tthis.neighbors = json.neighbors.slice();\n\t\tthis.parent = json.parent;\n\n\t\tthis._localMatrix.fromArray( json._localMatrix );\n\t\tthis._worldMatrix.fromArray( json.worldMatrix );\n\n\t\tthis._cache.position.fromArray( json._cache.position );\n\t\tthis._cache.rotation.fromArray( json._cache.rotation );\n\t\tthis._cache.scale.fromArray( json._cache.scale );\n\n\t\tthis._started = json._started;\n\n\t\tthis._uuid = json.uuid;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {GameEntity} A reference to this game entity.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\t//\n\n\t\tconst neighbors = this.neighbors;\n\n\t\tfor ( let i = 0, l = neighbors.length; i < l; i ++ ) {\n\n\t\t\tneighbors[ i ] = entities.get( neighbors[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ] = entities.get( children[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tthis.parent = entities.get( this.parent ) || null;\n\n\t\treturn this;\n\n\t}\n\n\t// Updates the transformation matrix representing the local space.\n\n\t_updateMatrix() {\n\n\t\tconst cache = this._cache;\n\n\t\tif ( cache.position.equals( this.position ) &&\n\t\t\t\tcache.rotation.equals( this.rotation ) &&\n\t\t\t\tcache.scale.equals( this.scale ) ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._localMatrix.compose( this.position, this.rotation, this.scale );\n\n\t\tcache.position.copy( this.position );\n\t\tcache.rotation.copy( this.rotation );\n\t\tcache.scale.copy( this.scale );\n\n\t\tthis._worldMatrixDirty = true;\n\n\t}\n\n\t_updateWorldMatrix() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent._updateWorldMatrix();\n\n\t\t}\n\n\t\tthis._updateMatrix();\n\n\t\tif ( this._worldMatrixDirty === true ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tthis._worldMatrix.copy( this._localMatrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis._worldMatrix.multiplyMatrices( this.parent._worldMatrix, this._localMatrix );\n\n\t\t\t}\n\n\t\t\tthis._worldMatrixDirty = false;\n\n\t\t\t// invalidate world matrices of children\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tchild._worldMatrixDirty = true;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// deprecated\n\n\tupdateWorldMatrix() {\n\n\t\t// this warning will be removed with v1.0.0\n\n\t\tconsole.warn( 'GameEntity: .updateWorldMatrix() has been removed. World matrices are automatically updated on access.' );\n\t\treturn this;\n\n\t}\n\n}\n\nfunction entitiesToIds( array ) {\n\n\tconst ids = new Array();\n\n\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\tids.push( array[ i ].uuid );\n\n\t}\n\n\treturn ids;\n\n}\n\nconst displacement$4 = new Vector3();\nconst target$1 = new Vector3();\n\n/**\n* Class representing moving game entities.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments GameEntity\n*/\nclass MovingEntity extends GameEntity {\n\n\t/**\n\t* Constructs a new moving entity.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The velocity of this game entity.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.velocity = new Vector3();\n\n\t\t/**\n\t\t* The maximum speed at which this game entity may travel.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.maxSpeed = 1;\n\n\t\t/**\n\t\t* Whether the orientation of this game entity will be updated based on the velocity or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.updateOrientation = true;\n\n\t}\n\n\t/**\n\t* Updates the internal state of this game entity.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @return {MovingEntity} A reference to this moving entity.\n\t*/\n\tupdate( delta ) {\n\n\t\t// make sure vehicle does not exceed maximum speed\n\n\t\tif ( this.getSpeedSquared() > ( this.maxSpeed * this.maxSpeed ) ) {\n\n\t\t\tthis.velocity.normalize();\n\t\t\tthis.velocity.multiplyScalar( this.maxSpeed );\n\n\t\t}\n\n\t\t// calculate displacement\n\n\t\tdisplacement$4.copy( this.velocity ).multiplyScalar( delta );\n\n\t\t// calculate target position\n\n\t\ttarget$1.copy( this.position ).add( displacement$4 );\n\n\t\t// update the orientation if the vehicle has a non zero velocity\n\n\t\tif ( this.updateOrientation && this.getSpeedSquared() > 0.00000001 ) {\n\n\t\t\tthis.lookAt( target$1 );\n\n\t\t}\n\n\t\t// update position\n\n\t\tthis.position.copy( target$1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the current speed of this game entity.\n\t*\n\t* @return {Number} The current speed.\n\t*/\n\tgetSpeed() {\n\n\t\treturn this.velocity.length();\n\n\t}\n\n\t/**\n\t* Returns the current speed in squared space of this game entity.\n\t*\n\t* @return {Number} The current speed in squared space.\n\t*/\n\tgetSpeedSquared() {\n\n\t\treturn this.velocity.squaredLength();\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.velocity = this.velocity.toArray( new Array() );\n\t\tjson.maxSpeed = this.maxSpeed;\n\t\tjson.updateOrientation = this.updateOrientation;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {MovingEntity} A reference to this moving entity.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.velocity.fromArray( json.velocity );\n\t\tthis.maxSpeed = json.maxSpeed;\n\t\tthis.updateOrientation = json.updateOrientation;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for all concrete steering behaviors. They produce a force that describes\n* where an agent should move and how fast it should travel to get there.\n*\n* Note: All built-in steering behaviors assume a {@link Vehicle#mass} of one. Different values can lead to an unexpected results.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass SteeringBehavior {\n\n\t/**\n\t* Constructs a new steering behavior.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* Whether this steering behavior is active or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.active = true;\n\n\t\t/**\n\t\t* Can be used to tweak the amount that a steering force contributes to the total steering force.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.weight = 1;\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( /* vehicle, force, delta */ ) {}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tactive: this.active,\n\t\t\tweight: this.weight\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {SteeringBehavior} A reference to this steering behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.active = json.active;\n\t\tthis.weight = json.weight;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {SteeringBehavior} A reference to this steering behavior.\n\t*/\n\tresolveReferences( /* entities */ ) {}\n\n}\n\nconst averageDirection = new Vector3();\nconst direction$1 = new Vector3();\n\n/**\n* This steering behavior produces a force that keeps a vehicle’s heading aligned with its neighbors.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass AlignmentBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new alignment behavior.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\taverageDirection.set( 0, 0, 0 );\n\n\t\tconst neighbors = vehicle.neighbors;\n\n\t\t// iterate over all neighbors to calculate the average direction vector\n\n\t\tfor ( let i = 0, l = neighbors.length; i < l; i ++ ) {\n\n\t\t\tconst neighbor = neighbors[ i ];\n\n\t\t\tneighbor.getDirection( direction$1 );\n\n\t\t\taverageDirection.add( direction$1 );\n\n\t\t}\n\n\t\tif ( neighbors.length > 0 ) {\n\n\t\t\taverageDirection.divideScalar( neighbors.length );\n\n\t\t\t// produce a force to align the vehicle's heading\n\n\t\t\tvehicle.getDirection( direction$1 );\n\t\t\tforce.subVectors( averageDirection, direction$1 );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n}\n\nconst desiredVelocity$2 = new Vector3();\nconst displacement$3 = new Vector3();\n\n/**\n* This steering behavior produces a force that directs an agent toward a target position.\n* Unlike {@link SeekBehavior}, it decelerates so the agent comes to a gentle halt at the target position.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass ArriveBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new arrive behavior.\n\t*\n\t* @param {Vector3} target - The target vector.\n\t* @param {Number} deceleration - The amount of deceleration.\n\t* @param {Number} tolerance - A tolerance value in world units to prevent the vehicle from overshooting its target.\n\t*/\n\tconstructor( target = new Vector3(), deceleration = 3, tolerance = 0 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The target vector.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* The amount of deceleration.\n\t\t* @type {Number}\n\t\t* @default 3\n\t\t*/\n\t\tthis.deceleration = deceleration;\n\n\t\t/**\n\t\t* A tolerance value in world units to prevent the vehicle from overshooting its target.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.tolerance = tolerance;\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst target = this.target;\n\t\tconst deceleration = this.deceleration;\n\n\t\tdisplacement$3.subVectors( target, vehicle.position );\n\n\t\tconst distance = displacement$3.length();\n\n\t\tif ( distance > this.tolerance ) {\n\n\t\t\t// calculate the speed required to reach the target given the desired deceleration\n\n\t\t\tlet speed = distance / deceleration;\n\n\t\t\t// make sure the speed does not exceed the max\n\n\t\t\tspeed = Math.min( speed, vehicle.maxSpeed );\n\n\t\t\t// from here proceed just like \"seek\" except we don't need to normalize\n\t\t\t// the \"displacement\" vector because we have already gone to the trouble\n\t\t\t// of calculating its length.\n\n\t\t\tdesiredVelocity$2.copy( displacement$3 ).multiplyScalar( speed / distance );\n\n\t\t} else {\n\n\t\t\tdesiredVelocity$2.set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn force.subVectors( desiredVelocity$2, vehicle.velocity );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.target = this.target.toArray( new Array() );\n\t\tjson.deceleration = this.deceleration;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {ArriveBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.target.fromArray( json.target );\n\t\tthis.deceleration = json.deceleration;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst desiredVelocity$1 = new Vector3();\n\n/**\n* This steering behavior produces a force that directs an agent toward a target position.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass SeekBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new seek behavior.\n\t*\n\t* @param {Vector3} target - The target vector.\n\t*/\n\tconstructor( target = new Vector3() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The target vector.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.target = target;\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst target = this.target;\n\n\t\t// First the desired velocity is calculated.\n\t\t// This is the velocity the agent would need to reach the target position in an ideal world.\n\t\t// It represents the vector from the agent to the target,\n\t\t// scaled to be the length of the maximum possible speed of the agent.\n\n\t\tdesiredVelocity$1.subVectors( target, vehicle.position ).normalize();\n\t\tdesiredVelocity$1.multiplyScalar( vehicle.maxSpeed );\n\n\t\t// The steering force returned by this method is the force required,\n\t\t// which when added to the agent’s current velocity vector gives the desired velocity.\n\t\t// To achieve this you simply subtract the agent’s current velocity from the desired velocity.\n\n\t\treturn force.subVectors( desiredVelocity$1, vehicle.velocity );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.target = this.target.toArray( new Array() );\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {SeekBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.target.fromArray( json.target );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst centerOfMass = new Vector3();\n\n/**\n* This steering produces a steering force that moves a vehicle toward the center of mass of its neighbors.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass CohesionBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new cohesion behavior.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t\t// internal behaviors\n\n\t\tthis._seek = new SeekBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tcenterOfMass.set( 0, 0, 0 );\n\n\t\tconst neighbors = vehicle.neighbors;\n\n\t\t// iterate over all neighbors to calculate the center of mass\n\n\t\tfor ( let i = 0, l = neighbors.length; i < l; i ++ ) {\n\n\t\t\tconst neighbor = neighbors[ i ];\n\n\t\t\tcenterOfMass.add( neighbor.position );\n\n\t\t}\n\n\t\tif ( neighbors.length > 0 ) {\n\n\t\t\tcenterOfMass.divideScalar( neighbors.length );\n\n\t\t\t// seek to it\n\n\t\t\tthis._seek.target = centerOfMass;\n\t\t\tthis._seek.calculate( vehicle, force );\n\n\t\t\t// the magnitude of cohesion is usually much larger than separation\n\t\t\t// or alignment so it usually helps to normalize it\n\n\t\t\tforce.normalize();\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n}\n\nconst desiredVelocity = new Vector3();\n\n/**\n* This steering behavior produces a force that steers an agent away from a target position.\n* It's the opposite of {@link SeekBehavior}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass FleeBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new flee behavior.\n\t*\n\t* @param {Vector3} target - The target vector.\n\t* @param {Number} panicDistance - The agent only flees from the target if it is inside this radius.\n\t*/\n\tconstructor( target = new Vector3(), panicDistance = 10 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The target vector.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* The agent only flees from the target if it is inside this radius.\n\t\t* @type {Number}\n\t\t* @default 10\n\t\t*/\n\t\tthis.panicDistance = panicDistance;\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst target = this.target;\n\n\t\t// only flee if the target is within panic distance\n\n\t\tconst distanceToTargetSq = vehicle.position.squaredDistanceTo( target );\n\n\t\tif ( distanceToTargetSq <= ( this.panicDistance * this.panicDistance ) ) {\n\n\t\t\t// from here, the only difference compared to seek is that the desired\n\t\t\t// velocity is calculated using a vector pointing in the opposite direction\n\n\t\t\tdesiredVelocity.subVectors( vehicle.position, target ).normalize();\n\n\t\t\t// if target and vehicle position are identical, choose default velocity\n\n\t\t\tif ( desiredVelocity.squaredLength() === 0 ) {\n\n\t\t\t\tdesiredVelocity.set( 0, 0, 1 );\n\n\t\t\t}\n\n\t\t\tdesiredVelocity.multiplyScalar( vehicle.maxSpeed );\n\n\t\t\tforce.subVectors( desiredVelocity, vehicle.velocity );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.target = this.target.toArray( new Array() );\n\t\tjson.panicDistance = this.panicDistance;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {FleeBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.target.fromArray( json.target );\n\t\tthis.panicDistance = json.panicDistance;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst displacement$2 = new Vector3();\nconst newPursuerVelocity = new Vector3();\nconst predictedPosition$3 = new Vector3();\n\n/**\n* This steering behavior is is almost the same as {@link PursuitBehavior} except that\n* the agent flees from the estimated future position of the pursuer.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass EvadeBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new evade behavior.\n\t*\n\t* @param {MovingEntity} pursuer - The agent to evade from.\n\t* @param {Number} panicDistance - The agent only flees from the pursuer if it is inside this radius.\n\t* @param {Number} predictionFactor - This factor determines how far the vehicle predicts the movement of the pursuer.\n\t*/\n\tconstructor( pursuer = null, panicDistance = 10, predictionFactor = 1 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The agent to evade from.\n\t\t* @type {?MovingEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.pursuer = pursuer;\n\n\t\t/**\n\t\t* The agent only flees from the pursuer if it is inside this radius.\n\t\t* @type {Number}\n\t\t* @default 10\n\t\t*/\n\t\tthis.panicDistance = panicDistance;\n\n\t\t/**\n\t\t* This factor determines how far the vehicle predicts the movement of the pursuer.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.predictionFactor = predictionFactor;\n\n\t\t// internal behaviors\n\n\t\tthis._flee = new FleeBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst pursuer = this.pursuer;\n\n\t\tdisplacement$2.subVectors( pursuer.position, vehicle.position );\n\n\t\tlet lookAheadTime = displacement$2.length() / ( vehicle.maxSpeed + pursuer.getSpeed() );\n\t\tlookAheadTime *= this.predictionFactor; // tweak the magnitude of the prediction\n\n\t\t// calculate new velocity and predicted future position\n\n\t\tnewPursuerVelocity.copy( pursuer.velocity ).multiplyScalar( lookAheadTime );\n\t\tpredictedPosition$3.addVectors( pursuer.position, newPursuerVelocity );\n\n\t\t// now flee away from predicted future position of the pursuer\n\n\t\tthis._flee.target = predictedPosition$3;\n\t\tthis._flee.panicDistance = this.panicDistance;\n\t\tthis._flee.calculate( vehicle, force );\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.pursuer = this.pursuer ? this.pursuer.uuid : null;\n\t\tjson.panicDistance = this.panicDistance;\n\t\tjson.predictionFactor = this.predictionFactor;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {EvadeBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.pursuer = json.pursuer;\n\t\tthis.panicDistance = json.panicDistance;\n\t\tthis.predictionFactor = json.predictionFactor;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {EvadeBehavior} A reference to this behavior.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.pursuer = entities.get( this.pursuer ) || null;\n\n\t}\n\n}\n\n/**\n* Class for representing a walkable path.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Path {\n\n\t/**\n\t* Constructs a new path.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* Whether this path is looped or not.\n\t\t* @type {Boolean}\n\t\t*/\n\t\tthis.loop = false;\n\n\t\tthis._waypoints = new Array();\n\t\tthis._index = 0;\n\n\t}\n\n\t/**\n\t* Adds the given waypoint to this path.\n\t*\n\t* @param {Vector3} waypoint - The waypoint to add.\n\t* @return {Path} A reference to this path.\n\t*/\n\tadd( waypoint ) {\n\n\t\tthis._waypoints.push( waypoint );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the internal state of this path.\n\t*\n\t* @return {Path} A reference to this path.\n\t*/\n\tclear() {\n\n\t\tthis._waypoints.length = 0;\n\t\tthis._index = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the current active waypoint of this path.\n\t*\n\t* @return {Vector3} The current active waypoint.\n\t*/\n\tcurrent() {\n\n\t\treturn this._waypoints[ this._index ];\n\n\t}\n\n\t/**\n\t* Returns true if this path is not looped and the last waypoint is active.\n\t*\n\t* @return {Boolean} Whether this path is finished or not.\n\t*/\n\tfinished() {\n\n\t\tconst lastIndex = this._waypoints.length - 1;\n\n\t\treturn ( this.loop === true ) ? false : ( this._index === lastIndex );\n\n\t}\n\n\t/**\n\t* Makes the next waypoint of this path active. If the path is looped and\n\t* {@link Path#finished} returns true, the path starts from the beginning.\n\t*\n\t* @return {Path} A reference to this path.\n\t*/\n\tadvance() {\n\n\t\tthis._index ++;\n\n\t\tif ( ( this._index === this._waypoints.length ) ) {\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\tthis._index = 0;\n\n\t\t\t} else {\n\n\t\t\t\tthis._index --;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\ttype: this.constructor.name,\n\t\t\tloop: this.loop,\n\t\t\t_waypoints: new Array(),\n\t\t\t_index: this._index\n\t\t};\n\n\t\t// waypoints\n\n\t\tconst waypoints = this._waypoints;\n\n\t\tfor ( let i = 0, l = waypoints.length; i < l; i ++ ) {\n\n\t\t\tconst waypoint = waypoints[ i ];\n\t\t\tdata._waypoints.push( waypoint.toArray( new Array() ) );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Path} A reference to this path.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.loop = json.loop;\n\t\tthis._index = json._index;\n\n\t\t// waypoints\n\n\t\tconst waypointsJSON = json._waypoints;\n\n\t\tfor ( let i = 0, l = waypointsJSON.length; i < l; i ++ ) {\n\n\t\t\tconst waypointJSON = waypointsJSON[ i ];\n\t\t\tthis._waypoints.push( new Vector3().fromArray( waypointJSON ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* This steering behavior produces a force that moves a vehicle along a series of waypoints forming a path.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass FollowPathBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new follow path behavior.\n\t*\n\t* @param {Path} path - The path to follow.\n\t* @param {Number} nextWaypointDistance - The distance the agent seeks for the next waypoint.\n\t*/\n\tconstructor( path = new Path(), nextWaypointDistance = 1 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The path to follow.\n\t\t* @type {Path}\n\t\t*/\n\t\tthis.path = path;\n\n\t\t/**\n\t\t* The distance the agent seeks for the next waypoint.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.nextWaypointDistance = nextWaypointDistance;\n\n\t\t// internal behaviors\n\n\t\tthis._arrive = new ArriveBehavior();\n\t\tthis._seek = new SeekBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst path = this.path;\n\n\t\t// calculate distance in square space from current waypoint to vehicle\n\n\t\tconst distanceSq = path.current().squaredDistanceTo( vehicle.position );\n\n\t\t// move to next waypoint if close enough to current target\n\n\t\tif ( distanceSq < ( this.nextWaypointDistance * this.nextWaypointDistance ) ) {\n\n\t\t\tpath.advance();\n\n\t\t}\n\n\t\tconst target = path.current();\n\n\t\tif ( path.finished() === true ) {\n\n\t\t\tthis._arrive.target = target;\n\t\t\tthis._arrive.calculate( vehicle, force );\n\n\t\t} else {\n\n\t\t\tthis._seek.target = target;\n\t\t\tthis._seek.calculate( vehicle, force );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.path = this.path.toJSON();\n\t\tjson.nextWaypointDistance = this.nextWaypointDistance;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {FollowPathBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.path.fromJSON( json.path );\n\t\tthis.nextWaypointDistance = json.nextWaypointDistance;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst midPoint = new Vector3();\nconst translation$1 = new Vector3();\nconst predictedPosition1 = new Vector3();\nconst predictedPosition2 = new Vector3();\n\n/**\n* This steering behavior produces a force that moves a vehicle to the midpoint\n* of the imaginary line connecting two other agents.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass InterposeBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new interpose behavior.\n\t*\n\t* @param {MovingEntity} entity1 - The first agent.\n\t* @param {MovingEntity} entity2 - The second agent.\n\t* @param {Number} deceleration - The amount of deceleration.\n\t*/\n\tconstructor( entity1 = null, entity2 = null, deceleration = 3 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The first agent.\n\t\t* @type {?MovingEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.entity1 = entity1;\n\n\t\t/**\n\t\t* The second agent.\n\t\t* @type {?MovingEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.entity2 = entity2;\n\n\t\t/**\n\t\t* The amount of deceleration.\n\t\t* @type {Number}\n\t\t* @default 3\n\t\t*/\n\t\tthis.deceleration = deceleration;\n\n\t\t// internal behaviors\n\n\t\tthis._arrive = new ArriveBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst entity1 = this.entity1;\n\t\tconst entity2 = this.entity2;\n\n\t\t// first we need to figure out where the two entities are going to be\n\t\t// in the future. This is approximated by determining the time\n\t\t// taken to reach the mid way point at the current time at max speed\n\n\t\tmidPoint.addVectors( entity1.position, entity2.position ).multiplyScalar( 0.5 );\n\t\tconst time = vehicle.position.distanceTo( midPoint ) / vehicle.maxSpeed;\n\n\t\t// now we have the time, we assume that entity 1 and entity 2 will\n\t\t// continue on a straight trajectory and extrapolate to get their future positions\n\n\t\ttranslation$1.copy( entity1.velocity ).multiplyScalar( time );\n\t\tpredictedPosition1.addVectors( entity1.position, translation$1 );\n\n\t\ttranslation$1.copy( entity2.velocity ).multiplyScalar( time );\n\t\tpredictedPosition2.addVectors( entity2.position, translation$1 );\n\n\t\t// calculate the mid point of these predicted positions\n\n\t\tmidPoint.addVectors( predictedPosition1, predictedPosition2 ).multiplyScalar( 0.5 );\n\n\t\t// then steer to arrive at it\n\n\t\tthis._arrive.deceleration = this.deceleration;\n\t\tthis._arrive.target = midPoint;\n\t\tthis._arrive.calculate( vehicle, force );\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.entity1 = this.entity1 ? this.entity1.uuid : null;\n\t\tjson.entity2 = this.entity2 ? this.entity2.uuid : null;\n\t\tjson.deceleration = this.deceleration;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {InterposeBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.entity1 = json.entity1;\n\t\tthis.entity2 = json.entity2;\n\t\tthis.deceleration = json.deceleration;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {InterposeBehavior} A reference to this behavior.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.entity1 = entities.get( this.entity1 ) || null;\n\t\tthis.entity2 = entities.get( this.entity2 ) || null;\n\n\t}\n\n}\n\nconst vector = new Vector3();\nconst center$1 = new Vector3();\nconst size$1 = new Vector3();\n\nconst points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\n\n/**\n* Class representing an axis-aligned bounding box (AABB).\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass AABB {\n\n\t/**\n\t* Constructs a new AABB with the given values.\n\t*\n\t* @param {Vector3} min - The minimum bounds of the AABB.\n\t* @param {Vector3} max - The maximum bounds of the AABB.\n\t*/\n\tconstructor( min = new Vector3(), max = new Vector3() ) {\n\n\t\t/**\n\t\t* The minimum bounds of the AABB.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.min = min;\n\n\t\t/**\n\t\t* The maximum bounds of the AABB.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.max = max;\n\n\t}\n\n\t/**\n\t* Sets the given values to this AABB.\n\t*\n\t* @param {Vector3} min - The minimum bounds of the AABB.\n\t* @param {Vector3} max - The maximum bounds of the AABB.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tset( min, max ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given AABB to this AABB.\n\t*\n\t* @param {AABB} aabb - The AABB to copy.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tcopy( aabb ) {\n\n\t\tthis.min.copy( aabb.min );\n\t\tthis.max.copy( aabb.max );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new AABB and copies all values from this AABB.\n\t*\n\t* @return {AABB} A new AABB.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Ensures the given point is inside this AABB and stores\n\t* the result in the given vector.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tclampPoint( point, result ) {\n\n\t\tresult.copy( point ).clamp( this.min, this.max );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns true if the given point is inside this AABB.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Boolean} The result of the containments test.\n\t*/\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\t/**\n\t* Expands this AABB by the given point. So after this method call,\n\t* the given point lies inside the AABB.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\texpand( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the center point of this AABB and stores it into the given vector.\n\t*\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetCenter( result ) {\n\n\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\t/**\n\t* Computes the size (width, height, depth) of this AABB and stores it into the given vector.\n\t*\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetSize( result ) {\n\n\t\treturn result.subVectors( this.max, this.min );\n\n\t}\n\n\t/**\n\t* Returns true if the given AABB intersects this AABB.\n\t*\n\t* @param {AABB} aabb - The AABB to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsAABB( aabb ) {\n\n\t\treturn aabb.max.x < this.min.x || aabb.min.x > this.max.x ||\n\t\t\taabb.max.y < this.min.y || aabb.min.y > this.max.y ||\n\t\t\taabb.max.z < this.min.z || aabb.min.z > this.max.z ? false : true;\n\n\t}\n\n\t/**\n\t* Returns true if the given bounding sphere intersects this AABB.\n\t*\n\t* @param {BoundingSphere} sphere - The bounding sphere to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsBoundingSphere( sphere ) {\n\n\t\t// find the point on the AABB closest to the sphere center\n\n\t\tthis.clampPoint( sphere.center, vector );\n\n\t\t// if that point is inside the sphere, the AABB and sphere intersect.\n\n\t\treturn vector.squaredDistanceTo( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\t/**\n\t* Returns true if the given plane intersects this AABB.\n\t*\n\t* Reference: Testing Box Against Plane in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.2.3)\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\tconst normal = plane.normal;\n\n\t\tthis.getCenter( center$1 );\n\t\tsize$1.subVectors( this.max, center$1 ); // positive extends\n\n\t\t// compute the projection interval radius of b onto L(t) = c + t * plane.normal\n\n\t\tconst r = size$1.x * Math.abs( normal.x ) + size$1.y * Math.abs( normal.y ) + size$1.z * Math.abs( normal.z );\n\n\t\t// compute distance of box center from plane\n\n\t\tconst s = plane.distanceToPoint( center$1 );\n\n\t\treturn Math.abs( s ) <= r;\n\n\t}\n\n\t/**\n\t* Returns the normal for a given point on this AABB's surface.\n\t*\n\t* @param {Vector3} point - The point on the surface\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetNormalFromSurfacePoint( point, result ) {\n\n\t\t// from https://www.gamedev.net/forums/topic/551816-finding-the-aabb-surface-normal-from-an-intersection-point-on-aabb/\n\n\t\tresult.set( 0, 0, 0 );\n\n\t\tlet distance;\n\t\tlet minDistance = Infinity;\n\n\t\tthis.getCenter( center$1 );\n\t\tthis.getSize( size$1 );\n\n\t\t// transform point into local space of AABB\n\n\t\tvector.copy( point ).sub( center$1 );\n\n\t\t// x-axis\n\n\t\tdistance = Math.abs( size$1.x - Math.abs( vector.x ) );\n\n\t\tif ( distance < minDistance ) {\n\n\t\t\tminDistance = distance;\n\t\t\tresult.set( 1 * Math.sign( vector.x ), 0, 0 );\n\n\t\t}\n\n\t\t// y-axis\n\n\t\tdistance = Math.abs( size$1.y - Math.abs( vector.y ) );\n\n\t\tif ( distance < minDistance ) {\n\n\t\t\tminDistance = distance;\n\t\t\tresult.set( 0, 1 * Math.sign( vector.y ), 0 );\n\n\t\t}\n\n\t\t// z-axis\n\n\t\tdistance = Math.abs( size$1.z - Math.abs( vector.z ) );\n\n\t\tif ( distance < minDistance ) {\n\n\t\t\tresult.set( 0, 0, 1 * Math.sign( vector.z ) );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Sets the values of the AABB from the given center and size vector.\n\t*\n\t* @param {Vector3} center - The center point of the AABB.\n\t* @param {Vector3} size - The size of the AABB per axis.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tfromCenterAndSize( center, size ) {\n\n\t\tvector.copy( size ).multiplyScalar( 0.5 ); // compute half size\n\n\t\tthis.min.copy( center ).sub( vector );\n\t\tthis.max.copy( center ).add( vector );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes an AABB that encloses the given set of points.\n\t*\n\t* @param {Array<Vector3>} points - An array of 3D vectors representing points in 3D space.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tfromPoints( points ) {\n\n\t\tthis.min.set( Infinity, Infinity, Infinity );\n\t\tthis.max.set( - Infinity, - Infinity, - Infinity );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.expand( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this AABB with the given 4x4 transformation matrix.\n\t*\n\t* @param {Matrix4} matrix - The 4x4 transformation matrix.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tapplyMatrix4( matrix ) {\n\n\t\tconst min = this.min;\n\t\tconst max = this.max;\n\n\t\tpoints[ 0 ].set( min.x, min.y, min.z ).applyMatrix4( matrix );\n\t\tpoints[ 1 ].set( min.x, min.y, max.z ).applyMatrix4( matrix );\n\t\tpoints[ 2 ].set( min.x, max.y, min.z ).applyMatrix4( matrix );\n\t\tpoints[ 3 ].set( min.x, max.y, max.z ).applyMatrix4( matrix );\n\t\tpoints[ 4 ].set( max.x, min.y, min.z ).applyMatrix4( matrix );\n\t\tpoints[ 5 ].set( max.x, min.y, max.z ).applyMatrix4( matrix );\n\t\tpoints[ 6 ].set( max.x, max.y, min.z ).applyMatrix4( matrix );\n\t\tpoints[ 7 ].set( max.x, max.y, max.z ).applyMatrix4( matrix );\n\n\t\treturn this.fromPoints( points );\n\n\t}\n\n\t/**\n\t* Returns true if the given AABB is deep equal with this AABB.\n\t*\n\t* @param {AABB} aabb - The AABB to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( aabb ) {\n\n\t\treturn ( aabb.min.equals( this.min ) ) && ( aabb.max.equals( this.max ) );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tmin: this.min.toArray( new Array() ),\n\t\t\tmax: this.max.toArray( new Array() )\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {AABB} A reference to this AABB.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.min.fromArray( json.min );\n\t\tthis.max.fromArray( json.max );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst aabb$2 = new AABB();\n\n/**\n* Class representing a bounding sphere.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass BoundingSphere {\n\n\t/**\n\t* Constructs a new bounding sphere with the given values.\n\t*\n\t* @param {Vector3} center - The center position of the bounding sphere.\n\t* @param {Number} radius - The radius of the bounding sphere.\n\t*/\n\tconstructor( center = new Vector3(), radius = 0 ) {\n\n\t\t/**\n\t\t* The center position of the bounding sphere.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.center = center;\n\n\t\t/**\n\t\t* The radius of the bounding sphere.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.radius = radius;\n\n\t}\n\n\t/**\n\t* Sets the given values to this bounding sphere.\n\t*\n\t* @param {Vector3} center - The center position of the bounding sphere.\n\t* @param {Number} radius - The radius of the bounding sphere.\n\t* @return {BoundingSphere} A reference to this bounding sphere.\n\t*/\n\tset( center, radius ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given bounding sphere to this bounding sphere.\n\t*\n\t* @param {BoundingSphere} sphere - The bounding sphere to copy.\n\t* @return {BoundingSphere} A reference to this bounding sphere.\n\t*/\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new bounding sphere and copies all values from this bounding sphere.\n\t*\n\t* @return {BoundingSphere} A new bounding sphere.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Ensures the given point is inside this bounding sphere and stores\n\t* the result in the given vector.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tclampPoint( point, result ) {\n\n\t\tresult.copy( point );\n\n\t\tconst squaredDistance = this.center.squaredDistanceTo( point );\n\n\t\tif ( squaredDistance > ( this.radius * this.radius ) ) {\n\n\t\t\tresult.sub( this.center ).normalize();\n\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns true if the given point is inside this bounding sphere.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Boolean} The result of the containments test.\n\t*/\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.squaredDistanceTo( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\t/**\n\t* Returns true if the given bounding sphere intersects this bounding sphere.\n\t*\n\t* @param {BoundingSphere} sphere - The bounding sphere to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsBoundingSphere( sphere ) {\n\n\t\tconst radius = this.radius + sphere.radius;\n\n\t\treturn ( sphere.center.squaredDistanceTo( this.center ) <= ( radius * radius ) );\n\n\t}\n\n\t/**\n\t* Returns true if the given plane intersects this bounding sphere.\n\t*\n\t* Reference: Testing Sphere Against Plane in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.2.2)\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\t/**\n\t* Returns the normal for a given point on this bounding sphere's surface.\n\t*\n\t* @param {Vector3} point - The point on the surface\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetNormalFromSurfacePoint( point, result ) {\n\n\t\treturn result.subVectors( point, this.center ).normalize();\n\n\t}\n\n\t/**\n\t* Computes a bounding sphere that encloses the given set of points.\n\t*\n\t* @param {Array<Vector3>} points - An array of 3D vectors representing points in 3D space.\n\t* @return {BoundingSphere} A reference to this bounding sphere.\n\t*/\n\tfromPoints( points ) {\n\n\t\t// Using an AABB is a simple way to compute a bounding sphere for a given set\n\t\t// of points. However, there are other more complex algorithms that produce a\n\t\t// more tight bounding sphere. For now, this approach is a good start.\n\n\t\taabb$2.fromPoints( points );\n\n\t\taabb$2.getCenter( this.center );\n\t\tthis.radius = this.center.distanceTo( aabb$2.max );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this bounding sphere with the given 4x4 transformation matrix.\n\t*\n\t* @param {Matrix4} matrix - The 4x4 transformation matrix.\n\t* @return {BoundingSphere} A reference to this bounding sphere.\n\t*/\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScale();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if the given bounding sphere is deep equal with this bounding sphere.\n\t*\n\t* @param {BoundingSphere} sphere - The bounding sphere to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( sphere ) {\n\n\t\treturn ( sphere.center.equals( this.center ) ) && ( sphere.radius === this.radius );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tcenter: this.center.toArray( new Array() ),\n\t\t\tradius: this.radius\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {BoundingSphere} A reference to this bounding sphere.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.center.fromArray( json.center );\n\t\tthis.radius = json.radius;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst v1$3 = new Vector3();\nconst edge1 = new Vector3();\nconst edge2 = new Vector3();\nconst normal$1 = new Vector3();\nconst size = new Vector3();\nconst matrix = new Matrix4();\nconst inverse$1 = new Matrix4();\nconst aabb$1 = new AABB();\n\n/**\n* Class representing a ray in 3D space.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Ray {\n\n\t/**\n\t* Constructs a new ray with the given values.\n\t*\n\t* @param {Vector3} origin - The origin of the ray.\n\t* @param {Vector3} direction - The direction of the ray.\n\t*/\n\tconstructor( origin = new Vector3(), direction = new Vector3() ) {\n\n\t\t/**\n\t\t* The origin of the ray.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.origin = origin;\n\n\t\t/**\n\t\t* The direction of the ray.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.direction = direction;\n\n\t}\n\n\t/**\n\t* Sets the given values to this ray.\n\t*\n\t* @param {Vector3} origin - The origin of the ray.\n\t* @param {Vector3} direction - The direction of the ray.\n\t* @return {Ray} A reference to this ray.\n\t*/\n\tset( origin, direction ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given ray to this ray.\n\t*\n\t* @param {Ray} ray - The ray to copy.\n\t* @return {Ray} A reference to this ray.\n\t*/\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new ray and copies all values from this ray.\n\t*\n\t* @return {Ray} A new ray.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Computes a position on the ray according to the given t value\n\t* and stores the result in the given 3D vector. The t value has a range of\n\t* [0, Infinity] where 0 means the position is equal with the origin of the ray.\n\t*\n\t* @param {Number} t - A scalar value representing a position on the ray.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tat( t, result ) {\n\n\t\t// t has to be zero or positive\n\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\t/**\n\t* Performs a ray/sphere intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {BoundingSphere} sphere - A bounding sphere.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectBoundingSphere( sphere, result ) {\n\n\t\tv1$3.subVectors( sphere.center, this.origin );\n\t\tconst tca = v1$3.dot( this.direction );\n\t\tconst d2 = v1$3.dot( v1$3 ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\n\t\tif ( t0 < 0 ) return this.at( t1, result );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\n\t\treturn this.at( t0, result );\n\n\t}\n\n\t/**\n\t* Performs a ray/sphere intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {BoundingSphere} sphere - A bounding sphere.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsBoundingSphere( sphere ) {\n\n\t\tconst v1 = new Vector3();\n\t\tlet squaredDistanceToPoint;\n\n\t\tconst directionDistance = v1.subVectors( sphere.center, this.origin ).dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\t// sphere's center behind the ray\n\n\t\t\tsquaredDistanceToPoint = this.origin.squaredDistanceTo( sphere.center );\n\n\t\t} else {\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\tsquaredDistanceToPoint = v1.squaredDistanceTo( sphere.center );\n\n\t\t}\n\n\n\t\treturn squaredDistanceToPoint <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\t/**\n\t* Performs a ray/AABB intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {AABB} aabb - An AABB.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectAABB( aabb, result ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( aabb.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( aabb.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( aabb.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( aabb.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( aabb.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( aabb.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( aabb.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( aabb.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// these lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( aabb.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( aabb.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( aabb.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( aabb.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t// return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, result );\n\n\t}\n\n\t/**\n\t* Performs a ray/AABB intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {AABB} aabb - An axis-aligned bounding box.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsAABB( aabb ) {\n\n\t\treturn this.intersectAABB( aabb, v1$3 ) !== null;\n\n\t}\n\n\t/**\n\t* Performs a ray/plane intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {Plane} plane - A plane.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectPlane( plane, result ) {\n\n\t\tlet t;\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\t// ray is coplanar\n\n\t\t\t\tt = 0;\n\n\t\t\t} else {\n\n\t\t\t\t// ray is parallel, no intersection\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tt = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t}\n\n\t\t// there is no intersection if t is negative\n\n\t\treturn ( t >= 0 ) ? this.at( t, result ) : null;\n\n\t}\n\n\t/**\n\t* Performs a ray/plane intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {Plane} plane - A plane.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Performs a ray/OBB intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {OBB} obb - An orientend bounding box.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectOBB( obb, result ) {\n\n\t\t// the idea is to perform the intersection test in the local space\n\t\t// of the OBB.\n\n\t\tobb.getSize( size );\n\t\taabb$1.fromCenterAndSize( v1$3.set( 0, 0, 0 ), size );\n\n\t\tmatrix.fromMatrix3( obb.rotation );\n\t\tmatrix.setPosition( obb.center );\n\n\t\t// transform ray to the local space of the OBB\n\n\t\tlocalRay.copy( this ).applyMatrix4( matrix.getInverse( inverse$1 ) );\n\n\t\t// perform ray <-> AABB intersection test\n\n\t\tif ( localRay.intersectAABB( aabb$1, result ) ) {\n\n\t\t\t// transform the intersection point back to world space\n\n\t\t\treturn result.applyMatrix4( matrix );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Performs a ray/OBB intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {OBB} obb - An orientend bounding box.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsOBB( obb ) {\n\n\t\treturn this.intersectOBB( obb, v1$3 ) !== null;\n\n\t}\n\n\t/**\n\t* Performs a ray/convex hull intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t* The implementation is based on \"Fast Ray-Convex Polyhedron Intersection\"\n\t* by Eric Haines, GRAPHICS GEMS II\n\t*\n\t* @param {ConvexHull} convexHull - A convex hull.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectConvexHull( convexHull, result ) {\n\n\t\tconst faces = convexHull.faces;\n\n\t\tlet tNear = - Infinity;\n\t\tlet tFar = Infinity;\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\t\t\tconst plane = face.plane;\n\n\t\t\tconst vN = plane.distanceToPoint( this.origin );\n\t\t\tconst vD = plane.normal.dot( this.direction );\n\n\t\t\t// if the origin is on the positive side of a plane (so the plane can \"see\" the origin) and\n\t\t\t// the ray is turned away or parallel to the plane, there is no intersection\n\n\t\t\tif ( vN > 0 && vD >= 0 ) return null;\n\n\t\t\t// compute the distance from the ray’s origin to the intersection with the plane\n\n\t\t\tconst t = ( vD !== 0 ) ? ( - vN / vD ) : 0;\n\n\t\t\t// only proceed if the distance is positive. since the ray has a direction, the intersection point\n\t\t\t// would lie \"behind\" the origin with a negative distance\n\n\t\t\tif ( t <= 0 ) continue;\n\n\t\t\t// now categorized plane as front-facing or back-facing\n\n\t\t\tif ( vD > 0 ) {\n\n\t\t\t\t//  plane faces away from the ray, so this plane is a back-face\n\n\t\t\t\ttFar = Math.min( t, tFar );\n\n\t\t\t} else {\n\n\t\t\t\t// front-face\n\n\t\t\t\ttNear = Math.max( t, tNear );\n\n\t\t\t}\n\n\t\t\tif ( tNear > tFar ) {\n\n\t\t\t\t// if tNear ever is greater than tFar, the ray must miss the convex hull\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// evaluate intersection point\n\n\t\t// always try tNear first since its the closer intersection point\n\n\t\tif ( tNear !== - Infinity ) {\n\n\t\t\tthis.at( tNear, result );\n\n\t\t} else {\n\n\t\t\tthis.at( tFar, result );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Performs a ray/convex hull intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {ConvexHull} convexHull - A convex hull.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsConvexHull( convexHull ) {\n\n\t\treturn this.intersectConvexHull( convexHull, v1$3 ) !== null;\n\n\t}\n\n\t/**\n\t* Performs a ray/triangle intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {Triangle} triangle - A triangle.\n\t* @param {Boolean} backfaceCulling - Whether back face culling is active or not.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectTriangle( triangle, backfaceCulling, result ) {\n\n\t\t// reference: https://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\tconst a = triangle.a;\n\t\tconst b = triangle.b;\n\t\tconst c = triangle.c;\n\n\t\tedge1.subVectors( b, a );\n\t\tedge2.subVectors( c, a );\n\t\tnormal$1.crossVectors( edge1, edge2 );\n\n\t\tlet DdN = this.direction.dot( normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tv1$3.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( edge2.crossVectors( v1$3, edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( edge1.cross( v1$3 ) );\n\n\t\t// b2 < 0, no intersection\n\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1 + b2 > 1, no intersection\n\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// line intersects triangle, check if ray does\n\n\t\tconst QdN = - sign * v1$3.dot( normal$1 );\n\n\t\t// t < 0, no intersection\n\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// ray intersects triangle\n\n\t\treturn this.at( QdN / DdN, result );\n\n\t}\n\n\t/**\n\t* Performs a ray/BVH intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {BVH} bvh - A BVH.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectBVH( bvh, result ) {\n\n\t\treturn bvh.root.intersectRay( this, result );\n\n\t}\n\n\t/**\n\t* Performs a ray/BVH intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {BVH} bvh - A BVH.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsBVH( bvh ) {\n\n\t\treturn bvh.root.intersectsRay( this );\n\n\t}\n\n\t/**\n\t* Transforms this ray by the given 4x4 matrix.\n\t*\n\t* @param {Matrix4} m - The 4x4 matrix.\n\t* @return {Ray} A reference to this ray.\n\t*/\n\tapplyMatrix4( m ) {\n\n\t\tthis.origin.applyMatrix4( m );\n\t\tthis.direction.transformDirection( m );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if the given ray is deep equal with this ray.\n\t*\n\t* @param {Ray} ray - The ray to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n}\n\nconst localRay = new Ray();\n\nconst inverse = new Matrix4();\nconst localPositionOfObstacle = new Vector3();\nconst localPositionOfClosestObstacle = new Vector3();\nconst intersectionPoint$1 = new Vector3();\nconst boundingSphere$1 = new BoundingSphere();\n\nconst ray$1 = new Ray( new Vector3( 0, 0, 0 ), new Vector3( 0, 0, 1 ) );\n\n/**\n* This steering behavior produces a force so a vehicle avoids obstacles lying in its path.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n* @augments SteeringBehavior\n*/\nclass ObstacleAvoidanceBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new obstacle avoidance behavior.\n\t*\n\t* @param {Array<GameEntity>} obstacles - An Array with obstacle of type {@link GameEntity}.\n\t*/\n\tconstructor( obstacles = new Array() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* An Array with obstacle of type {@link GameEntity}.\n\t\t* @type {Array<GameEntity>}\n\t\t*/\n\t\tthis.obstacles = obstacles;\n\n\t\t/**\n\t\t* This factor determines how much the vehicle decelerates if an intersection occurs.\n\t\t* @type {Number}\n\t\t* @default 0.2\n\t\t*/\n\t\tthis.brakingWeight = 0.2;\n\n\t\t/**\n\t\t* Minimum length of the detection box used for intersection tests.\n\t\t* @type {Number}\n\t\t* @default 4\n\t\t*/\n\t\tthis.dBoxMinLength = 4; //\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst obstacles = this.obstacles;\n\n\t\t// this will keep track of the closest intersecting obstacle\n\n\t\tlet closestObstacle = null;\n\n\t\t// this will be used to track the distance to the closest obstacle\n\n\t\tlet distanceToClosestObstacle = Infinity;\n\n\t\t// the detection box length is proportional to the agent's velocity\n\n\t\tconst dBoxLength = this.dBoxMinLength + ( vehicle.getSpeed() / vehicle.maxSpeed ) * this.dBoxMinLength;\n\n\t\tvehicle.worldMatrix.getInverse( inverse );\n\n\t\tfor ( let i = 0, l = obstacles.length; i < l; i ++ ) {\n\n\t\t\tconst obstacle = obstacles[ i ];\n\n\t\t\tif ( obstacle === vehicle ) continue;\n\n\t\t\t// calculate this obstacle's position in local space of the vehicle\n\n\t\t\tlocalPositionOfObstacle.copy( obstacle.position ).applyMatrix4( inverse );\n\n\t\t\t// if the local position has a positive z value then it must lay behind the agent.\n\t\t\t// besides the absolute z value must be smaller than the length of the detection box\n\n\t\t\tif ( localPositionOfObstacle.z > 0 && Math.abs( localPositionOfObstacle.z ) < dBoxLength ) {\n\n\t\t\t\t// if the distance from the x axis to the object's position is less\n\t\t\t\t// than its radius + half the width of the detection box then there is a potential intersection\n\n\t\t\t\tconst expandedRadius = obstacle.boundingRadius + vehicle.boundingRadius;\n\n\t\t\t\tif ( Math.abs( localPositionOfObstacle.x ) < expandedRadius ) {\n\n\t\t\t\t\t// do intersection test in local space of the vehicle\n\n\t\t\t\t\tboundingSphere$1.center.copy( localPositionOfObstacle );\n\t\t\t\t\tboundingSphere$1.radius = expandedRadius;\n\n\t\t\t\t\tray$1.intersectBoundingSphere( boundingSphere$1, intersectionPoint$1 );\n\n\t\t\t\t\t// compare distances\n\n\t\t\t\t\tif ( intersectionPoint$1.z < distanceToClosestObstacle ) {\n\n\t\t\t\t\t\t// save new minimum distance\n\n\t\t\t\t\t\tdistanceToClosestObstacle = intersectionPoint$1.z;\n\n\t\t\t\t\t\t// save closest obstacle\n\n\t\t\t\t\t\tclosestObstacle = obstacle;\n\n\t\t\t\t\t\t// save local position for force calculation\n\n\t\t\t\t\t\tlocalPositionOfClosestObstacle.copy( localPositionOfObstacle );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if we have found an intersecting obstacle, calculate a steering force away from it\n\n\t\tif ( closestObstacle !== null ) {\n\n\t\t\t// the closer the agent is to an object, the stronger the steering force should be\n\n\t\t\tconst multiplier = 1 + ( ( dBoxLength - localPositionOfClosestObstacle.z ) / dBoxLength );\n\n\t\t\t// calculate the lateral force\n\n\t\t\tforce.x = ( closestObstacle.boundingRadius - localPositionOfClosestObstacle.x ) * multiplier;\n\n\t\t\t// apply a braking force proportional to the obstacles distance from the vehicle\n\n\t\t\tforce.z = ( closestObstacle.boundingRadius - localPositionOfClosestObstacle.z ) * this.brakingWeight;\n\n\t\t\t// finally, convert the steering vector from local to world space (just apply the rotation)\n\n\t\t\tforce.applyRotation( vehicle.rotation );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.obstacles = new Array();\n\t\tjson.brakingWeight = this.brakingWeight;\n\t\tjson.dBoxMinLength = this.dBoxMinLength;\n\n\t\t// obstacles\n\n\t\tfor ( let i = 0, l = this.obstacles.length; i < l; i ++ ) {\n\n\t\t\tjson.obstacles.push( this.obstacles[ i ].uuid );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {ObstacleAvoidanceBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.obstacles = json.obstacles;\n\t\tthis.brakingWeight = json.brakingWeight;\n\t\tthis.dBoxMinLength = json.dBoxMinLength;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {ObstacleAvoidanceBehavior} A reference to this behavior.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tconst obstacles = this.obstacles;\n\n\t\tfor ( let i = 0, l = obstacles.length; i < l; i ++ ) {\n\n\t\t\tobstacles[ i ] = entities.get( obstacles[ i ] );\n\n\t\t}\n\n\n\t}\n\n}\n\nconst offsetWorld = new Vector3();\nconst toOffset = new Vector3();\nconst newLeaderVelocity = new Vector3();\nconst predictedPosition$2 = new Vector3();\n\n/**\n* This steering behavior produces a force that keeps a vehicle at a specified offset from a leader vehicle.\n* Useful for creating formations.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass OffsetPursuitBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new offset pursuit behavior.\n\t*\n\t* @param {Vehicle} leader - The leader vehicle.\n\t* @param {Vector3} offset - The offset from the leader.\n\t*/\n\tconstructor( leader = null, offset = new Vector3() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The leader vehicle.\n\t\t* @type {?Vehicle}\n\t\t* @default null\n\t\t*/\n\t\tthis.leader = leader;\n\n\t\t/**\n\t\t* The offset from the leader.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.offset = offset;\n\n\t\t// internal behaviors\n\n\t\tthis._arrive = new ArriveBehavior();\n\t\tthis._arrive.deceleration = 1.5;\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst leader = this.leader;\n\t\tconst offset = this.offset;\n\n\t\t// calculate the offset's position in world space\n\n\t\toffsetWorld.copy( offset ).applyMatrix4( leader.worldMatrix );\n\n\t\t// calculate the vector that points from the vehicle to the offset position\n\n\t\ttoOffset.subVectors( offsetWorld, vehicle.position );\n\n\t\t// the lookahead time is proportional to the distance between the leader\n\t\t// and the pursuer and is inversely proportional to the sum of both\n\t\t// agent's velocities\n\n\t\tconst lookAheadTime = toOffset.length() / ( vehicle.maxSpeed + leader.getSpeed() );\n\n\t\t// calculate new velocity and predicted future position\n\n\t\tnewLeaderVelocity.copy( leader.velocity ).multiplyScalar( lookAheadTime );\n\n\t\tpredictedPosition$2.addVectors( offsetWorld, newLeaderVelocity );\n\n\t\t// now arrive at the predicted future position of the offset\n\n\t\tthis._arrive.target = predictedPosition$2;\n\t\tthis._arrive.calculate( vehicle, force );\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.leader = this.leader ? this.leader.uuid : null;\n\t\tjson.offset = this.offset;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {OffsetPursuitBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.leader = json.leader;\n\t\tthis.offset = json.offset;\n\n\t\treturn this;\n\n\t}\n\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {OffsetPursuitBehavior} A reference to this behavior.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.leader = entities.get( this.leader ) || null;\n\n\t}\n\n}\n\nconst displacement$1 = new Vector3();\nconst vehicleDirection = new Vector3();\nconst evaderDirection = new Vector3();\nconst newEvaderVelocity = new Vector3();\nconst predictedPosition$1 = new Vector3();\n\n/**\n* This steering behavior is useful when an agent is required to intercept a moving agent.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass PursuitBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new pursuit behavior.\n\t*\n\t* @param {MovingEntity} evader - The agent to pursue.\n\t* @param {Number} predictionFactor - This factor determines how far the vehicle predicts the movement of the evader.\n\t*/\n\tconstructor( evader = null, predictionFactor = 1 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The agent to pursue.\n\t\t* @type {?MovingEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.evader = evader;\n\n\t\t/**\n\t\t* This factor determines how far the vehicle predicts the movement of the evader.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.predictionFactor = predictionFactor;\n\n\t\t// internal behaviors\n\n\t\tthis._seek = new SeekBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst evader = this.evader;\n\n\t\tdisplacement$1.subVectors( evader.position, vehicle.position );\n\n\t\t// 1. if the evader is ahead and facing the agent then we can just seek for the evader's current position\n\n\t\tvehicle.getDirection( vehicleDirection );\n\t\tevader.getDirection( evaderDirection );\n\n\t\t// first condition: evader must be in front of the pursuer\n\n\t\tconst evaderAhead = displacement$1.dot( vehicleDirection ) > 0;\n\n\t\t// second condition: evader must almost directly facing the agent\n\n\t\tconst facing = vehicleDirection.dot( evaderDirection ) < - 0.95;\n\n\t\tif ( evaderAhead === true && facing === true ) {\n\n\t\t\tthis._seek.target = evader.position;\n\t\t\tthis._seek.calculate( vehicle, force );\n\t\t\treturn force;\n\n\t\t}\n\n\t\t// 2. evader not considered ahead so we predict where the evader will be\n\n\t\t// the lookahead time is proportional to the distance between the evader\n\t\t// and the pursuer. and is inversely proportional to the sum of the\n\t\t// agent's velocities\n\n\t\tlet lookAheadTime = displacement$1.length() / ( vehicle.maxSpeed + evader.getSpeed() );\n\t\tlookAheadTime *= this.predictionFactor; // tweak the magnitude of the prediction\n\n\t\t// calculate new velocity and predicted future position\n\n\t\tnewEvaderVelocity.copy( evader.velocity ).multiplyScalar( lookAheadTime );\n\t\tpredictedPosition$1.addVectors( evader.position, newEvaderVelocity );\n\n\t\t// now seek to the predicted future position of the evader\n\n\t\tthis._seek.target = predictedPosition$1;\n\t\tthis._seek.calculate( vehicle, force );\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.evader = this.evader ? this.evader.uuid : null;\n\t\tjson.predictionFactor = this.predictionFactor;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {PursuitBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.evader = json.evader;\n\t\tthis.predictionFactor = json.predictionFactor;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {PursuitBehavior} A reference to this behavior.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.evader = entities.get( this.evader ) || null;\n\n\t}\n\n}\n\nconst toAgent = new Vector3();\n\n/**\n* This steering produces a force that steers a vehicle away from those in its neighborhood region.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass SeparationBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new separation behavior.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst neighbors = vehicle.neighbors;\n\n\t\tfor ( let i = 0, l = neighbors.length; i < l; i ++ ) {\n\n\t\t\tconst neighbor = neighbors[ i ];\n\n\t\t\ttoAgent.subVectors( vehicle.position, neighbor.position );\n\n\t\t\tlet length = toAgent.length();\n\n\t\t\t// handle zero length if both vehicles have the same position\n\n\t\t\tif ( length === 0 ) length = 0.0001;\n\n\t\t\t// scale the force inversely proportional to the agents distance from its neighbor\n\n\t\t\ttoAgent.normalize().divideScalar( length );\n\n\t\t\tforce.add( toAgent );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n}\n\nconst targetWorld = new Vector3();\nconst randomDisplacement = new Vector3();\n\n/**\n* This steering behavior produces a steering force that will give the\n* impression of a random walk through the agent’s environment. The behavior only\n* produces a 2D force (XZ).\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass WanderBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new wander behavior.\n\t*\n\t* @param {Number} radius - The radius of the wander circle for the wander behavior.\n\t* @param {Number} distance - The distance the wander circle is projected in front of the agent.\n\t* @param {Number} jitter - The maximum amount of displacement along the sphere each frame.\n\t*/\n\tconstructor( radius = 1, distance = 5, jitter = 5 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The radius of the constraining circle for the wander behavior.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.radius = radius;\n\n\t\t/**\n\t\t* The distance the wander sphere is projected in front of the agent.\n\t\t* @type {Number}\n\t\t* @default 5\n\t\t*/\n\t\tthis.distance = distance;\n\n\t\t/**\n\t\t* The maximum amount of displacement along the sphere each frame.\n\t\t* @type {Number}\n\t\t* @default 5\n\t\t*/\n\t\tthis.jitter = jitter;\n\n\t\tthis._targetLocal = new Vector3();\n\n\t\tgenerateRandomPointOnCircle( this.radius, this._targetLocal );\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force, delta ) {\n\n\t\t// this behavior is dependent on the update rate, so this line must be\n\t\t// included when using time independent frame rate\n\n\t\tconst jitterThisTimeSlice = this.jitter * delta;\n\n\t\t// prepare random vector\n\n\t\trandomDisplacement.x = MathUtils.randFloat( - 1, 1 ) * jitterThisTimeSlice;\n\t\trandomDisplacement.z = MathUtils.randFloat( - 1, 1 ) * jitterThisTimeSlice;\n\n\t\t// add random vector to the target's position\n\n\t\tthis._targetLocal.add( randomDisplacement );\n\n\t\t// re-project this new vector back onto a unit sphere\n\n\t\tthis._targetLocal.normalize();\n\n\t\t// increase the length of the vector to the same as the radius of the wander sphere\n\n\t\tthis._targetLocal.multiplyScalar( this.radius );\n\n\t\t// move the target into a position wanderDist in front of the agent\n\n\t\ttargetWorld.copy( this._targetLocal );\n\t\ttargetWorld.z += this.distance;\n\n\t\t// project the target into world space\n\n\t\ttargetWorld.applyMatrix4( vehicle.worldMatrix );\n\n\t\t// and steer towards it\n\n\t\tforce.subVectors( targetWorld, vehicle.position );\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.radius = this.radius;\n\t\tjson.distance = this.distance;\n\t\tjson.jitter = this.jitter;\n\t\tjson._targetLocal = this._targetLocal.toArray( new Array() );\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {WanderBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.radius = json.radius;\n\t\tthis.distance = json.distance;\n\t\tthis.jitter = json.jitter;\n\t\tthis._targetLocal.fromArray( json._targetLocal );\n\n\t\treturn this;\n\n\t}\n\n}\n\n//\n\nfunction generateRandomPointOnCircle( radius, target ) {\n\n\tconst theta = Math.random() * Math.PI * 2;\n\n\ttarget.x = radius * Math.cos( theta );\n\ttarget.z = radius * Math.sin( theta );\n\n}\n\nconst force = new Vector3();\n\n/**\n* This class is responsible for managing the steering of a single vehicle. The steering manager\n* can manage multiple steering behaviors and combine their produced force into a single one used\n* by the vehicle.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass SteeringManager {\n\n\t/**\n\t* Constructs a new steering manager.\n\t*\n\t* @param {Vehicle} vehicle - The vehicle that owns this steering manager.\n\t*/\n\tconstructor( vehicle ) {\n\n\t\t/**\n\t\t* The vehicle that owns this steering manager.\n\t\t* @type {Vehicle}\n\t\t*/\n\t\tthis.vehicle = vehicle;\n\n\t\t/**\n\t\t* A list of all steering behaviors.\n\t\t* @type {Array<SteeringBehavior>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.behaviors = new Array();\n\n\t\tthis._steeringForce = new Vector3(); // the calculated steering force per simulation step\n\t\tthis._typesMap = new Map(); // used for deserialization of custom behaviors\n\n\t}\n\n\t/**\n\t* Adds the given steering behavior to this steering manager.\n\t*\n\t* @param {SteeringBehavior} behavior - The steering behavior to add.\n\t* @return {SteeringManager} A reference to this steering manager.\n\t*/\n\tadd( behavior ) {\n\n\t\tthis.behaviors.push( behavior );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes the given steering behavior from this steering manager.\n\t*\n\t* @param {SteeringBehavior} behavior - The steering behavior to remove.\n\t* @return {SteeringManager} A reference to this steering manager.\n\t*/\n\tremove( behavior ) {\n\n\t\tconst index = this.behaviors.indexOf( behavior );\n\t\tthis.behaviors.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the internal state of this steering manager.\n\t*\n\t* @return {SteeringManager} A reference to this steering manager.\n\t*/\n\tclear() {\n\n\t\tthis.behaviors.length = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Calculates the steering forces for all active steering behaviors and\n\t* combines it into a single result force. This method is called in\n\t* {@link Vehicle#update}.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @param {Vector3} result - The force/result vector.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( delta, result ) {\n\n\t\tthis._calculateByOrder( delta );\n\n\t\treturn result.copy( this._steeringForce );\n\n\t}\n\n\t// this method calculates how much of its max steering force the vehicle has\n\t// left to apply and then applies that amount of the force to add\n\n\t_accumulate( forceToAdd ) {\n\n\t\t// calculate how much steering force the vehicle has used so far\n\n\t\tconst magnitudeSoFar = this._steeringForce.length();\n\n\t\t// calculate how much steering force remains to be used by this vehicle\n\n\t\tconst magnitudeRemaining = this.vehicle.maxForce - magnitudeSoFar;\n\n\t\t// return false if there is no more force left to use\n\n\t\tif ( magnitudeRemaining <= 0 ) return false;\n\n\t\t// calculate the magnitude of the force we want to add\n\n\t\tconst magnitudeToAdd = forceToAdd.length();\n\n\t\t// restrict the magnitude of forceToAdd, so we don't exceed the max force of the vehicle\n\n\t\tif ( magnitudeToAdd > magnitudeRemaining ) {\n\n\t\t\tforceToAdd.normalize().multiplyScalar( magnitudeRemaining );\n\n\t\t}\n\n\t\t// add force\n\n\t\tthis._steeringForce.add( forceToAdd );\n\n\t\treturn true;\n\n\t}\n\n\t_calculateByOrder( delta ) {\n\n\t\tconst behaviors = this.behaviors;\n\n\t\t// reset steering force\n\n\t\tthis._steeringForce.set( 0, 0, 0 );\n\n\t\t// calculate for each behavior the respective force\n\n\t\tfor ( let i = 0, l = behaviors.length; i < l; i ++ ) {\n\n\t\t\tconst behavior = behaviors[ i ];\n\n\t\t\tif ( behavior.active === true ) {\n\n\t\t\t\tforce.set( 0, 0, 0 );\n\n\t\t\t\tbehavior.calculate( this.vehicle, force, delta );\n\n\t\t\t\tforce.multiplyScalar( behavior.weight );\n\n\t\t\t\tif ( this._accumulate( force ) === false ) return;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\ttype: 'SteeringManager',\n\t\t\tbehaviors: new Array()\n\t\t};\n\n\t\tconst behaviors = this.behaviors;\n\n\t\tfor ( let i = 0, l = behaviors.length; i < l; i ++ ) {\n\n\t\t\tconst behavior = behaviors[ i ];\n\t\t\tdata.behaviors.push( behavior.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {SteeringManager} A reference to this steering manager.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.clear();\n\n\t\tconst behaviorsJSON = json.behaviors;\n\n\t\tfor ( let i = 0, l = behaviorsJSON.length; i < l; i ++ ) {\n\n\t\t\tconst behaviorJSON = behaviorsJSON[ i ];\n\t\t\tconst type = behaviorJSON.type;\n\n\t\t\tlet behavior;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'SteeringBehavior':\n\t\t\t\t\tbehavior = new SteeringBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AlignmentBehavior':\n\t\t\t\t\tbehavior = new AlignmentBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ArriveBehavior':\n\t\t\t\t\tbehavior = new ArriveBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'CohesionBehavior':\n\t\t\t\t\tbehavior = new CohesionBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EvadeBehavior':\n\t\t\t\t\tbehavior = new EvadeBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'FleeBehavior':\n\t\t\t\t\tbehavior = new FleeBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'FollowPathBehavior':\n\t\t\t\t\tbehavior = new FollowPathBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'InterposeBehavior':\n\t\t\t\t\tbehavior = new InterposeBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ObstacleAvoidanceBehavior':\n\t\t\t\t\tbehavior = new ObstacleAvoidanceBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OffsetPursuitBehavior':\n\t\t\t\t\tbehavior = new OffsetPursuitBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PursuitBehavior':\n\t\t\t\t\tbehavior = new PursuitBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SeekBehavior':\n\t\t\t\t\tbehavior = new SeekBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SeparationBehavior':\n\t\t\t\t\tbehavior = new SeparationBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WanderBehavior':\n\t\t\t\t\tbehavior = new WanderBehavior().fromJSON( behaviorJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\t// handle custom type\n\n\t\t\t\t\tconst ctor = this._typesMap.get( type );\n\n\t\t\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\t\t\tbehavior = new ctor().fromJSON( behaviorJSON );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tLogger.warn( 'YUKA.SteeringManager: Unsupported steering behavior type:', type );\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.add( behavior );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Registers a custom type for deserialization. When calling {@link SteeringManager#fromJSON}\n\t * the steering manager is able to pick the correct constructor in order to create custom\n\t * steering behavior.\n\t *\n\t * @param {String} type - The name of the behavior type.\n\t * @param {Function} constructor - The constructor function.\n\t * @return {SteeringManager} A reference to this steering manager.\n\t */\n\tregisterType( type, constructor ) {\n\n\t\tthis._typesMap.set( type, constructor );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {SteeringManager} A reference to this steering manager.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tconst behaviors = this.behaviors;\n\n\t\tfor ( let i = 0, l = behaviors.length; i < l; i ++ ) {\n\n\t\t\tconst behavior = behaviors[ i ];\n\t\t\tbehavior.resolveReferences( entities );\n\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* This class can be used to smooth the result of a vector calculation. One use case\n* is the smoothing of the velocity vector of game entities in order to avoid a shaky\n* movements due to conflicting forces.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass Smoother {\n\n\t/**\n\t* Constructs a new smoother.\n\t*\n\t* @param {Number} count - The amount of samples the smoother will use to average a vector.\n\t*/\n\tconstructor( count = 10 ) {\n\n\t\t/**\n\t\t* The amount of samples the smoother will use to average a vector.\n\t\t* @type {Number}\n\t\t* @default 10\n\t\t*/\n\t\tthis.count = count;\n\n\t\tthis._history = new Array(); // this holds the history\n\t\tthis._slot = 0; // the current sample slot\n\n\t\t// initialize history with Vector3s\n\n\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\tthis._history[ i ] = new Vector3();\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Calculates for the given value a smooth average.\n\t*\n\t* @param {Vector3} value - The value to smooth.\n\t* @param {Vector3} average - The calculated average.\n\t* @return {Vector3} The calculated average.\n\t*/\n\tcalculate( value, average ) {\n\n\t\t// ensure, average is a zero vector\n\n\t\taverage.set( 0, 0, 0 );\n\n\t\t// make sure the slot index wraps around\n\n\t\tif ( this._slot === this.count ) {\n\n\t\t\tthis._slot = 0;\n\n\t\t}\n\n\t\t// overwrite the oldest value with the newest\n\n\t\tthis._history[ this._slot ].copy( value );\n\n\t\t// increase slot index\n\n\t\tthis._slot ++;\n\n\t\t// now calculate the average of the history array\n\n\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\taverage.add( this._history[ i ] );\n\n\t\t}\n\n\t\taverage.divideScalar( this.count );\n\n\t\treturn average;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\ttype: this.constructor.name,\n\t\t\tcount: this.count,\n\t\t\t_history: new Array(),\n\t\t\t_slot: this._slot\n\t\t};\n\n\t\t// history\n\n\t\tconst history = this._history;\n\n\t\tfor ( let i = 0, l = history.length; i < l; i ++ ) {\n\n\t\t\tconst value = history[ i ];\n\t\t\tdata._history.push( value.toArray( new Array() ) );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Smoother} A reference to this smoother.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.count = json.count;\n\t\tthis._slot = json._slot;\n\n\t\t// history\n\n\t\tconst historyJSON = json._history;\n\t\tthis._history.length = 0;\n\n\t\tfor ( let i = 0, l = historyJSON.length; i < l; i ++ ) {\n\n\t\t\tconst valueJSON = historyJSON[ i ];\n\t\t\tthis._history.push( new Vector3().fromArray( valueJSON ) );\n\n\t\t}\n\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst steeringForce = new Vector3();\nconst displacement = new Vector3();\nconst acceleration = new Vector3();\nconst target = new Vector3();\nconst velocitySmooth = new Vector3();\n\n/**\n* This type of game entity implements a special type of locomotion, the so called\n* *Vehicle Model*. The class uses basic physical metrics in order to implement a\n* realistic movement.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n* @augments MovingEntity\n*/\nclass Vehicle extends MovingEntity {\n\n\t/**\n\t* Constructs a new vehicle.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The mass of the vehicle in kilogram.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.mass = 1;\n\n\t\t/**\n\t\t* The maximum force this entity can produce to power itself.\n\t\t* @type {Number}\n\t\t* @default 100\n\t\t*/\n\t\tthis.maxForce = 100;\n\n\t\t/**\n\t\t* The steering manager of this vehicle.\n\t\t* @type {SteeringManager}\n\t\t*/\n\t\tthis.steering = new SteeringManager( this );\n\n\t\t/**\n\t\t* An optional smoother to avoid shakiness due to conflicting steering behaviors.\n\t\t* @type {?Smoother}\n\t\t* @default null\n\t\t*/\n\t\tthis.smoother = null;\n\n\t}\n\n\t/**\n\t* This method is responsible for updating the position based on the force produced\n\t* by the internal steering manager.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @return {Vehicle} A reference to this vehicle.\n\t*/\n\tupdate( delta ) {\n\n\t\t// calculate steering force\n\n\t\tthis.steering.calculate( delta, steeringForce );\n\n\t\t// acceleration = force / mass\n\n\t\tacceleration.copy( steeringForce ).divideScalar( this.mass );\n\n\t\t// update velocity\n\n\t\tthis.velocity.add( acceleration.multiplyScalar( delta ) );\n\n\t\t// make sure vehicle does not exceed maximum speed\n\n\t\tif ( this.getSpeedSquared() > ( this.maxSpeed * this.maxSpeed ) ) {\n\n\t\t\tthis.velocity.normalize();\n\t\t\tthis.velocity.multiplyScalar( this.maxSpeed );\n\n\t\t}\n\n\t\t// calculate displacement\n\n\t\tdisplacement.copy( this.velocity ).multiplyScalar( delta );\n\n\t\t// calculate target position\n\n\t\ttarget.copy( this.position ).add( displacement );\n\n\t\t// update the orientation if the vehicle has a non zero velocity\n\n\t\tif ( this.updateOrientation === true && this.smoother === null && this.getSpeedSquared() > 0.00000001 ) {\n\n\t\t\tthis.lookAt( target );\n\n\t\t}\n\n\t\t// update position\n\n\t\tthis.position.copy( target );\n\n\t\t// if smoothing is enabled, the orientation (not the position!) of the vehicle is\n\t\t// changed based on a post-processed velocity vector\n\n\t\tif ( this.updateOrientation === true && this.smoother !== null ) {\n\n\t\t\tthis.smoother.calculate( this.velocity, velocitySmooth );\n\n\t\t\tdisplacement.copy( velocitySmooth ).multiplyScalar( delta );\n\t\t\ttarget.copy( this.position ).add( displacement );\n\n\t\t\tthis.lookAt( target );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.mass = this.mass;\n\t\tjson.maxForce = this.maxForce;\n\t\tjson.steering = this.steering.toJSON();\n\t\tjson.smoother = this.smoother ? this.smoother.toJSON() : null;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Vehicle} A reference to this vehicle.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.mass = json.mass;\n\t\tthis.maxForce = json.maxForce;\n\t\tthis.steering = new SteeringManager( this ).fromJSON( json.steering );\n\t\tthis.smoother = json.smoother ? new Smoother().fromJSON( json.smoother ) : null;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {Vehicle} A reference to this vehicle.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tsuper.resolveReferences( entities );\n\n\t\tthis.steering.resolveReferences( entities );\n\n\t}\n\n}\n\n/**\n* Base class for representing trigger regions. It's a predefine region in 3D space,\n* owned by one or more triggers. The shape of the trigger can be arbitrary.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass TriggerRegion {\n\n\t/**\n\t* Returns true if the bounding volume of the given game entity touches/intersects\n\t* the trigger region. Must be implemented by all concrete trigger regions.\n\t*\n\t* @param {GameEntity} entity - The entity to test.\n\t* @return {Boolean} Whether this trigger touches the given game entity or not.\n\t*/\n\ttouching( /* entity */ ) {\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Updates this trigger region. Must be implemented by all concrete trigger regions.\n\t*\n\t* @param {Trigger} trigger - The trigger that owns this region.\n\t* @return {TriggerRegion} A reference to this trigger region.\n\t*/\n\tupdate( /* trigger */ ) {\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {TriggerRegion} A reference to this trigger region.\n\t*/\n\tfromJSON( /* json */ ) {\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst boundingSphereEntity$1 = new BoundingSphere();\nconst center = new Vector3();\n\n/**\n* Class for representing a rectangular trigger region as an AABB.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments TriggerRegion\n*/\nclass RectangularTriggerRegion extends TriggerRegion {\n\n\t/**\n\t* Constructs a new rectangular trigger region with the given values.\n\t*\n\t* @param {Vector3} size - The size of the region.\n\t*/\n\tconstructor( size = new Vector3() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The size of the region.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.size = size;\n\n\t\tthis._aabb = new AABB();\n\n\t}\n\n\t/**\n\t* Returns true if the bounding volume of the given game entity touches/intersects\n\t* the trigger region.\n\t*\n\t* @param {GameEntity} entity - The entity to test.\n\t* @return {Boolean} Whether this trigger touches the given game entity or not.\n\t*/\n\ttouching( entity ) {\n\n\t\tboundingSphereEntity$1.set( entity.position, entity.boundingRadius );\n\n\t\treturn this._aabb.intersectsBoundingSphere( boundingSphereEntity$1 );\n\n\t}\n\n\t/**\n\t* Updates this trigger region.\n\t*\n\t* @param {Trigger} trigger - The trigger that owns this region.\n\t* @return {RectangularTriggerRegion} A reference to this trigger region.\n\t*/\n\tupdate( trigger ) {\n\n\t\ttrigger.getWorldPosition( center );\n\n\t\tthis._aabb.fromCenterAndSize( center, this.size );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.size = this.size.toArray( new Array() );\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {RectangularTriggerRegion} A reference to this trigger region.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.size.fromArray( json.size );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst boundingSphereEntity = new BoundingSphere();\n\n/**\n* Class for representing a spherical trigger region as a bounding sphere.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments TriggerRegion\n*/\nclass SphericalTriggerRegion extends TriggerRegion {\n\n\t/**\n\t* Constructs a new spherical trigger region.\n\t*\n\t* @param {Number} radius - The radius of the region.\n\t*/\n\tconstructor( radius = 0 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The radius of the region.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.radius = radius;\n\n\t\t//\n\n\t\tthis._boundingSphere = new BoundingSphere();\n\n\t}\n\n\t/**\n\t* Returns true if the bounding volume of the given game entity touches/intersects\n\t* the trigger region.\n\t*\n\t* @param {GameEntity} entity - The entity to test.\n\t* @return {Boolean} Whether this trigger touches the given game entity or not.\n\t*/\n\ttouching( entity ) {\n\n\t\tentity.getWorldPosition( boundingSphereEntity.center );\n\t\tboundingSphereEntity.radius = entity.boundingRadius;\n\n\t\treturn this._boundingSphere.intersectsBoundingSphere( boundingSphereEntity );\n\n\t}\n\n\t/**\n\t* Updates this trigger region.\n\t*\n\t* @param {Trigger} trigger - The trigger that owns this region.\n\t* @return {SphericalTriggerRegion} A reference to this trigger region.\n\t*/\n\tupdate( trigger ) {\n\n\t\ttrigger.getWorldPosition( this._boundingSphere.center );\n\t\tthis._boundingSphere.radius = this.radius;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.radius = this.radius;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {SphericalTriggerRegion} A reference to this trigger region.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.radius = json.radius;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for representing triggers. A trigger generates an action if a game entity\n* touches its trigger region, a predefine area in 3D space.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments GameEntity\n*/\nclass Trigger extends GameEntity {\n\n\t/**\n\t* Constructs a new trigger with the given values.\n\t*\n\t* @param {TriggerRegion} region - The region of the trigger.\n\t*/\n\tconstructor( region = new TriggerRegion() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The region of the trigger.\n\t\t* @type {TriggerRegion}\n\t\t*/\n\t\tthis.region = region;\n\n\t\t//\n\n\t\tthis.canActivateTrigger = false; // triggers can't activate other triggers by default\n\n\t\tthis._typesMap = new Map(); // used for deserialization of custom trigger regions\n\n\t}\n\n\t/**\n\t* This method is called per simulation step for all game entities. If the game\n\t* entity touches the region of the trigger, the respective action is executed.\n\t*\n\t* @param {GameEntity} entity - The entity to test\n\t* @return {Trigger} A reference to this trigger.\n\t*/\n\tcheck( entity ) {\n\n\t\tif ( this.region.touching( entity ) === true ) {\n\n\t\t\tthis.execute( entity );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* This method is called when the trigger should execute its action.\n\t* Must be implemented by all concrete triggers.\n\t*\n\t* @param {GameEntity} entity - The entity that touched the trigger region.\n\t* @return {Trigger} A reference to this trigger.\n\t*/\n\texecute( /* entity */ ) {}\n\n\t/**\n\t* Updates the region of this trigger. Called by the {@link EntityManager} per\n\t* simulation step.\n\t*\n\t* @return {Trigger} A reference to this trigger.\n\t*/\n\tupdateRegion() {\n\n\t\tthis.region.update( this );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.region = this.region.toJSON();\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Trigger} A reference to this trigger.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tconst regionJSON = json.region;\n\t\tlet type = regionJSON.type;\n\n\t\tswitch ( type ) {\n\n\t\t\tcase 'TriggerRegion':\n\t\t\t\tthis.region = new TriggerRegion().fromJSON( regionJSON );\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectangularTriggerRegion':\n\t\t\t\tthis.region = new RectangularTriggerRegion().fromJSON( regionJSON );\n\t\t\t\tbreak;\n\n\t\t\tcase 'SphericalTriggerRegion':\n\t\t\t\tthis.region = new SphericalTriggerRegion().fromJSON( regionJSON );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// handle custom type\n\n\t\t\t\tconst ctor = this._typesMap.get( type );\n\n\t\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\t\tthis.region = new ctor().fromJSON( regionJSON );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tLogger.warn( 'YUKA.Trigger: Unsupported trigger region type:', regionJSON.type );\n\n\t\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Registers a custom type for deserialization. When calling {@link Trigger#fromJSON}\n\t * the trigger is able to pick the correct constructor in order to create custom\n\t * trigger regions.\n\t *\n\t * @param {String} type - The name of the trigger region.\n\t * @param {Function} constructor - The constructor function.\n\t * @return {Trigger} A reference to this trigger.\n\t */\n\tregisterType( type, constructor ) {\n\n\t\tthis._typesMap.set( type, constructor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst candidates = new Array();\n\n/**\n* This class is used for managing all central objects of a game like\n* game entities.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass EntityManager {\n\n\t/**\n\t* Constructs a new entity manager.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* A list of {@link GameEntity game entities}.\n\t\t* @type {Array<GameEntity>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.entities = new Array();\n\n\t\t/**\n\t\t* A reference to a spatial index.\n\t\t* @type {?CellSpacePartitioning}\n\t\t* @default null\n\t\t*/\n\t\tthis.spatialIndex = null;\n\n\t\tthis._triggers = new Array(); // used to manage triggers\n\t\tthis._indexMap = new Map(); // used by spatial indices\n\t\tthis._typesMap = new Map(); // used for deserialization of custom entities\n\t\tthis._messageDispatcher = new MessageDispatcher();\n\n\t}\n\n\t/**\n\t* Adds a game entity to this entity manager.\n\t*\n\t* @param {GameEntity} entity - The game entity to add.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tadd( entity ) {\n\n\t\tthis.entities.push( entity );\n\n\t\tentity.manager = this;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes a game entity from this entity manager.\n\t*\n\t* @param {GameEntity} entity - The game entity to remove.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tremove( entity ) {\n\n\t\tconst index = this.entities.indexOf( entity );\n\t\tthis.entities.splice( index, 1 );\n\n\t\tentity.manager = null;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the internal state of this entity manager.\n\t*\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tclear() {\n\n\t\tthis.entities.length = 0;\n\n\t\tthis._messageDispatcher.clear();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns an entity by the given name. If no game entity is found, *null*\n\t* is returned. This method should be used once (e.g. at {@link GameEntity#start})\n\t* and the result should be cached for later use.\n\t*\n\t* @param {String} name - The name of the game entity.\n\t* @return {GameEntity} The found game entity.\n\t*/\n\tgetEntityByName( name ) {\n\n\t\tconst entities = this.entities;\n\n\t\tfor ( let i = 0, l = entities.length; i < l; i ++ ) {\n\n\t\t\tconst entity = entities[ i ];\n\n\t\t\tif ( entity.name === name ) return entity;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t* The central update method of this entity manager. Updates all\n\t* game entities and delayed messages.\n\t*\n\t* @param {Number} delta - The time delta.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tupdate( delta ) {\n\n\t\tconst entities = this.entities;\n\t\tconst triggers = this._triggers;\n\n\t\t// update entities\n\n\t\tfor ( let i = ( entities.length - 1 ); i >= 0; i -- ) {\n\n\t\t\tconst entity = entities[ i ];\n\n\t\t\tthis.updateEntity( entity, delta );\n\n\t\t}\n\n\t\t// process triggers (this is done after the entity update to ensure\n\t\t// up-to-date world matries)\n\n\t\tfor ( let i = ( triggers.length - 1 ); i >= 0; i -- ) {\n\n\t\t\tconst trigger = triggers[ i ];\n\n\t\t\tthis.processTrigger( trigger );\n\n\t\t}\n\n\t\tthis._triggers.length = 0; // reset\n\n\t\t// handle messaging\n\n\t\tthis._messageDispatcher.dispatchDelayedMessages( delta );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates a single entity.\n\t*\n\t* @param {GameEntity} entity - The game entity to update.\n\t* @param {Number} delta - The time delta.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tupdateEntity( entity, delta ) {\n\n\t\tif ( entity.active === true ) {\n\n\t\t\tthis.updateNeighborhood( entity );\n\n\t\t\t// check if start() should be executed\n\n\t\t\tif ( entity._started === false ) {\n\n\t\t\t\tentity.start();\n\n\t\t\t\tentity._started = true;\n\n\t\t\t}\n\n\t\t\t// update entity\n\n\t\t\tentity.update( delta );\n\n\t\t\t// update children\n\n\t\t\tconst children = entity.children;\n\n\t\t\tfor ( let i = ( children.length - 1 ); i >= 0; i -- ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tthis.updateEntity( child, delta );\n\n\t\t\t}\n\n\t\t\t// if the entity is a trigger, save the reference for further processing\n\n\t\t\tif ( entity instanceof Trigger ) {\n\n\t\t\t\tthis._triggers.push( entity );\n\n\t\t\t}\n\n\t\t\t// update spatial index\n\n\t\t\tif ( this.spatialIndex !== null ) {\n\n\t\t\t\tlet currentIndex = this._indexMap.get( entity ) || - 1;\n\t\t\t\tcurrentIndex = this.spatialIndex.updateEntity( entity, currentIndex );\n\t\t\t\tthis._indexMap.set( entity, currentIndex );\n\n\t\t\t}\n\n\t\t\t// update render component\n\n\t\t\tconst renderComponent = entity._renderComponent;\n\t\t\tconst renderComponentCallback = entity._renderComponentCallback;\n\n\t\t\tif ( renderComponent !== null && renderComponentCallback !== null ) {\n\n\t\t\t\trenderComponentCallback( entity, renderComponent );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates the neighborhood of a single game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity to update.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tupdateNeighborhood( entity ) {\n\n\t\tif ( entity.updateNeighborhood === true ) {\n\n\t\t\tentity.neighbors.length = 0;\n\n\t\t\t// determine candidates\n\n\t\t\tif ( this.spatialIndex !== null ) {\n\n\t\t\t\tthis.spatialIndex.query( entity.position, entity.neighborhoodRadius, candidates );\n\n\t\t\t} else {\n\n\t\t\t\t// worst case runtime complexity with O(n²)\n\n\t\t\t\tcandidates.length = 0;\n\t\t\t\tcandidates.push( ...this.entities );\n\n\t\t\t}\n\n\t\t\t// verify if candidates are within the predefined range\n\n\t\t\tconst neighborhoodRadiusSq = ( entity.neighborhoodRadius * entity.neighborhoodRadius );\n\n\t\t\tfor ( let i = 0, l = candidates.length; i < l; i ++ ) {\n\n\t\t\t\tconst candidate = candidates[ i ];\n\n\t\t\t\tif ( entity !== candidate && candidate.active === true ) {\n\n\t\t\t\t\tconst distanceSq = entity.position.squaredDistanceTo( candidate.position );\n\n\t\t\t\t\tif ( distanceSq <= neighborhoodRadiusSq ) {\n\n\t\t\t\t\t\tentity.neighbors.push( candidate );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Processes a single trigger.\n\t*\n\t* @param {Trigger} trigger - The trigger to process.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tprocessTrigger( trigger ) {\n\n\t\ttrigger.updateRegion(); // ensure its region is up-to-date\n\n\t\tconst entities = this.entities;\n\n\t\tfor ( let i = ( entities.length - 1 ); i >= 0; i -- ) {\n\n\t\t\tconst entity = entities[ i ];\n\n\t\t\tif ( trigger !== entity && entity.active === true && entity.canActivateTrigger === true ) {\n\n\t\t\t\ttrigger.check( entity );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Interface for game entities so they can send messages to other game entities.\n\t*\n\t* @param {GameEntity} sender - The sender.\n\t* @param {GameEntity} receiver - The receiver.\n\t* @param {String} message - The actual message.\n\t* @param {Number} delay - A time value in millisecond used to delay the message dispatching.\n\t* @param {Object} data - An object for custom data.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tsendMessage( sender, receiver, message, delay, data ) {\n\n\t\tthis._messageDispatcher.dispatch( sender, receiver, message, delay, data );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\ttype: this.constructor.name,\n\t\t\tentities: new Array(),\n\t\t\t_messageDispatcher: this._messageDispatcher.toJSON()\n\t\t};\n\n\t\t// entities\n\n\t\tfunction processEntity( entity ) {\n\n\t\t\tdata.entities.push( entity.toJSON() );\n\n\t\t\tfor ( let i = 0, l = entity.children.length; i < l; i ++ ) {\n\n\t\t\t\tprocessEntity( entity.children[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0, l = this.entities.length; i < l; i ++ ) {\n\n\t\t\t// recursively process all entities\n\n\t\t\tprocessEntity( this.entities[ i ] );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.clear();\n\n\t\tconst entitiesJSON = json.entities;\n\t\tconst _messageDispatcherJSON = json._messageDispatcher;\n\n\t\t// entities\n\n\t\tconst entitiesMap = new Map();\n\n\t\tfor ( let i = 0, l = entitiesJSON.length; i < l; i ++ ) {\n\n\t\t\tconst entityJSON = entitiesJSON[ i ];\n\t\t\tconst type = entityJSON.type;\n\n\t\t\tlet entity;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'GameEntity':\n\t\t\t\t\tentity = new GameEntity().fromJSON( entityJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'MovingEntity':\n\t\t\t\t\tentity = new MovingEntity().fromJSON( entityJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Vehicle':\n\t\t\t\t\tentity = new Vehicle().fromJSON( entityJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Trigger':\n\t\t\t\t\tentity = new Trigger().fromJSON( entityJSON );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\t// handle custom type\n\n\t\t\t\t\tconst ctor = this._typesMap.get( type );\n\n\t\t\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\t\t\tentity = new ctor().fromJSON( entityJSON );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tLogger.warn( 'YUKA.EntityManager: Unsupported entity type:', type );\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tentitiesMap.set( entity.uuid, entity );\n\n\t\t\tif ( entity.parent === null ) this.add( entity );\n\n\t\t}\n\n\t\t// resolve UUIDs to game entity objects\n\n\t\tfor ( let entity of entitiesMap.values() ) {\n\n\t\t\tentity.resolveReferences( entitiesMap );\n\n\t\t}\n\n\t\t// restore delayed messages\n\n\t\tthis._messageDispatcher.fromJSON( _messageDispatcherJSON );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Registers a custom type for deserialization. When calling {@link EntityManager#fromJSON}\n\t* the entity manager is able to pick the correct constructor in order to create custom\n\t* game entities.\n\t*\n\t* @param {String} type - The name of the entity type.\n\t* @param {Function} constructor - The constructor function.\n\t* @return {EntityManager} A reference to this entity manager.\n\t*/\n\tregisterType( type, constructor ) {\n\n\t\tthis._typesMap.set( type, constructor );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Other classes can inherit from this class in order to provide an\n* event based API. Useful for controls development.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\n\nclass EventDispatcher {\n\n\t/**\n\t* Constructs a new event dispatcher.\n\t*/\n\tconstructor() {\n\n\t\tthis._events = new Map();\n\n\t}\n\n\t/**\n\t* Adds an event listener for the given event type.\n\t*\n\t* @param {String} type - The event type.\n\t* @param {Function} listener - The event listener to add.\n\t*/\n\taddEventListener( type, listener ) {\n\n\t\tconst events = this._events;\n\n\t\tif ( events.has( type ) === false ) {\n\n\t\t\tevents.set( type, new Array() );\n\n\t\t}\n\n\t\tconst listeners = events.get( type );\n\n\t\tif ( listeners.indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners.push( listener );\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Removes the given event listener for the given event type.\n\t*\n\t* @param {String} type - The event type.\n\t* @param {Function} listener - The event listener to remove.\n\t*/\n\tremoveEventListener( type, listener ) {\n\n\t\tconst events = this._events;\n\t\tconst listeners = events.get( type );\n\n\t\tif ( listeners !== undefined ) {\n\n\t\t\tconst index = listeners.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) listeners.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Returns true if the given event listener is set for the given event type.\n\t*\n\t* @param {String} type - The event type.\n\t* @param {Function} listener - The event listener to test.\n\t* @return {Boolean} Whether the given event listener is set for the given event type or not.\n\t*/\n\thasEventListener( type, listener ) {\n\n\t\tconst events = this._events;\n\t\tconst listeners = events.get( type );\n\n\t\treturn ( listeners !== undefined ) && ( listeners.indexOf( listener ) !== - 1 );\n\n\t}\n\n\t/**\n\t* Dispatches an event to all respective event listeners.\n\t*\n\t* @param {Object} event - The event object.\n\t*/\n\tdispatchEvent( event ) {\n\n\t\tconst events = this._events;\n\t\tconst listeners = events.get( event.type );\n\n\t\tif ( listeners !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tfor ( let i = 0, l = listeners.length; i < l; i ++ ) {\n\n\t\t\t\tlisteners[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst v1$2 = new Vector3();\nconst v2$1 = new Vector3();\nconst d$1 = new Vector3();\n\n/**\n* Class representing a plane in 3D space. The plane is specified in Hessian normal form.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Plane {\n\n\t/**\n\t* Constructs a new plane with the given values.\n\t*\n\t* @param {Vector3} normal - The normal vector of the plane.\n\t* @param {Number} constant - The distance of the plane from the origin.\n\t*/\n\tconstructor( normal = new Vector3( 0, 0, 1 ), constant = 0 ) {\n\n\t\t/**\n\t\t* The normal vector of the plane.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.normal = normal;\n\n\t\t/**\n\t\t* The distance of the plane from the origin.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.constant = constant;\n\n\t}\n\n\t/**\n\t* Sets the given values to this plane.\n\t*\n\t* @param {Vector3} normal - The normal vector of the plane.\n\t* @param {Number} constant - The distance of the plane from the origin.\n\t* @return {Plane} A reference to this plane.\n\t*/\n\tset( normal, constant ) {\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given plane to this plane.\n\t*\n\t* @param {Plane} plane - The plane to copy.\n\t* @return {Plane} A reference to this plane.\n\t*/\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new plane and copies all values from this plane.\n\t*\n\t* @return {Plane} A new plane.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Computes the signed distance from the given 3D vector to this plane.\n\t* The sign of the distance indicates the half-space in which the points lies.\n\t* Zero means the point lies on the plane.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Number} The signed distance.\n\t*/\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\t/**\n\t* Sets the values of the plane from the given normal vector and a coplanar point.\n\t*\n\t* @param {Vector3} normal - A normalized vector.\n\t* @param {Vector3} point - A coplanar point.\n\t* @return {Plane} A reference to this plane.\n\t*/\n\tfromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the values of the plane from three given coplanar points.\n\t*\n\t* @param {Vector3} a - A coplanar point.\n\t* @param {Vector3} b - A coplanar point.\n\t* @param {Vector3} c - A coplanar point.\n\t* @return {Plane} A reference to this plane.\n\t*/\n\tfromCoplanarPoints( a, b, c ) {\n\n\t\tv1$2.subVectors( c, b ).cross( v2$1.subVectors( a, b ) ).normalize();\n\n\t\tthis.fromNormalAndCoplanarPoint( v1$2, a );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Performs a plane/plane intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* Reference: Intersection of Two Planes in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.4.4)\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectPlane( plane, result ) {\n\n\t\t// compute direction of intersection line\n\n\t\td$1.crossVectors( this.normal, plane.normal );\n\n\t\t// if d is zero, the planes are parallel (and separated)\n\t\t// or coincident, so they’re not considered intersecting\n\n\t\tconst denom = d$1.dot( d$1 );\n\n\t\tif ( denom === 0 ) return null;\n\n\t\t// compute point on intersection line\n\n\t\tv1$2.copy( plane.normal ).multiplyScalar( this.constant );\n\t\tv2$1.copy( this.normal ).multiplyScalar( plane.constant );\n\n\t\tresult.crossVectors( v1$2.sub( v2$1 ), d$1 ).divideScalar( denom );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns true if the given plane intersects this plane.\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\tconst d = this.normal.dot( plane.normal );\n\n\t\treturn ( Math.abs( d ) !== 1 );\n\n\t}\n\n\t/**\n\t* Projects the given point onto the plane. The result is written\n\t* to the given vector.\n\t*\n\t* @param {Vector3} point - The point to project onto the plane.\n\t* @param {Vector3} result - The projected point.\n\t* @return {Vector3} The projected point.\n\t*/\n\tprojectPoint( point, result ) {\n\n\t\tv1$2.copy( this.normal ).multiplyScalar( this.distanceToPoint( point ) );\n\n\t\tresult.subVectors( point, v1$2 );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns true if the given plane is deep equal with this plane.\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && plane.constant === this.constant;\n\n\t}\n\n}\n\nconst boundingSphere = new BoundingSphere();\nconst triangle$1 = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\nconst rayLocal = new Ray();\nconst plane$1 = new Plane();\nconst inverseMatrix = new Matrix4();\nconst closestIntersectionPoint = new Vector3();\nconst closestTriangle = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n/**\n* Class for representing a polygon mesh. The faces consist of triangles.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass MeshGeometry {\n\n\t/**\n\t* Constructs a new mesh geometry.\n\t*\n\t* @param {TypedArray} vertices - The vertex buffer (Float32Array).\n\t* @param {TypedArray} indices - The index buffer (Uint16Array/Uint32Array).\n\t*/\n\tconstructor( vertices = new Float32Array(), indices = null ) {\n\n\t\t/**\n\t\t* The vertex buffer.\n\t\t* @type {Float32Array}\n\t\t*/\n\t\tthis.vertices = vertices;\n\n\t\t/**\n\t\t* The index buffer.\n\t\t* @type {?(Uint16Array|?Uint32Array)}\n\t\t* @default null\n\t\t*/\n\t\tthis.indices = indices;\n\n\t\t/**\n\t\t*  Whether back face culling is active or not. Only relevant for raycasting.\n\t\t* @type {Boolean}\n\t\t*/\n\t\tthis.backfaceCulling = true;\n\n\t\t/**\n\t\t* An AABB enclosing the geometry.\n\t\t* @type {AABB}\n\t\t*/\n\t\tthis.aabb = new AABB();\n\n\t\t/**\n\t\t* A bounding sphere enclosing the geometry.\n\t\t* @type {BoundingSphere}\n\t\t*/\n\t\tthis.boundingSphere = new BoundingSphere();\n\n\t\tthis.computeBoundingVolume();\n\n\t}\n\n\t/**\n\t* Computes the internal bounding volumes of this mesh geometry.\n\t*\n\t* @return {MeshGeometry} A reference to this mesh geometry.\n\t*/\n\tcomputeBoundingVolume() {\n\n\t\tconst vertices = this.vertices;\n\t\tconst vertex = new Vector3();\n\n\t\tconst aabb = this.aabb;\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\t// compute AABB\n\n\t\taabb.min.set( Infinity, Infinity, Infinity );\n\t\taabb.max.set( - Infinity, - Infinity, - Infinity );\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i += 3 ) {\n\n\t\t\tvertex.x = vertices[ i ];\n\t\t\tvertex.y = vertices[ i + 1 ];\n\t\t\tvertex.z = vertices[ i + 2 ];\n\n\t\t\taabb.expand( vertex );\n\n\t\t}\n\n\t\t// compute bounding sphere\n\n\t\taabb.getCenter( boundingSphere.center );\n\t\tboundingSphere.radius = boundingSphere.center.distanceTo( aabb.max );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Performs a ray intersection test with the geometry of the obstacle and stores\n\t * the intersection point in the given result vector. If no intersection is detected,\n\t * *null* is returned.\n\t *\n\t * @param {Ray} ray - The ray to test.\n\t * @param {Matrix4} worldMatrix - The matrix that transforms the geometry to world space.\n\t * @param {Boolean} closest - Whether the closest intersection point should be computed or not.\n\t * @param {Vector3} intersectionPoint - The intersection point.\n\t * @param {Vector3} normal - The normal vector of the respective triangle.\n\t * @return {Vector3} The result vector.\n\t */\n\tintersectRay( ray, worldMatrix, closest, intersectionPoint, normal = null ) {\n\n\t\t// check bounding sphere first in world space\n\n\t\tboundingSphere.copy( this.boundingSphere ).applyMatrix4( worldMatrix );\n\n\t\tif ( ray.intersectsBoundingSphere( boundingSphere ) ) {\n\n\t\t\t// transform the ray into the local space of the obstacle\n\n\t\t\tworldMatrix.getInverse( inverseMatrix );\n\t\t\trayLocal.copy( ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// check AABB in local space since its more expensive to convert an AABB to world space than a bounding sphere\n\n\t\t\tif ( rayLocal.intersectsAABB( this.aabb ) ) {\n\n\t\t\t\t// now perform more expensive test with all triangles of the geometry\n\n\t\t\t\tconst vertices = this.vertices;\n\t\t\t\tconst indices = this.indices;\n\n\t\t\t\tlet minDistance = Infinity;\n\t\t\t\tlet found = false;\n\n\t\t\t\tif ( indices === null ) {\n\n\t\t\t\t\t// non-indexed geometry\n\n\t\t\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 9 ) {\n\n\t\t\t\t\t\ttriangle$1.a.set( vertices[ i ], vertices[ i + 1 ], vertices[ i + 2 ] );\n\t\t\t\t\t\ttriangle$1.b.set( vertices[ i + 3 ], vertices[ i + 4 ], vertices[ i + 5 ] );\n\t\t\t\t\t\ttriangle$1.c.set( vertices[ i + 6 ], vertices[ i + 7 ], vertices[ i + 8 ] );\n\n\t\t\t\t\t\tif ( rayLocal.intersectTriangle( triangle$1, this.backfaceCulling, intersectionPoint ) !== null ) {\n\n\t\t\t\t\t\t\tif ( closest ) {\n\n\t\t\t\t\t\t\t\tconst distance = intersectionPoint.squaredDistanceTo( rayLocal.origin );\n\n\t\t\t\t\t\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\t\t\t\t\t\tminDistance = distance;\n\n\t\t\t\t\t\t\t\t\tclosestIntersectionPoint.copy( intersectionPoint );\n\t\t\t\t\t\t\t\t\tclosestTriangle.a.copy( triangle$1.a );\n\t\t\t\t\t\t\t\t\tclosestTriangle.b.copy( triangle$1.b );\n\t\t\t\t\t\t\t\t\tclosestTriangle.c.copy( triangle$1.c );\n\t\t\t\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// indexed geometry\n\n\t\t\t\t\tfor ( let i = 0, l = indices.length; i < l; i += 3 ) {\n\n\t\t\t\t\t\tconst a = indices[ i ];\n\t\t\t\t\t\tconst b = indices[ i + 1 ];\n\t\t\t\t\t\tconst c = indices[ i + 2 ];\n\n\t\t\t\t\t\tconst stride = 3;\n\n\t\t\t\t\t\ttriangle$1.a.set( vertices[ ( a * stride ) ], vertices[ ( a * stride ) + 1 ], vertices[ ( a * stride ) + 2 ] );\n\t\t\t\t\t\ttriangle$1.b.set( vertices[ ( b * stride ) ], vertices[ ( b * stride ) + 1 ], vertices[ ( b * stride ) + 2 ] );\n\t\t\t\t\t\ttriangle$1.c.set( vertices[ ( c * stride ) ], vertices[ ( c * stride ) + 1 ], vertices[ ( c * stride ) + 2 ] );\n\n\t\t\t\t\t\tif ( rayLocal.intersectTriangle( triangle$1, this.backfaceCulling, intersectionPoint ) !== null ) {\n\n\t\t\t\t\t\t\tif ( closest ) {\n\n\t\t\t\t\t\t\t\tconst distance = intersectionPoint.squaredDistanceTo( rayLocal.origin );\n\n\t\t\t\t\t\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\t\t\t\t\t\tminDistance = distance;\n\n\t\t\t\t\t\t\t\t\tclosestIntersectionPoint.copy( intersectionPoint );\n\t\t\t\t\t\t\t\t\tclosestTriangle.a.copy( triangle$1.a );\n\t\t\t\t\t\t\t\t\tclosestTriangle.b.copy( triangle$1.b );\n\t\t\t\t\t\t\t\t\tclosestTriangle.c.copy( triangle$1.c );\n\t\t\t\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// intersection was found\n\n\t\t\t\tif ( found ) {\n\n\t\t\t\t\tif ( closest ) {\n\n\t\t\t\t\t\t// restore closest intersection point and triangle\n\n\t\t\t\t\t\tintersectionPoint.copy( closestIntersectionPoint );\n\t\t\t\t\t\ttriangle$1.a.copy( closestTriangle.a );\n\t\t\t\t\t\ttriangle$1.b.copy( closestTriangle.b );\n\t\t\t\t\t\ttriangle$1.c.copy( closestTriangle.c );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// transform intersection point back to world space\n\n\t\t\t\t\tintersectionPoint.applyMatrix4( worldMatrix );\n\n\t\t\t\t\t// compute normal of triangle in world space if necessary\n\n\t\t\t\t\tif ( normal !== null ) {\n\n\t\t\t\t\t\tplane$1.fromCoplanarPoints( triangle$1.a, triangle$1.b, triangle$1.c );\n\t\t\t\t\t\tnormal.copy( plane$1.normal );\n\t\t\t\t\t\tnormal.transformDirection( worldMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn intersectionPoint;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Returns a new geometry without containing indices. If the geometry is already\n\t * non-indexed, the method performs no changes.\n\t *\n\t * @return {MeshGeometry} The new non-indexed geometry.\n\t */\n\ttoTriangleSoup() {\n\n\t\tconst indices = this.indices;\n\n\t\tif ( indices ) {\n\n\t\t\tconst vertices = this.vertices;\n\t\t\tconst newVertices = new Float32Array( indices.length * 3 );\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tconst a = indices[ i ];\n\t\t\t\tconst stride = 3;\n\n\t\t\t\tnewVertices[ i * stride ] = vertices[ a * stride ];\n\t\t\t\tnewVertices[ ( i * stride ) + 1 ] = vertices[ ( a * stride ) + 1 ];\n\t\t\t\tnewVertices[ ( i * stride ) + 2 ] = vertices[ ( a * stride ) + 2 ];\n\n\t\t\t}\n\n\t\t\treturn new MeshGeometry( newVertices );\n\n\t\t} else {\n\n\t\t\treturn this;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name\n\t\t};\n\n\t\tjson.indices = {\n\t\t\ttype: this.indices ? this.indices.constructor.name : 'null',\n\t\t\tdata: this.indices ? Array.from( this.indices ) : null\n\t\t};\n\n\t\tjson.vertices = Array.from( this.vertices );\n\t\tjson.backfaceCulling = this.backfaceCulling;\n\t\tjson.aabb = this.aabb.toJSON();\n\t\tjson.boundingSphere = this.boundingSphere.toJSON();\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {MeshGeometry} A reference to this mesh geometry.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.aabb = new AABB().fromJSON( json.aabb );\n\t\tthis.boundingSphere = new BoundingSphere().fromJSON( json.boundingSphere );\n\t\tthis.backfaceCulling = json.backfaceCulling;\n\n\t\tthis.vertices = new Float32Array( json.vertices );\n\n\t\tswitch ( json.indices.type ) {\n\n\t\t\tcase 'Uint16Array':\n\t\t\t\tthis.indices = new Uint16Array( json.indices.data );\n\t\t\t\tbreak;\n\n\t\t\tcase 'Uint32Array':\n\t\t\t\tthis.indices = new Uint32Array( json.indices.data );\n\t\t\t\tbreak;\n\n\t\t\tcase 'null':\n\t\t\t\tthis.indices = null;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a timer.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Time {\n\n\t/**\n\t* Constructs a new time object.\n\t*/\n\tconstructor() {\n\n\t\tthis._previousTime = 0;\n\t\tthis._currentTime = 0;\n\n\t\tthis._delta = 0;\n\t\tthis._elapsed = 0;\n\n\t\tthis._timescale = 1;\n\n\t\tthis._useFixedDelta = false;\n\t\tthis._fixedDelta = 16.67; // ms, corresponds to approx. 60 FPS\n\n\t\t// use Page Visibility API to avoid large time delta values\n\n\t\tthis._usePageVisibilityAPI = ( typeof document !== 'undefined' && document.hidden !== undefined );\n\n\t\tif ( this._usePageVisibilityAPI === true ) {\n\n\t\t\tthis._pageVisibilityHandler = handleVisibilityChange.bind( this );\n\n\t\t\tdocument.addEventListener( 'visibilitychange', this._pageVisibilityHandler, false );\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Disables the usage of a fixed delta value.\n\t*\n\t* @return {Time} A reference to this time object.\n\t*/\n\tdisableFixedDelta() {\n\n\t\tthis._useFixedDelta = false;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Frees all internal resources.\n\t*\n\t* @return {Time} A reference to this time object.\n\t*/\n\tdispose() {\n\n\t\tif ( this._usePageVisibilityAPI === true ) {\n\n\t\t\tdocument.removeEventListener( 'visibilitychange', this._pageVisibilityHandler );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Enables the usage of a fixed delta value. Can be useful for debugging and testing.\n\t*\n\t* @return {Time} A reference to this time object.\n\t*/\n\tenableFixedDelta() {\n\n\t\tthis._useFixedDelta = true;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the delta time in seconds. Represents the completion time in seconds since\n\t* the last simulation step.\n\t*\n\t* @return {Number} The delta time in seconds.\n\t*/\n\tgetDelta() {\n\n\t\treturn this._delta / 1000;\n\n\t}\n\n\t/**\n\t* Returns the elapsed time in seconds. It's the accumulated\n\t* value of all previous time deltas.\n\t*\n\t* @return {Number} The elapsed time in seconds.\n\t*/\n\tgetElapsed() {\n\n\t\treturn this._elapsed / 1000;\n\n\t}\n\n\t/**\n\t* Returns the fixed delta time in seconds.\n\t*\n\t* @return {Number} The fixed delta time in seconds.\n\t*/\n\tgetFixedDelta() {\n\n\t\treturn this._fixedDelta / 1000;\n\n\t}\n\n\t/**\n\t* Returns the timescale value.\n\t*\n\t* @return {Number} The timescale value.\n\t*/\n\tgetTimescale() {\n\n\t\treturn this._timescale;\n\n\t}\n\n\t/**\n\t* Resets this time object.\n\t*\n\t* @return {Time} A reference to this time object.\n\t*/\n\treset() {\n\n\t\tthis._currentTime = this._now();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets a fixed time delta value.\n\t*\n\t* @param {Number} fixedDelta - Fixed time delta in seconds.\n\t* @return {Time} A reference to this time object.\n\t*/\n\tsetFixedDelta( fixedDelta ) {\n\n\t\tthis._fixedDelta = fixedDelta * 1000;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets a timescale value. This value represents the scale at which time passes.\n\t* Can be used for slow down or  accelerate the simulation.\n\t*\n\t* @param {Number} timescale - The timescale value.\n\t* @return {Time} A reference to this time object.\n\t*/\n\tsetTimescale( timescale ) {\n\n\t\tthis._timescale = timescale;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates the internal state of this time object.\n\t*\n\t* @return {Time} A reference to this time object.\n\t*/\n\tupdate() {\n\n\t\tif ( this._useFixedDelta === true ) {\n\n\t\t\tthis._delta = this._fixedDelta;\n\n\t\t} else {\n\n\t\t\tthis._previousTime = this._currentTime;\n\t\t\tthis._currentTime = this._now();\n\n\t\t\tthis._delta = this._currentTime - this._previousTime;\n\n\t\t}\n\n\t\tthis._delta *= this._timescale;\n\n\t\tthis._elapsed += this._delta; // _elapsed is the accumulation of all previous deltas\n\n\t\treturn this;\n\n\t}\n\n\t// private\n\n\t_now() {\n\n\t\treturn ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t}\n\n}\n\n//\n\nfunction handleVisibilityChange() {\n\n\tif ( document.hidden === false ) this.reset();\n\n}\n\n/**\n* Not all components of an AI system need to be updated in each simulation step.\n* This class can be used to control the update process by defining how many updates\n* should be executed per second.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Regulator {\n\n\t/**\n\t* Constructs a new regulator.\n\t*\n\t* @param {Number} updateFrequency - The amount of updates per second.\n\t*/\n\tconstructor( updateFrequency = 0 ) {\n\n\t\t/**\n\t\t* The amount of updates per second.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.updateFrequency = updateFrequency;\n\n\t\tthis._time = new Time();\n\t\tthis._nextUpdateTime = 0;\n\n\t}\n\n\t/**\n\t* Returns true if it is time to allow the next update.\n\t*\n\t* @return {Boolean} Whether an update is allowed or not.\n\t*/\n\tready() {\n\n\t\tthis._time.update();\n\n\t\tconst elapsedTime = this._time.getElapsed();\n\n\t\tif ( elapsedTime >= this._nextUpdateTime ) {\n\n\t\t\tthis._nextUpdateTime = elapsedTime + ( 1 / this.updateFrequency );\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n}\n\n/**\n* Base class for representing a state in context of State-driven agent design.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass State {\n\n\t/**\n\t* This method is called once during a state transition when the {@link StateMachine} makes\n\t* this state active.\n\t*\n\t* @param {GameEntity} owner - The game entity that represents the execution context of this state.\n\t*/\n\tenter( /* owner */ ) {}\n\n\t/**\n\t* This method is called per simulation step if this state is active.\n\t*\n\t* @param {GameEntity} owner - The game entity that represents the execution context of this state.\n\t*/\n\texecute( /* owner */ ) {}\n\n\t/**\n\t* This method is called once during a state transition when the {@link StateMachine} makes\n\t* this state inactive.\n\t*\n\t* @param {GameEntity} owner - The game entity that represents the execution context of this state.\n\t*/\n\texit( /* owner */ ) {}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {State} A reference to this state.\n\t*/\n\tfromJSON( /* json */ ) {}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {State} A reference to this state.\n\t*/\n\tresolveReferences( /* entities */ ) {}\n\n\t/**\n\t* This method is called when messaging between game entities occurs.\n\t*\n\t* @param {GameEntity} owner - The game entity that represents the execution context of this state.\n\t* @param {Telegram} telegram - A data structure containing the actual message.\n\t* @return {Boolean} Whether the message was processed or not.\n\t*/\n\tonMessage( /* owner, telegram */ ) {\n\n\t\treturn false;\n\n\t}\n\n}\n\n/**\n* Finite state machine (FSM) for implementing State-driven agent design.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass StateMachine {\n\n\t/**\n\t* Constructs a new state machine with the given values.\n\t*\n\t* @param {GameEntity} owner - The owner of this state machine.\n\t*/\n\tconstructor( owner = null ) {\n\n\t\t/**\n\t\t* The game entity that owns this state machine.\n\t\t* @type {?GameEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.owner = owner;\n\n\t\t/**\n\t\t* The current state of the game entity.\n\t\t* @type {?State}\n\t\t* @default null\n\t\t*/\n\t\tthis.currentState = null;\n\n\t\t/**\n\t\t* The previous state of the game entity.\n\t\t* @type {?State}\n\t\t* @default null\n\t\t*/\n\t\tthis.previousState = null; // a reference to the last state the agent was in\n\n\t\t/**\n\t\t* This state logic is called every time the state machine is updated.\n\t\t* @type {?State}\n\t\t* @default null\n\t\t*/\n\t\tthis.globalState = null;\n\n\t\t/**\n\t\t* A map with all states of the state machine.\n\t\t* @type {Map<String,State>}\n\t\t*/\n\t\tthis.states = new Map();\n\n\t\t//\n\n\t\tthis._typesMap = new Map();\n\n\t}\n\n\t/**\n\t* Updates the internal state of the FSM. Usually called by {@link GameEntity#update}.\n\t*\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tupdate() {\n\n\t\tif ( this.globalState !== null ) {\n\n\t\t\tthis.globalState.execute( this.owner );\n\n\t\t}\n\n\t\tif ( this.currentState !== null ) {\n\n\t\t\tthis.currentState.execute( this.owner );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds a new state with the given ID to the state machine.\n\t*\n\t* @param {String} id - The ID of the state.\n\t* @param {State} state - The state.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tadd( id, state ) {\n\n\t\tif ( state instanceof State ) {\n\n\t\t\tthis.states.set( id, state );\n\n\t\t} else {\n\n\t\t\tLogger.warn( 'YUKA.StateMachine: .add() needs a parameter of type \"YUKA.State\".' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes a state via its ID from the state machine.\n\t*\n\t* @param {String} id - The ID of the state.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tremove( id ) {\n\n\t\tthis.states.delete( id );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the state for the given ID.\n\t*\n\t* @param {String} id - The ID of the state.\n\t* @return {State} The state for the given ID.\n\t*/\n\tget( id ) {\n\n\t\treturn this.states.get( id );\n\n\t}\n\n\t/**\n\t* Performs a state change to the state defined by its ID.\n\t*\n\t* @param {String} id - The ID of the state.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tchangeTo( id ) {\n\n\t\tconst state = this.get( id );\n\n\t\tthis._change( state );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns to the previous state.\n\t*\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\trevert() {\n\n\t\tthis._change( this.previousState );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if this FSM is in the given state.\n\t*\n\t* @return {Boolean} Whether this FSM is in the given state or not.\n\t*/\n\tin( id ) {\n\n\t\tconst state = this.get( id );\n\n\t\treturn ( state === this.currentState );\n\n\t}\n\n\t/**\n\t* Tries to dispatch the massage to the current or global state and returns true\n\t* if the message was processed successfully.\n\t*\n\t* @param {Telegram} telegram - The telegram with the message data.\n\t* @return {Boolean} Whether the message was processed or not.\n\t*/\n\thandleMessage( telegram ) {\n\n\t\t// first see, if the current state is valid and that it can handle the message\n\n\t\tif ( this.currentState !== null && this.currentState.onMessage( this.owner, telegram ) === true ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// if not, and if a global state has been implemented, send the message to the global state\n\n\t\tif ( this.globalState !== null && this.globalState.onMessage( this.owner, telegram ) === true ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\towner: this.owner.uuid,\n\t\t\tcurrentState: null,\n\t\t\tpreviousState: null,\n\t\t\tglobalState: null,\n\t\t\tstates: new Array()\n\t\t};\n\n\t\tconst statesMap = new Map();\n\n\t\t// states\n\n\t\tfor ( let [ id, state ] of this.states ) {\n\n\t\t\tjson.states.push( {\n\t\t\t\ttype: state.constructor.name,\n\t\t\t\tid: id,\n\t\t\t\tstate: state.toJSON()\n\t\t\t} );\n\n\t\t\tstatesMap.set( state, id );\n\n\t\t}\n\n\t\tjson.currentState = statesMap.get( this.currentState ) || null;\n\t\tjson.previousState = statesMap.get( this.previousState ) || null;\n\t\tjson.globalState = statesMap.get( this.globalState ) || null;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.owner = json.owner;\n\n\t\t//\n\n\t\tconst statesJSON = json.states;\n\n\t\tfor ( let i = 0, l = statesJSON.length; i < l; i ++ ) {\n\n\t\t\tconst stateJSON = statesJSON[ i ];\n\t\t\tconst type = stateJSON.type;\n\n\t\t\tconst ctor = this._typesMap.get( type );\n\n\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\tconst id = stateJSON.id;\n\t\t\t\tconst state = new ctor().fromJSON( stateJSON.state );\n\n\t\t\t\tthis.add( id, state );\n\n\t\t\t} else {\n\n\t\t\t\tLogger.warn( 'YUKA.StateMachine: Unsupported state type:', type );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tthis.currentState = ( json.currentState !== null ) ? ( this.get( json.currentState ) || null ) : null;\n\t\tthis.previousState = ( json.previousState !== null ) ? ( this.get( json.previousState ) || null ) : null;\n\t\tthis.globalState = ( json.globalState !== null ) ? ( this.get( json.globalState ) || null ) : null;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.owner = entities.get( this.owner ) || null;\n\n\t\tfor ( let state of this.states.values() ) {\n\n\t\t\tstate.resolveReferences( entities );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Registers a custom type for deserialization. When calling {@link StateMachine#fromJSON}\n\t* the state machine is able to pick the correct constructor in order to create custom states.\n\t*\n\t* @param {String} type - The name of the state type.\n\t* @param {Function} constructor - The constructor function.\n\t* @return {StateMachine} A reference to this state machine.\n\t*/\n\tregisterType( type, constructor ) {\n\n\t\tthis._typesMap.set( type, constructor );\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\t_change( state ) {\n\n\t\tthis.previousState = this.currentState;\n\n\t\tif ( this.currentState !== null ) {\n\n\t\t\tthis.currentState.exit( this.owner );\n\n\t\t}\n\n\t\tthis.currentState = state;\n\n\t\tthis.currentState.enter( this.owner );\n\n\t}\n\n}\n\n/**\n* Base class for representing a term in a {@link FuzzyRule}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass FuzzyTerm {\n\n\t/**\n\t* Clears the degree of membership value.\n\t*\n\t* @return {FuzzyTerm} A reference to this term.\n\t*/\n\tclearDegreeOfMembership() {}\n\n\t/**\n\t* Returns the degree of membership.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {}\n\n\t/**\n\t* Updates the degree of membership by the given value. This method is used when\n\t* the term is part of a fuzzy rule's consequent.\n\t*\n\t* @param {Number} value - The value used to update the degree of membership.\n\t* @return {FuzzyTerm} A reference to this term.\n\t*/\n\tupdateDegreeOfMembership( /* value */ ) {}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name\n\t\t};\n\n\t}\n\n}\n\n/**\n* Base class for representing more complex fuzzy terms based on the\n* composite design pattern.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyTerm\n*/\nclass FuzzyCompositeTerm extends FuzzyTerm {\n\n\t/**\n\t* Constructs a new fuzzy composite term with the given values.\n\t*\n\t* @param {Array<FuzzyTerm>} terms - An arbitrary amount of fuzzy terms.\n\t*/\n\tconstructor( terms = new Array() ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* List of fuzzy terms.\n\t\t* @type {Array<FuzzyTerm>}\n\t\t*/\n\t\tthis.terms = terms;\n\n\t}\n\n\t/**\n\t* Clears the degree of membership value.\n\t*\n\t* @return {FuzzyCompositeTerm} A reference to this term.\n\t*/\n\tclearDegreeOfMembership() {\n\n\t\tconst terms = this.terms;\n\n\t\tfor ( let i = 0, l = terms.length; i < l; i ++ ) {\n\n\t\t\tterms[ i ].clearDegreeOfMembership();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates the degree of membership by the given value. This method is used when\n\t* the term is part of a fuzzy rule's consequent.\n\t*\n\t* @param {Number} value - The value used to update the degree of membership.\n\t* @return {FuzzyCompositeTerm} A reference to this term.\n\t*/\n\tupdateDegreeOfMembership( value ) {\n\n\t\tconst terms = this.terms;\n\n\t\tfor ( let i = 0, l = terms.length; i < l; i ++ ) {\n\n\t\t\tterms[ i ].updateDegreeOfMembership( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.terms = new Array();\n\n\t\tfor ( let i = 0, l = this.terms.length; i < l; i ++ ) {\n\n\t\t\tconst term = this.terms[ i ];\n\n\t\t\tif ( term instanceof FuzzyCompositeTerm ) {\n\n\t\t\t\tjson.terms.push( term.toJSON() );\n\n\t\t\t} else {\n\n\t\t\t\tjson.terms.push( term.uuid );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n}\n\n/**\n* Class for representing an AND operator. Can be used to construct\n* fuzzy rules.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyCompositeTerm\n*/\nclass FuzzyAND extends FuzzyCompositeTerm {\n\n\t/**\n\t* Constructs a new fuzzy AND operator with the given values. The constructor\n\t* accepts and arbitrary amount of fuzzy terms.\n\t*/\n\tconstructor() {\n\n\t\tconst terms = Array.from( arguments );\n\n\t\tsuper( terms );\n\n\t}\n\n\t/**\n\t* Returns the degree of membership. The AND operator returns the minimum\n\t* degree of membership of the sets it is operating on.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {\n\n\t\tconst terms = this.terms;\n\t\tlet minDOM = Infinity;\n\n\t\tfor ( let i = 0, l = terms.length; i < l; i ++ ) {\n\n\t\t\tconst term = terms[ i ];\n\t\t\tconst currentDOM = term.getDegreeOfMembership();\n\n\t\t\tif ( currentDOM < minDOM ) minDOM = currentDOM;\n\n\t\t}\n\n\t\treturn minDOM;\n\n\t}\n\n}\n\n/**\n* Hedges are special unary operators that can be employed to modify the meaning\n* of a fuzzy set. The FAIRLY fuzzy hedge widens the membership function.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyCompositeTerm\n*/\nclass FuzzyFAIRLY extends FuzzyCompositeTerm {\n\n\t/**\n\t* Constructs a new fuzzy FAIRLY hedge with the given values.\n\t*\n\t* @param {FuzzyTerm} fuzzyTerm - The fuzzy term this hedge is working on.\n\t*/\n\tconstructor( fuzzyTerm = null ) {\n\n\t\tconst terms = ( fuzzyTerm !== null ) ? [ fuzzyTerm ] : new Array();\n\n\t\tsuper( terms );\n\n\t}\n\n\t// FuzzyTerm API\n\n\t/**\n\t* Clears the degree of membership value.\n\t*\n\t* @return {FuzzyFAIRLY} A reference to this fuzzy hedge.\n\t*/\n\tclearDegreeOfMembership() {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tfuzzyTerm.clearDegreeOfMembership();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the degree of membership.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tconst dom = fuzzyTerm.getDegreeOfMembership();\n\n\t\treturn Math.sqrt( dom );\n\n\t}\n\n\t/**\n\t* Updates the degree of membership by the given value.\n\t*\n\t* @return {FuzzyFAIRLY} A reference to this fuzzy hedge.\n\t*/\n\tupdateDegreeOfMembership( value ) {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tfuzzyTerm.updateDegreeOfMembership( Math.sqrt( value ) );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing an OR operator. Can be used to construct\n* fuzzy rules.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyCompositeTerm\n*/\nclass FuzzyOR extends FuzzyCompositeTerm {\n\n\t/**\n\t* Constructs a new fuzzy AND operator with the given values. The constructor\n\t* accepts and arbitrary amount of fuzzy terms.\n\t*/\n\tconstructor() {\n\n\t\tconst terms = Array.from( arguments );\n\n\t\tsuper( terms );\n\n\t}\n\n\t/**\n\t* Returns the degree of membership. The AND operator returns the maximum\n\t* degree of membership of the sets it is operating on.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {\n\n\t\tconst terms = this.terms;\n\t\tlet maxDOM = - Infinity;\n\n\t\tfor ( let i = 0, l = terms.length; i < l; i ++ ) {\n\n\t\t\tconst term = terms[ i ];\n\t\t\tconst currentDOM = term.getDegreeOfMembership();\n\n\t\t\tif ( currentDOM > maxDOM ) maxDOM = currentDOM;\n\n\t\t}\n\n\t\treturn maxDOM;\n\n\t}\n\n}\n\n/**\n* Hedges are special unary operators that can be employed to modify the meaning\n* of a fuzzy set. The FAIRLY fuzzy hedge widens the membership function.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyCompositeTerm\n*/\nclass FuzzyVERY extends FuzzyCompositeTerm {\n\n\t/**\n\t* Constructs a new fuzzy VERY hedge with the given values.\n\t*\n\t* @param {FuzzyTerm} fuzzyTerm - The fuzzy term this hedge is working on.\n\t*/\n\tconstructor( fuzzyTerm = null ) {\n\n\t\tconst terms = ( fuzzyTerm !== null ) ? [ fuzzyTerm ] : new Array();\n\n\t\tsuper( terms );\n\n\t}\n\n\t// FuzzyTerm API\n\n\t/**\n\t* Clears the degree of membership value.\n\t*\n\t* @return {FuzzyVERY} A reference to this fuzzy hedge.\n\t*/\n\tclearDegreeOfMembership() {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tfuzzyTerm.clearDegreeOfMembership();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the degree of membership.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tconst dom = fuzzyTerm.getDegreeOfMembership();\n\n\t\treturn dom * dom;\n\n\t}\n\n\t/**\n\t* Updates the degree of membership by the given value.\n\t*\n\t* @return {FuzzyVERY} A reference to this fuzzy hedge.\n\t*/\n\tupdateDegreeOfMembership( value ) {\n\n\t\tconst fuzzyTerm = this.terms[ 0 ];\n\t\tfuzzyTerm.updateDegreeOfMembership( value * value );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for fuzzy sets. This type of sets are defined by a membership function\n* which can be any arbitrary shape but are typically triangular or trapezoidal. They define\n* a gradual transition from regions completely outside the set to regions completely\n* within the set, thereby enabling a value to have partial membership to a set.\n*\n* This class is derived from {@link FuzzyTerm} so it can be directly used in fuzzy rules.\n* According to the composite design pattern, a fuzzy set can be considered as an atomic fuzzy term.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzyTerm\n*/\nclass FuzzySet extends FuzzyTerm {\n\n\t/**\n\t* Constructs a new fuzzy set with the given values.\n\t*\n\t* @param {Number} representativeValue - The maximum of the set's membership function.\n\t*/\n\tconstructor( representativeValue = 0 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* Represents the degree of membership to this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.degreeOfMembership = 0;\n\n\t\t/**\n\t\t* The maximum of the set's membership function. For instance, if\n\t\t* the set is triangular then this will be the peak point of the triangular.\n\t\t* If the set has a plateau then this value will be the mid point of the\n\t\t* plateau. Used to avoid runtime calculations.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.representativeValue = representativeValue;\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = 0;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = 0;\n\n\t\t//\n\n\t\tthis._uuid = null;\n\n\t}\n\n\t/**\n\t* Unique ID, primarily used in context of serialization/deserialization.\n\t* @type {String}\n\t* @readonly\n\t*/\n\tget uuid() {\n\n\t\tif ( this._uuid === null ) {\n\n\t\t\tthis._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\treturn this._uuid;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value. Notice that this method\n\t* does not set {@link FuzzySet#degreeOfMembership} since other classes use it in\n\t* order to calculate intermediate degree of membership values. This method be\n\t* implemented by all concrete fuzzy set classes.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( /* value */ ) {}\n\n\t// FuzzyTerm API\n\n\t/**\n\t* Clears the degree of membership value.\n\t*\n\t* @return {FuzzySet} A reference to this fuzzy set.\n\t*/\n\tclearDegreeOfMembership() {\n\n\t\tthis.degreeOfMembership = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the degree of membership.\n\t*\n\t* @return {Number} Degree of membership.\n\t*/\n\tgetDegreeOfMembership() {\n\n\t\treturn this.degreeOfMembership;\n\n\t}\n\n\t/**\n\t* Updates the degree of membership by the given value. This method is used when\n\t* the set is part of a fuzzy rule's consequent.\n\t*\n\t* @return {FuzzySet} A reference to this fuzzy set.\n\t*/\n\tupdateDegreeOfMembership( value ) {\n\n\t\t// update the degree of membership if the given value is greater than the\n\t\t// existing one\n\n\t\tif ( value > this.degreeOfMembership ) this.degreeOfMembership = value;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.degreeOfMembership = this.degreeOfMembership;\n\t\tjson.representativeValue = this.representativeValue;\n\t\tjson.left = this.left;\n\t\tjson.right = this.right;\n\t\tjson.uuid = this.uuid;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {FuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.degreeOfMembership = json.degreeOfMembership;\n\t\tthis.representativeValue = json.representativeValue;\n\t\tthis.left = json.left;\n\t\tthis.right = json.right;\n\n\t\tthis._uuid = json.uuid;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that has a s-shape membership function with\n* values from highest to lowest.\n*\n* @author {@link https://github.com/robp94|robp94}\n* @augments FuzzySet\n*/\nclass LeftSCurveFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new S-curve fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\t// the representative value is the midpoint of the plateau of the shoulder\n\n\t\tconst representativeValue = ( midpoint + left ) / 2;\n\n\t\tsuper( representativeValue );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst midpoint = this.midpoint;\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\t// find DOM if the given value is left of the center or equal to the center\n\n\t\tif ( ( value >= left ) && ( value <= midpoint ) ) {\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t\t// find DOM if the given value is right of the midpoint\n\n\t\tif ( ( value > midpoint ) && ( value <= right ) ) {\n\n\t\t\tif ( value >= ( ( midpoint + right ) / 2 ) ) {\n\n\t\t\t\treturn 2 * ( Math.pow( ( value - right ) / ( midpoint - right ), 2 ) );\n\n\t\t\t} else { //todo test\n\n\t\t\t\treturn 1 - ( 2 * ( Math.pow( ( value - midpoint ) / ( midpoint - right ), 2 ) ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// out of range\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {LeftSCurveFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that has a left shoulder shape. The range between\n* the midpoint and left border point represents the same DOM.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzySet\n*/\nclass LeftShoulderFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new left shoulder fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\t// the representative value is the midpoint of the plateau of the shoulder\n\n\t\tconst representativeValue = ( midpoint + left ) / 2;\n\n\t\tsuper( representativeValue );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst midpoint = this.midpoint;\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\t// find DOM if the given value is left of the center or equal to the center\n\n\t\tif ( ( value >= left ) && ( value <= midpoint ) ) {\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t\t// find DOM if the given value is right of the midpoint\n\n\t\tif ( ( value > midpoint ) && ( value <= right ) ) {\n\n\t\t\tconst grad = 1 / ( right - midpoint );\n\n\t\t\treturn grad * ( right - value );\n\n\t\t}\n\n\t\t// out of range\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {LeftShoulderFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that has a normal distribution shape. It can be defined\n* by the mean and standard deviation.\n*\n* @author {@link https://github.com/robp94|robp94}\n* @augments FuzzySet\n*/\nclass NormalDistFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new triangular fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Mean or expectation of the normal distribution.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t* @param {Number} standardDeviation - Standard deviation of the normal distribution.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0, standardDeviation = 0 ) {\n\n\t\tsuper( midpoint );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t\t/**\n\t\t* Represents the standard deviation of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.standardDeviation = standardDeviation;\n\n\t\t//\n\n\t\tthis._cache = {};\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tthis._updateCache();\n\n\t\tif ( value >= this.right || value <= this.left ) return 0;\n\n\t\treturn probabilityDensity( value, this.midpoint, this._cache.variance ) / this._cache.normalizationFactor;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\t\tjson.standardDeviation = this.standardDeviation;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {NormalDistFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\t\tthis.standardDeviation = json.standardDeviation;\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\t_updateCache() {\n\n\t\tconst cache =\tthis._cache;\n\t\tconst midpoint = this.midpoint;\n\t\tconst standardDeviation = this.standardDeviation;\n\n\t\tif ( midpoint !== cache.midpoint || standardDeviation !== cache.standardDeviation ) {\n\n\t\t\tconst variance = standardDeviation * standardDeviation;\n\n\t\t\tcache.midpoint = midpoint;\n\t\t\tcache.standardDeviation = standardDeviation;\n\t\t\tcache.variance = variance;\n\n\t\t\t// this value is used to ensure the DOM lies in the range of [0,1]\n\n\t\t\tcache.normalizationFactor = probabilityDensity( midpoint, midpoint, variance );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n//\n\nfunction probabilityDensity( x, mean, variance ) {\n\n\treturn ( 1 / Math.sqrt( 2 * Math.PI * variance ) ) * Math.exp( - ( Math.pow( ( x - mean ), 2 ) ) / ( 2 * variance ) );\n\n}\n\n/**\n* Class for representing a fuzzy set that has a s-shape membership function with\n* values from lowest to highest.\n*\n* @author {@link https://github.com/robp94|robp94}\n* @augments FuzzySet\n*/\nclass RightSCurveFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new S-curve fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\t// the representative value is the midpoint of the plateau of the shoulder\n\n\t\tconst representativeValue = ( midpoint + right ) / 2;\n\n\t\tsuper( representativeValue );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst midpoint = this.midpoint;\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\t// find DOM if the given value is left of the center or equal to the center\n\n\t\tif ( ( value >= left ) && ( value <= midpoint ) ) {\n\n\t\t\tif ( value <= ( ( left + midpoint ) / 2 ) ) {\n\n\t\t\t\treturn 2 * ( Math.pow( ( value - left ) / ( midpoint - left ), 2 ) );\n\n\t\t\t} else {\n\n\t\t\t\treturn 1 - ( 2 * ( Math.pow( ( value - midpoint ) / ( midpoint - left ), 2 ) ) );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\t// find DOM if the given value is right of the midpoint\n\n\t\tif ( ( value > midpoint ) && ( value <= right ) ) {\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t\t// out of range\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {RightSCurveFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that has a right shoulder shape. The range between\n* the midpoint and right border point represents the same DOM.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzySet\n*/\nclass RightShoulderFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new right shoulder fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\t// the representative value is the midpoint of the plateau of the shoulder\n\n\t\tconst representativeValue = ( midpoint + right ) / 2;\n\n\t\tsuper( representativeValue );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst midpoint = this.midpoint;\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\t// find DOM if the given value is left of the center or equal to the center\n\n\t\tif ( ( value >= left ) && ( value <= midpoint ) ) {\n\n\t\t\tconst grad = 1 / ( midpoint - left );\n\n\t\t\treturn grad * ( value - left );\n\n\t\t}\n\n\t\t// find DOM if the given value is right of the midpoint\n\n\t\tif ( ( value > midpoint ) && ( value <= right ) ) {\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t\t// out of range\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {RightShoulderFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that is a singleton. In its range, the degree of\n* membership is always one.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzySet\n*/\nclass SingletonFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new singleton fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\tsuper( midpoint );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\treturn ( value >= left && value <= right ) ? 1 : 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {SingletonFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy set that has a triangular shape. It can be defined\n* by a left point, a midpoint (peak) and a right point.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments FuzzySet\n*/\nclass TriangularFuzzySet extends FuzzySet {\n\n\t/**\n\t* Constructs a new triangular fuzzy set with the given values.\n\t*\n\t* @param {Number} left - Represents the left border of this fuzzy set.\n\t* @param {Number} midpoint - Represents the peak value of this fuzzy set.\n\t* @param {Number} right - Represents the right border of this fuzzy set.\n\t*/\n\tconstructor( left = 0, midpoint = 0, right = 0 ) {\n\n\t\tsuper( midpoint );\n\n\t\t/**\n\t\t* Represents the left border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.left = left;\n\n\t\t/**\n\t\t* Represents the peak value of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.midpoint = midpoint;\n\n\t\t/**\n\t\t* Represents the right border of this fuzzy set.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.right = right;\n\n\t}\n\n\t/**\n\t* Computes the degree of membership for the given value.\n\t*\n\t* @param {Number} value - The value used to calculate the degree of membership.\n\t* @return {Number} The degree of membership.\n\t*/\n\tcomputeDegreeOfMembership( value ) {\n\n\t\tconst midpoint = this.midpoint;\n\t\tconst left = this.left;\n\t\tconst right = this.right;\n\n\t\t// find DOM if the given value is left of the center or equal to the center\n\n\t\tif ( ( value >= left ) && ( value <= midpoint ) ) {\n\n\t\t\tconst grad = 1 / ( midpoint - left );\n\n\t\t\treturn grad * ( value - left );\n\n\t\t}\n\n\t\t// find DOM if the given value is right of the center\n\n\t\tif ( ( value > midpoint ) && ( value <= right ) ) {\n\n\t\t\tconst grad = 1 / ( right - midpoint );\n\n\t\t\treturn grad * ( right - value );\n\n\t\t}\n\n\t\t// out of range\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.midpoint = this.midpoint;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {TriangularFuzzySet} A reference to this fuzzy set.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.midpoint = json.midpoint;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy rule. Fuzzy rules are comprised of an antecedent and\n* a consequent in the form: IF antecedent THEN consequent.\n*\n* Compared to ordinary if/else statements with discrete values, the consequent term\n* of a fuzzy rule can fire to a matter of degree.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass FuzzyRule {\n\n\t/**\n\t* Constructs a new fuzzy rule with the given values.\n\t*\n\t* @param {FuzzyTerm} antecedent - Represents the condition of the rule.\n\t* @param {FuzzyTerm} consequence - Describes the consequence if the condition is satisfied.\n\t*/\n\tconstructor( antecedent = null, consequence = null ) {\n\n\t\t/**\n\t\t* Represents the condition of the rule.\n\t\t* @type {?FuzzyTerm}\n\t\t* @default null\n\t\t*/\n\t\tthis.antecedent = antecedent;\n\n\t\t/**\n\t\t* Describes the consequence if the condition is satisfied.\n\t\t* @type {?FuzzyTerm}\n\t\t* @default null\n\t\t*/\n\t\tthis.consequence = consequence;\n\n\t}\n\n\t/**\n\t* Initializes the consequent term of this fuzzy rule.\n\t*\n\t* @return {FuzzyRule} A reference to this fuzzy rule.\n\t*/\n\tinitConsequence() {\n\n\t\tthis.consequence.clearDegreeOfMembership();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Evaluates the rule and updates the degree of membership of the consequent term with\n\t* the degree of membership of the antecedent term.\n\t*\n\t* @return {FuzzyRule} A reference to this fuzzy rule.\n\t*/\n\tevaluate() {\n\n\t\tthis.consequence.updateDegreeOfMembership( this.antecedent.getDegreeOfMembership() );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {};\n\n\t\tconst antecedent = this.antecedent;\n\t\tconst consequence = this.consequence;\n\n\t\tjson.type = this.constructor.name;\n\t\tjson.antecedent = ( antecedent instanceof FuzzyCompositeTerm ) ? antecedent.toJSON() : antecedent.uuid;\n\t\tjson.consequence = ( consequence instanceof FuzzyCompositeTerm ) ? consequence.toJSON() : consequence.uuid;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @param {Map<String,FuzzySet>} fuzzySets - Maps fuzzy sets to UUIDs.\n\t* @return {FuzzyRule} A reference to this fuzzy rule.\n\t*/\n\tfromJSON( json, fuzzySets ) {\n\n\t\tfunction parseTerm( termJSON ) {\n\n\t\t\tif ( typeof termJSON === 'string' ) {\n\n\t\t\t\t// atomic term -> FuzzySet\n\n\t\t\t\tconst uuid = termJSON;\n\t\t\t\treturn fuzzySets.get( uuid ) || null;\n\n\t\t\t} else {\n\n\t\t\t\t// composite term\n\n\t\t\t\tconst type = termJSON.type;\n\n\t\t\t\tlet term;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'FuzzyAND':\n\t\t\t\t\t\tterm = new FuzzyAND();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'FuzzyOR':\n\t\t\t\t\t\tterm = new FuzzyOR();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'FuzzyVERY':\n\t\t\t\t\t\tterm = new FuzzyVERY();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'FuzzyFAIRLY':\n\t\t\t\t\t\tterm = new FuzzyFAIRLY();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tLogger.error( 'YUKA.FuzzyRule: Unsupported operator type:', type );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst termsJSON = termJSON.terms;\n\n\t\t\t\tfor ( let i = 0, l = termsJSON.length; i < l; i ++ ) {\n\n\t\t\t\t\t// recursively parse all subordinate terms\n\n\t\t\t\t\tterm.terms.push( parseTerm( termsJSON[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn term;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.antecedent = parseTerm( json.antecedent );\n\t\tthis.consequence = parseTerm( json.consequence );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy linguistic variable (FLV). A FLV is the\n* composition of one or more fuzzy sets to represent a concept or domain\n* qualitatively. For example fuzzs sets \"Dumb\", \"Average\", and \"Clever\"\n* are members of the fuzzy linguistic variable \"IQ\".\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass FuzzyVariable {\n\n\t/**\n\t* Constructs a new fuzzy linguistic variable.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* An array of the fuzzy sets that comprise this FLV.\n\t\t* @type {Array<FuzzySet>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.fuzzySets = new Array();\n\n\t\t/**\n\t\t* The minimum value range of this FLV. This value is\n\t\t* automatically updated when adding/removing fuzzy sets.\n\t\t* @type {Number}\n\t\t* @default Infinity\n\t\t* @readonly\n\t\t*/\n\t\tthis.minRange = Infinity;\n\n\t\t/**\n\t\t* The maximum value range of this FLV. This value is\n\t\t* automatically updated when adding/removing fuzzy sets.\n\t\t* @type {Number}\n\t\t* @default - Infinity\n\t\t* @readonly\n\t\t*/\n\t\tthis.maxRange = - Infinity;\n\n\t}\n\n\t/**\n\t* Adds the given fuzzy set to this FLV.\n\t*\n\t* @param {FuzzySet} fuzzySet - The fuzzy set to add.\n\t* @return {FuzzyVariable} A reference to this FLV.\n\t*/\n\tadd( fuzzySet ) {\n\n\t\tthis.fuzzySets.push( fuzzySet );\n\n\t\t// adjust range\n\n\t\tif ( fuzzySet.left < this.minRange ) this.minRange = fuzzySet.left;\n\t\tif ( fuzzySet.right > this.maxRange ) this.maxRange = fuzzySet.right;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes the given fuzzy set from this FLV.\n\t*\n\t* @param {FuzzySet} fuzzySet - The fuzzy set to remove.\n\t* @return {FuzzyVariable} A reference to this FLV.\n\t*/\n\tremove( fuzzySet ) {\n\n\t\tconst fuzzySets = this.fuzzySets;\n\n\t\tconst index = fuzzySets.indexOf( fuzzySet );\n\t\tfuzzySets.splice( index, 1 );\n\n\t\t// iterate over all fuzzy sets to recalculate the min/max range\n\n\t\tthis.minRange = Infinity;\n\t\tthis.maxRange = - Infinity;\n\n\t\tfor ( let i = 0, l = fuzzySets.length; i < l; i ++ ) {\n\n\t\t\tconst fuzzySet = fuzzySets[ i ];\n\n\t\t\tif ( fuzzySet.left < this.minRange ) this.minRange = fuzzySet.left;\n\t\t\tif ( fuzzySet.right > this.maxRange ) this.maxRange = fuzzySet.right;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Fuzzifies a value by calculating its degree of membership in each of\n\t* this variable's fuzzy sets.\n\t*\n\t* @param {Number} value - The crips value to fuzzify.\n\t* @return {FuzzyVariable} A reference to this FLV.\n\t*/\n\tfuzzify( value ) {\n\n\t\tif ( value < this.minRange || value > this.maxRange ) {\n\n\t\t\tLogger.warn( 'YUKA.FuzzyVariable: Value for fuzzification out of range.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst fuzzySets = this.fuzzySets;\n\n\t\tfor ( let i = 0, l = fuzzySets.length; i < l; i ++ ) {\n\n\t\t\tconst fuzzySet = fuzzySets[ i ];\n\n\t\t\tfuzzySet.degreeOfMembership = fuzzySet.computeDegreeOfMembership( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Defuzzifies the FLV using the \"Average of Maxima\" (MaxAv) method.\n\t*\n\t* @return {Number} The defuzzified, crips value.\n\t*/\n\tdefuzzifyMaxAv() {\n\n\t\t// the average of maxima (MaxAv for short) defuzzification method scales the\n\t\t// representative value of each fuzzy set by its DOM and takes the average\n\n\t\tconst fuzzySets = this.fuzzySets;\n\n\t\tlet bottom = 0;\n\t\tlet top = 0;\n\n\t\tfor ( let i = 0, l = fuzzySets.length; i < l; i ++ ) {\n\n\t\t\tconst fuzzySet = fuzzySets[ i ];\n\n\t\t\tbottom += fuzzySet.degreeOfMembership;\n\t\t\ttop += fuzzySet.representativeValue * fuzzySet.degreeOfMembership;\n\n\t\t}\n\n\t\treturn ( bottom === 0 ) ? 0 : ( top / bottom );\n\n\t}\n\n\t/**\n\t* Defuzzifies the FLV using the \"Centroid\" method.\n\t*\n\t* @param {Number} samples - The amount of samples used for defuzzification.\n\t* @return {Number} The defuzzified, crips value.\n\t*/\n\tdefuzzifyCentroid( samples = 10 ) {\n\n\t\tconst fuzzySets = this.fuzzySets;\n\n\t\tconst stepSize = ( this.maxRange - this.minRange ) / samples;\n\n\t\tlet totalArea = 0;\n\t\tlet sumOfMoments = 0;\n\n\t\tfor ( let s = 1; s <= samples; s ++ ) {\n\n\t\t\tconst sample = this.minRange + ( s * stepSize );\n\n\t\t\tfor ( let i = 0, l = fuzzySets.length; i < l; i ++ ) {\n\n\t\t\t\tconst fuzzySet = fuzzySets[ i ];\n\n\t\t\t\tconst contribution = Math.min( fuzzySet.degreeOfMembership, fuzzySet.computeDegreeOfMembership( sample ) );\n\n\t\t\t\ttotalArea += contribution;\n\n\t\t\t\tsumOfMoments += ( sample * contribution );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn ( totalArea === 0 ) ? 0 : ( sumOfMoments / totalArea );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\tfuzzySets: new Array(),\n\t\t\tminRange: this.minRange.toString(),\n\t\t\tmaxRange: this.maxRange.toString(),\n\t\t};\n\n\t\tfor ( let i = 0, l = this.fuzzySets.length; i < l; i ++ ) {\n\n\t\t\tconst fuzzySet = this.fuzzySets[ i ];\n\t\t\tjson.fuzzySets.push( fuzzySet.toJSON() );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {FuzzyVariable} A reference to this fuzzy variable.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.minRange = parseFloat( json.minRange );\n\t\tthis.maxRange = parseFloat( json.maxRange );\n\n\t\tfor ( let i = 0, l = json.fuzzySets.length; i < l; i ++ ) {\n\n\t\t\tconst fuzzySetJson = json.fuzzySets[ i ];\n\n\t\t\tlet type = fuzzySetJson.type;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'LeftShoulderFuzzySet':\n\t\t\t\t\tthis.fuzzySets.push( new LeftShoulderFuzzySet().fromJSON( fuzzySetJson ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RightShoulderFuzzySet':\n\t\t\t\t\tthis.fuzzySets.push( new RightShoulderFuzzySet().fromJSON( fuzzySetJson ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SingletonFuzzySet':\n\t\t\t\t\tthis.fuzzySets.push( new SingletonFuzzySet().fromJSON( fuzzySetJson ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'TriangularFuzzySet':\n\t\t\t\t\tthis.fuzzySets.push( new TriangularFuzzySet().fromJSON( fuzzySetJson ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tLogger.error( 'YUKA.FuzzyVariable: Unsupported fuzzy set type:', fuzzySetJson.type );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a fuzzy module. Instances of this class are used by\n* game entities for fuzzy inference. A fuzzy module is a collection of fuzzy variables\n* and the rules that operate on them.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass FuzzyModule {\n\n\t/**\n\t* Constructs a new fuzzy module.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* An array of the fuzzy rules.\n\t\t* @type {Array<FuzzyRule>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.rules = new Array();\n\n\t\t/**\n\t\t* A map of FLVs.\n\t\t* @type {Map<String,FuzzyVariable>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.flvs = new Map();\n\n\t}\n\n\t/**\n\t* Adds the given FLV under the given name to this fuzzy module.\n\t*\n\t* @param {String} name - The name of the FLV.\n\t* @param {FuzzyVariable} flv - The FLV to add.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\taddFLV( name, flv ) {\n\n\t\tthis.flvs.set( name, flv );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Remove the FLV under the given name from this fuzzy module.\n\t*\n\t* @param {String} name - The name of the FLV to remove.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\tremoveFLV( name ) {\n\n\t\tthis.flvs.delete( name );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds the given fuzzy rule to this fuzzy module.\n\t*\n\t* @param {FuzzyRule} rule - The fuzzy rule to add.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\taddRule( rule ) {\n\n\t\tthis.rules.push( rule );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes the given fuzzy rule from this fuzzy module.\n\t*\n\t* @param {FuzzyRule} rule - The fuzzy rule to remove.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\tremoveRule( rule ) {\n\n\t\tconst rules = this.rules;\n\n\t\tconst index = rules.indexOf( rule );\n\t\trules.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Calls the fuzzify method of the defined FLV with the given value.\n\t*\n\t* @param {String} name - The name of the FLV\n\t* @param {Number} value - The crips value to fuzzify.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\tfuzzify( name, value ) {\n\n\t\tconst flv = this.flvs.get( name );\n\n\t\tflv.fuzzify( value );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Given a fuzzy variable and a defuzzification method this returns a crisp value.\n\t*\n\t* @param {String} name - The name of the FLV\n\t* @param {String} type - The type of defuzzification.\n\t* @return {Number} The defuzzified, crips value.\n\t*/\n\tdefuzzify( name, type = FuzzyModule.DEFUZ_TYPE.MAXAV ) {\n\n\t\tconst flvs = this.flvs;\n\t\tconst rules = this.rules;\n\n\t\tthis._initConsequences();\n\n\t\tfor ( let i = 0, l = rules.length; i < l; i ++ ) {\n\n\t\t\tconst rule = rules[ i ];\n\n\t\t\trule.evaluate();\n\n\t\t}\n\n\t\tconst flv = flvs.get( name );\n\n\t\tlet value;\n\n\t\tswitch ( type ) {\n\n\t\t\tcase FuzzyModule.DEFUZ_TYPE.MAXAV:\n\t\t\t\tvalue = flv.defuzzifyMaxAv();\n\t\t\t\tbreak;\n\n\t\t\tcase FuzzyModule.DEFUZ_TYPE.CENTROID:\n\t\t\t\tvalue = flv.defuzzifyCentroid();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tLogger.warn( 'YUKA.FuzzyModule: Unknown defuzzification method:', type );\n\t\t\t\tvalue = flv.defuzzifyMaxAv(); // use MaxAv as fallback\n\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\t_initConsequences() {\n\n\t\tconst rules = this.rules;\n\n\t\t// initializes the consequences of all rules.\n\n\t\tfor ( let i = 0, l = rules.length; i < l; i ++ ) {\n\n\t\t\tconst rule = rules[ i ];\n\n\t\t\trule.initConsequence();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\trules: new Array(),\n\t\t\tflvs: new Array()\n\t\t};\n\n\t\t// rules\n\n\t\tconst rules = this.rules;\n\n\t\tfor ( let i = 0, l = rules.length; i < l; i ++ ) {\n\n\t\t\tjson.rules.push( rules[ i ].toJSON() );\n\n\t\t}\n\n\t\t// flvs\n\n\t\tconst flvs = this.flvs;\n\n\t\tfor ( let [ name, flv ] of flvs ) {\n\n\t\t\tjson.flvs.push( { name: name, flv: flv.toJSON() } );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {FuzzyModule} A reference to this fuzzy module.\n\t*/\n\tfromJSON( json ) {\n\n\t\tconst fuzzySets = new Map(); // used for rules\n\n\t\t// flvs\n\n\t\tconst flvsJSON = json.flvs;\n\n\t\tfor ( let i = 0, l = flvsJSON.length; i < l; i ++ ) {\n\n\t\t\tconst flvJSON = flvsJSON[ i ];\n\t\t\tconst name = flvJSON.name;\n\t\t\tconst flv = new FuzzyVariable().fromJSON( flvJSON.flv );\n\n\t\t\tthis.addFLV( name, flv );\n\n\t\t\tfor ( let fuzzySet of flv.fuzzySets ) {\n\n\t\t\t\tfuzzySets.set( fuzzySet.uuid, fuzzySet );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// rules\n\n\t\tconst rulesJSON = json.rules;\n\n\t\tfor ( let i = 0, l = rulesJSON.length; i < l; i ++ ) {\n\n\t\t\tconst ruleJSON = rulesJSON[ i ];\n\t\t\tconst rule = new FuzzyRule().fromJSON( ruleJSON, fuzzySets );\n\n\t\t\tthis.addRule( rule );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nFuzzyModule.DEFUZ_TYPE = Object.freeze( {\n\tMAXAV: 0,\n\tCENTROID: 1\n} );\n\n/**\n* Base class for representing a goal in context of Goal-driven agent design.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Goal {\n\n\t/**\n\t* Constructs a new goal.\n\t*\n\t* @param {GameEntity} owner - The owner of this goal.\n\t*/\n\tconstructor( owner = null ) {\n\n\t\t/**\n\t\t* The owner of this goal.\n\t\t* @type {?GameEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.owner = owner;\n\n\t\t/**\n\t\t* The status of this goal.\n\t\t* @type {Status}\n\t\t* @default INACTIVE\n\t\t*/\n\t\tthis.status = Goal.STATUS.INACTIVE;\n\n\t}\n\n\t/**\n\t* Executed when this goal is activated.\n\t*/\n\tactivate() {}\n\n\t/**\n\t* Executed in each simulation step.\n\t*/\n\texecute() {}\n\n\t/**\n\t* Executed when this goal is satisfied.\n\t*/\n\tterminate() {}\n\n\t/**\n\t* Goals can handle messages. Many don't though, so this defines a default behavior\n\t*\n\t* @param {Telegram} telegram - The telegram with the message data.\n\t* @return {Boolean} Whether the message was processed or not.\n\t*/\n\thandleMessage( /* telegram */ ) {\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Returns true if the status of this goal is *ACTIVE*.\n\t*\n\t* @return {Boolean} Whether the goal is active or not.\n\t*/\n\tactive() {\n\n\t\treturn this.status === Goal.STATUS.ACTIVE;\n\n\t}\n\n\t/**\n\t* Returns true if the status of this goal is *INACTIVE*.\n\t*\n\t* @return {Boolean} Whether the goal is inactive or not.\n\t*/\n\tinactive() {\n\n\t\treturn this.status === Goal.STATUS.INACTIVE;\n\n\t}\n\n\t/**\n\t* Returns true if the status of this goal is *COMPLETED*.\n\t*\n\t* @return {Boolean} Whether the goal is completed or not.\n\t*/\n\tcompleted() {\n\n\t\treturn this.status === Goal.STATUS.COMPLETED;\n\n\t}\n\n\t/**\n\t* Returns true if the status of this goal is *FAILED*.\n\t*\n\t* @return {Boolean} Whether the goal is failed or not.\n\t*/\n\tfailed() {\n\n\t\treturn this.status === Goal.STATUS.FAILED;\n\n\t}\n\n\t/**\n\t* Ensures the goal is replanned if it has failed.\n\t*\n\t* @return {Goal} A reference to this goal.\n\t*/\n\treplanIfFailed() {\n\n\t\tif ( this.failed() === true ) {\n\n\t\t\tthis.status = Goal.STATUS.INACTIVE;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Ensures the goal is activated if it is inactive.\n\t*\n\t* @return {Goal} A reference to this goal.\n\t*/\n\tactivateIfInactive() {\n\n\t\tif ( this.inactive() === true ) {\n\n\t\t\tthis.status = Goal.STATUS.ACTIVE;\n\n\t\t\tthis.activate();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\towner: this.owner.uuid,\n\t\t\tstatus: this.status\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Goal} A reference to this goal.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.owner = json.owner; // uuid\n\t\tthis.status = json.status;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {Goal} A reference to this goal.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.owner = entities.get( this.owner ) || null;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGoal.STATUS = Object.freeze( {\n\tACTIVE: 'active', // the goal has been activated and will be processed each update step\n\tINACTIVE: 'inactive', // the goal is waiting to be activated\n\tCOMPLETED: 'completed', // the goal has completed and will be removed on the next update\n\tFAILED: 'failed' // the goal has failed and will either replan or be removed on the next update\n} );\n\n/**\n* Class representing a composite goal. Essentially it's a goal which consists of subgoals.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments Goal\n*/\nclass CompositeGoal extends Goal {\n\n\t/**\n\t* Constructs a new composite goal.\n\t*\n\t* @param {GameEntity} owner - The owner of this composite goal.\n\t*/\n\tconstructor( owner = null ) {\n\n\t\tsuper( owner );\n\n\t\t/**\n\t\t* A list of subgoals.\n\t\t* @type {Array<Goal>}\n\t\t*/\n\t\tthis.subgoals = new Array();\n\n\t}\n\n\t/**\n\t* Adds a goal as a subgoal to this instance.\n\t*\n\t* @param {Goal} goal - The subgoal to add.\n\t* @return {Goal} A reference to this goal.\n\t*/\n\taddSubgoal( goal ) {\n\n\t\tthis.subgoals.unshift( goal );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes a subgoal from this instance.\n\t*\n\t* @param {Goal} goal - The subgoal to remove.\n\t* @return {Goal} A reference to this goal.\n\t*/\n\tremoveSubgoal( goal ) {\n\n\t\tconst index = this.subgoals.indexOf( goal );\n\t\tthis.subgoals.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes all subgoals and ensures {@link Goal#terminate} is called\n\t* for each subgoal.\n\t*\n\t* @return {Goal} A reference to this goal.\n\t*/\n\tclearSubgoals() {\n\n\t\tconst subgoals = this.subgoals;\n\n\t\tfor ( let i = 0, l = subgoals.length; i < l; i ++ ) {\n\n\t\t\tconst subgoal = subgoals[ i ];\n\n\t\t\tsubgoal.terminate();\n\n\t\t}\n\n\t\tsubgoals.length = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the current subgoal. If no subgoals are defined, *null* is returned.\n\t*\n\t* @return {Goal} The current subgoal.\n\t*/\n\tcurrentSubgoal() {\n\n\t\tconst length = this.subgoals.length;\n\n\t\tif ( length > 0 ) {\n\n\t\t\treturn this.subgoals[ length - 1 ];\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Executes the current subgoal of this composite goal.\n\t*\n\t* @return {Status} The status of this composite subgoal.\n\t*/\n\texecuteSubgoals() {\n\n\t\tconst subgoals = this.subgoals;\n\n\t\t// remove all completed and failed goals from the back of the subgoal list\n\n\t\tfor ( let i = subgoals.length - 1; i >= 0; i -- ) {\n\n\t\t\tconst subgoal = subgoals[ i ];\n\n\t\t\tif ( ( subgoal.completed() === true ) || ( subgoal.failed() === true ) ) {\n\n\t\t\t\t// if the current subgoal is a composite goal, terminate its subgoals too\n\n\t\t\t\tif ( subgoal instanceof CompositeGoal ) {\n\n\t\t\t\t\tsubgoal.clearSubgoals();\n\n\t\t\t\t}\n\n\t\t\t\t// terminate the subgoal itself\n\n\t\t\t\tsubgoal.terminate();\n\t\t\t\tsubgoals.pop();\n\n\t\t\t} else {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if any subgoals remain, process the one at the back of the list\n\n\t\tconst subgoal = this.currentSubgoal();\n\n\t\tif ( subgoal !== null ) {\n\n\t\t\tsubgoal.activateIfInactive();\n\n\t\t\tsubgoal.execute();\n\n\t\t\t// if subgoal is completed but more subgoals are in the list, return 'ACTIVE'\n\t\t\t// status in order to keep processing the list of subgoals\n\n\t\t\tif ( ( subgoal.completed() === true ) && ( subgoals.length > 1 ) ) {\n\n\t\t\t\treturn Goal.STATUS.ACTIVE;\n\n\t\t\t} else {\n\n\t\t\t\treturn subgoal.status;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn Goal.STATUS.COMPLETED;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Returns true if this composite goal has subgoals.\n\t*\n\t* @return {Boolean} Whether the composite goal has subgoals or not.\n\t*/\n\thasSubgoals() {\n\n\t\treturn this.subgoals.length > 0;\n\n\t}\n\n\t/**\n\t* Returns true if the given message was processed by the current subgoal.\n\t*\n\t* @return {Boolean} Whether the message was processed or not.\n\t*/\n\thandleMessage( telegram ) {\n\n\t\tconst subgoal = this.currentSubgoal();\n\n\t\tif ( subgoal !== null ) {\n\n\t\t\treturn subgoal.handleMessage( telegram );\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.subgoals = new Array();\n\n\t\tfor ( let i = 0, l = this.subgoals.length; i < l; i ++ ) {\n\n\t\t\tconst subgoal = this.subgoals[ i ];\n\t\t\tjson.subgoals.push( subgoal.toJSON() );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {CompositeGoal} A reference to this composite goal.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tsuper.resolveReferences( entities );\n\n\t\tfor ( let i = 0, l = this.subgoals.length; i < l; i ++ ) {\n\n\t\t\tconst subgoal = this.subgoals[ i ];\n\t\t\tsubgoal.resolveReferences( entities );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for representing a goal evaluator in context of Goal-driven agent design.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass GoalEvaluator {\n\n\t/**\n\t* Constructs a new goal evaluator.\n\t*\n\t* @param {Number} characterBias - Can be used to adjust the preferences of agents.\n\t*/\n\tconstructor( characterBias = 1 ) {\n\n\t\t/**\n\t\t* Can be used to adjust the preferences of agents. When the desirability score\n\t\t* for a goal has been evaluated, it is multiplied by this value.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.characterBias = characterBias;\n\n\t}\n\n\t/**\n\t* Calculates the desirability. It's a score between 0 and 1 representing the desirability\n\t* of a goal. This goal is considered as a top level strategy of the agent like *Explore* or\n\t* *AttackTarget*. Must be implemented by all concrete goal evaluators.\n\t*\n\t* @param {GameEntity} owner - The owner of this goal evaluator.\n\t* @return {Number} The desirability.\n\t*/\n\tcalculateDesirability( /* owner */ ) {\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t* Executed if this goal evaluator produces the highest desirability. Must be implemented\n\t* by all concrete goal evaluators.\n\t*\n\t* @param {GameEntity} owner - The owner of this goal evaluator.\n\t*/\n\tsetGoal( /* owner */ ) {}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tcharacterBias: this.characterBias\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {GoalEvaluator} A reference to this goal evaluator.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.characterBias = json.characterBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing the brain of a game entity.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments CompositeGoal\n*/\nclass Think extends CompositeGoal {\n\n\t/**\n\t* Constructs a new *Think* object.\n\t*\n\t* @param {GameEntity} owner - The owner of this instance.\n\t*/\n\tconstructor( owner = null ) {\n\n\t\tsuper( owner );\n\n\t\t/**\n\t\t* A list of goal evaluators.\n\t\t* @type {Array<GoalEvaluator>}\n\t\t*/\n\t\tthis.evaluators = new Array();\n\n\t\t//\n\n\t\tthis._typesMap = new Map();\n\n\t}\n\n\t/**\n\t* Executed when this goal is activated.\n\t*/\n\tactivate() {\n\n\t\tthis.arbitrate();\n\n\t}\n\n\t/**\n\t* Executed in each simulation step.\n\t*/\n\texecute() {\n\n\t\tthis.activateIfInactive();\n\n\t\tconst subgoalStatus = this.executeSubgoals();\n\n\t\tif ( subgoalStatus === Goal.STATUS.COMPLETED || subgoalStatus === Goal.STATUS.FAILED ) {\n\n\t\t\tthis.status = Goal.STATUS.INACTIVE;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Executed when this goal is satisfied.\n\t*/\n\tterminate() {\n\n\t\tthis.clearSubgoals();\n\n\t}\n\n\t/**\n\t* Adds the given goal evaluator to this instance.\n\t*\n\t* @param {GoalEvaluator} evaluator - The goal evaluator to add.\n\t* @return {Think} A reference to this instance.\n\t*/\n\taddEvaluator( evaluator ) {\n\n\t\tthis.evaluators.push( evaluator );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes the given goal evaluator from this instance.\n\t*\n\t* @param {GoalEvaluator} evaluator - The goal evaluator to remove.\n\t* @return {Think} A reference to this instance.\n\t*/\n\tremoveEvaluator( evaluator ) {\n\n\t\tconst index = this.evaluators.indexOf( evaluator );\n\t\tthis.evaluators.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* This method represents the top level decision process of an agent.\n\t* It iterates through each goal evaluator and selects the one that\n\t* has the highest score as the current goal.\n\t*\n\t* @return {Think} A reference to this instance.\n\t*/\n\tarbitrate() {\n\n\t\tconst evaluators = this.evaluators;\n\n\t\tlet bestDesirability = - 1;\n\t\tlet bestEvaluator = null;\n\n\t\t// try to find the best top-level goal/strategy for the entity\n\n\t\tfor ( let i = 0, l = evaluators.length; i < l; i ++ ) {\n\n\t\t\tconst evaluator = evaluators[ i ];\n\n\t\t\tlet desirability = evaluator.calculateDesirability( this.owner );\n\t\t\tdesirability *= evaluator.characterBias;\n\n\t\t\tif ( desirability >= bestDesirability ) {\n\n\t\t\t\tbestDesirability = desirability;\n\t\t\t\tbestEvaluator = evaluator;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use the evaluator to set the respective goal\n\n\t\tif ( bestEvaluator !== null ) {\n\n\t\t\tbestEvaluator.setGoal( this.owner );\n\n\t\t} else {\n\n\t\t\tLogger.error( 'YUKA.Think: Unable to determine goal evaluator for game entity:', this.owner );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.evaluators = new Array();\n\n\t\tfor ( let i = 0, l = this.evaluators.length; i < l; i ++ ) {\n\n\t\t\tconst evaluator = this.evaluators[ i ];\n\t\t\tjson.evaluators.push( evaluator.toJSON() );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Think} A reference to this instance.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tconst typesMap = this._typesMap;\n\n\t\tthis.evaluators.length = 0;\n\t\tthis.terminate();\n\n\t\t// evaluators\n\n\t\tfor ( let i = 0, l = json.evaluators.length; i < l; i ++ ) {\n\n\t\t\tconst evaluatorJSON = json.evaluators[ i ];\n\t\t\tconst type = evaluatorJSON.type;\n\n\t\t\tconst ctor = typesMap.get( type );\n\n\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\tconst evaluator = new ctor().fromJSON( evaluatorJSON );\n\t\t\t\tthis.evaluators.push( evaluator );\n\n\t\t\t} else {\n\n\t\t\t\tLogger.warn( 'YUKA.Think: Unsupported goal evaluator type:', type );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// goals\n\n\t\tfunction parseGoal( goalJSON ) {\n\n\t\t\tconst type = goalJSON.type;\n\n\t\t\tconst ctor = typesMap.get( type );\n\n\t\t\tif ( ctor !== undefined ) {\n\n\t\t\t\tconst goal = new ctor().fromJSON( goalJSON );\n\n\t\t\t\tconst subgoalsJSON = goalJSON.subgoals;\n\n\t\t\t\tif ( subgoalsJSON !== undefined ) {\n\n\t\t\t\t\t// composite goal\n\n\t\t\t\t\tfor ( let i = 0, l = subgoalsJSON.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst subgoal = parseGoal( subgoalsJSON[ i ] );\n\n\t\t\t\t\t\tif ( subgoal ) goal.subgoals.push( subgoal );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn goal;\n\n\t\t\t} else {\n\n\t\t\t\tLogger.warn( 'YUKA.Think: Unsupported goal evaluator type:', type );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0, l = json.subgoals.length; i < l; i ++ ) {\n\n\t\t\tconst subgoal = parseGoal( json.subgoals[ i ] );\n\n\t\t\tif ( subgoal ) this.subgoals.push( subgoal );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Registers a custom type for deserialization. When calling {@link Think#fromJSON}\n\t* this instance is able to pick the correct constructor in order to create custom\n\t* goals or goal evaluators.\n\t*\n\t* @param {String} type - The name of the goal or goal evaluator.\n\t* @param {Function} constructor - The constructor function.\n\t* @return {Think} A reference to this instance.\n\t*/\n\tregisterType( type, constructor ) {\n\n\t\tthis._typesMap.set( type, constructor );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for graph edges.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Edge {\n\n\t/**\n\t* Constructs a new edge.\n\t*\n\t* @param {Number} from - The index of the from node.\n\t* @param {Number} to - The index of the to node.\n\t* @param {Number} cost - The cost of this edge.\n\t*/\n\tconstructor( from = - 1, to = - 1, cost = 0 ) {\n\n\t\t/**\n\t\t* The index of the *from* node.\n\t\t* @type {Number}\n\t\t* @default -1\n\t\t*/\n\t\tthis.from = from;\n\n\t\t/**\n\t\t* The index of the *to* node.\n\t\t* @type {Number}\n\t\t* @default -1\n\t\t*/\n\t\tthis.to = to;\n\n\t\t/**\n\t\t* The cost of this edge. This could be for example a distance or time value.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.cost = cost;\n\n\t}\n\n\t/**\n\t* Copies all values from the given edge to this edge.\n\t*\n\t* @param {Edge} edge - The edge to copy.\n\t* @return {Edge} A reference to this edge.\n\t*/\n\tcopy( edge ) {\n\n\t\tthis.from = edge.from;\n\t\tthis.to = edge.to;\n\t\tthis.cost = edge.cost;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new edge and copies all values from this edge.\n\t*\n\t* @return {Edge} A new edge.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tfrom: this.from,\n\t\t\tto: this.to,\n\t\t\tcost: this.cost\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Edge} A reference to this edge.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.from = json.from;\n\t\tthis.to = json.to;\n\t\tthis.cost = json.cost;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for graph nodes.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Node {\n\n\t/**\n\t* Constructs a new node.\n\t*\n\t* @param {Number} index - The unique index of this node.\n\t*/\n\tconstructor( index = - 1 ) {\n\n\t\t/**\n\t\t* The unique index of this node. The default value *-1* means invalid index.\n\t\t* @type {Number}\n\t\t* @default -1\n\t\t*/\n\t\tthis.index = index;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tindex: this.index\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Node} A reference to this node.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.index = json.index;\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class representing a sparse graph implementation based on adjacency lists.\n* A sparse graph can be used to model many different types of graphs like navigation\n* graphs (pathfinding), dependency graphs (e.g. technology trees) or state graphs\n* (a representation of every possible state in a game).\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Graph {\n\n\t/**\n\t* Constructs a new graph.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* Whether this graph is directed or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.digraph = false;\n\n\t\tthis._nodes = new Map(); // contains all nodes in a map: (nodeIndex => node)\n\t\tthis._edges = new Map(); // adjacency list for each node: (nodeIndex => edges)\n\n\t}\n\n\t/**\n\t* Adds a node to the graph.\n\t*\n\t* @param {Node} node - The node to add.\n\t* @return {Graph} A reference to this graph.\n\t*/\n\taddNode( node ) {\n\n\t\tconst index = node.index;\n\n\t\tthis._nodes.set( index, node );\n\t\tthis._edges.set( index, new Array() );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds an edge to the graph. If the graph is undirected, the method\n\t* automatically creates the opponent edge.\n\t*\n\t* @param {Edge} edge - The edge to add.\n\t* @return {Graph} A reference to this graph.\n\t*/\n\taddEdge( edge ) {\n\n\t\tlet edges;\n\n\t\tedges = this._edges.get( edge.from );\n\t\tedges.push( edge );\n\n\t\tif ( this.digraph === false ) {\n\n\t\t\tconst oppositeEdge = edge.clone();\n\n\t\t\toppositeEdge.from = edge.to;\n\t\t\toppositeEdge.to = edge.from;\n\n\t\t\tedges = this._edges.get( edge.to );\n\t\t\tedges.push( oppositeEdge );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns a node for the given node index. If no node is found,\n\t* *null* is returned.\n\t*\n\t* @param {Number} index - The index of the node.\n\t* @return {Node} The requested node.\n\t*/\n\tgetNode( index ) {\n\n\t\treturn this._nodes.get( index ) || null;\n\n\t}\n\n\t/**\n\t* Returns an edge for the given *from* and *to* node indices.\n\t* If no node is found, *null* is returned.\n\t*\n\t* @param {Number} from - The index of the from node.\n\t* @param {Number} to - The index of the to node.\n\t* @return {Edge} The requested edge.\n\t*/\n\tgetEdge( from, to ) {\n\n\t\tif ( this.hasNode( from ) && this.hasNode( to ) ) {\n\n\t\t\tconst edges = this._edges.get( from );\n\n\t\t\tfor ( let i = 0, l = edges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = edges[ i ];\n\n\t\t\t\tif ( edge.to === to ) {\n\n\t\t\t\t\treturn edge;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t* Gathers all nodes of the graph and stores them into the given array.\n\t*\n\t* @param {Array<Node>} result - The result array.\n\t* @return {Array<Node>} The result array.\n\t*/\n\tgetNodes( result ) {\n\n\t\tresult.length = 0;\n\t\tresult.push( ...this._nodes.values() );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Gathers all edges leading from the given node index and stores them\n\t* into the given array.\n\t*\n\t* @param {Number} index - The node index.\n\t* @param {Array<Edge>} result - The result array.\n\t* @return {Array<Edge>} The result array.\n\t*/\n\tgetEdgesOfNode( index, result ) {\n\n\t\tconst edges = this._edges.get( index );\n\n\t\tif ( edges !== undefined ) {\n\n\t\t\tresult.length = 0;\n\t\t\tresult.push( ...edges );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns the node count of the graph.\n\t*\n\t* @return {number} The amount of nodes.\n\t*/\n\tgetNodeCount() {\n\n\t\treturn this._nodes.size;\n\n\t}\n\n\t/**\n\t* Returns the edge count of the graph.\n\t*\n\t* @return {number} The amount of edges.\n\t*/\n\tgetEdgeCount() {\n\n\t\tlet count = 0;\n\n\t\tfor ( const edges of this._edges.values() ) {\n\n\t\t\tcount += edges.length;\n\n\t\t}\n\n\t\treturn count;\n\n\t}\n\n\t/**\n\t* Removes the given node from the graph and all edges which are connected\n\t* with this node.\n\t*\n\t* @param {Node} node - The node to remove.\n\t* @return {Graph} A reference to this graph.\n\t*/\n\tremoveNode( node ) {\n\n\t\tthis._nodes.delete( node.index );\n\n\t\tif ( this.digraph === false ) {\n\n\t\t\t// if the graph is not directed, remove all edges leading to this node\n\n\t\t\tconst edges = this._edges.get( node.index );\n\n\t\t\tfor ( const edge of edges ) {\n\n\t\t\t\tconst edgesOfNeighbor = this._edges.get( edge.to );\n\n\t\t\t\tfor ( let i = ( edgesOfNeighbor.length - 1 ); i >= 0; i -- ) {\n\n\t\t\t\t\tconst edgeNeighbor = edgesOfNeighbor[ i ];\n\n\t\t\t\t\tif ( edgeNeighbor.to === node.index ) {\n\n\t\t\t\t\t\tconst index = edgesOfNeighbor.indexOf( edgeNeighbor );\n\t\t\t\t\t\tedgesOfNeighbor.splice( index, 1 );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if the graph is directed, remove the edges the slow way\n\n\t\t\tfor ( const edges of this._edges.values() ) {\n\n\t\t\t\tfor ( let i = ( edges.length - 1 ); i >= 0; i -- ) {\n\n\t\t\t\t\tconst edge = edges[ i ];\n\n\t\t\t\t\tif ( ! this.hasNode( edge.to ) || ! this.hasNode( edge.from ) ) {\n\n\t\t\t\t\t\tconst index = edges.indexOf( edge );\n\t\t\t\t\t\tedges.splice( index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// delete edge list of node (edges leading from this node)\n\n\t\tthis._edges.delete( node.index );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes the given edge from the graph. If the graph is undirected, the\n\t* method also removes the opponent edge.\n\t*\n\t* @param {Edge} edge - The edge to remove.\n\t* @return {Graph} A reference to this graph.\n\t*/\n\tremoveEdge( edge ) {\n\n\t\t// delete the edge from the node's edge list\n\n\t\tconst edges = this._edges.get( edge.from );\n\n\t\tif ( edges !== undefined ) {\n\n\t\t\tconst index = edges.indexOf( edge );\n\t\t\tedges.splice( index, 1 );\n\n\t\t\t// if the graph is not directed, delete the edge connecting the node in the opposite direction\n\n\t\t\tif ( this.digraph === false ) {\n\n\t\t\t\tconst edges = this._edges.get( edge.to );\n\n\t\t\t\tfor ( let i = 0, l = edges.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst e = edges[ i ];\n\n\t\t\t\t\tif ( e.to === edge.from ) {\n\n\t\t\t\t\t\tconst index = edges.indexOf( e );\n\t\t\t\t\t\tedges.splice( index, 1 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Return true if the graph has the given node index.\n\t*\n\t* @param {Number} index - The node index to test.\n\t* @return {Boolean} Whether this graph has the node or not.\n\t*/\n\thasNode( index ) {\n\n\t\treturn this._nodes.has( index );\n\n\t}\n\n\t/**\n\t* Return true if the graph has an edge connecting the given\n\t* *from* and *to* node indices.\n\t*\n\t* @param {Number} from - The index of the from node.\n\t* @param {Number} to - The index of the to node.\n\t* @return {Boolean} Whether this graph has the edge or not.\n\t*/\n\thasEdge( from, to ) {\n\n\t\tif ( this.hasNode( from ) && this.hasNode( to ) ) {\n\n\t\t\tconst edges = this._edges.get( from );\n\n\t\t\tfor ( let i = 0, l = edges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = edges[ i ];\n\n\t\t\t\tif ( edge.to === to ) {\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Removes all nodes and edges from this graph.\n\t*\n\t* @return {Graph} A reference to this graph.\n\t*/\n\tclear() {\n\n\t\tthis._nodes.clear();\n\t\tthis._edges.clear();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\tdigraph: this.digraph\n\t\t};\n\n\t\tconst edges = new Array();\n\t\tconst nodes = new Array();\n\n\t\tfor ( let [ key, value ] of this._nodes.entries() ) {\n\n\t\t\tconst adjacencyList = new Array();\n\n\t\t\tthis.getEdgesOfNode( key, adjacencyList );\n\n\t\t\tfor ( let i = 0, l = adjacencyList.length; i < l; i ++ ) {\n\n\t\t\t\tedges.push( adjacencyList[ i ].toJSON() );\n\n\t\t\t}\n\n\t\t\tnodes.push( value.toJSON() );\n\n\t\t}\n\n\t\tjson._edges = edges;\n\t\tjson._nodes = nodes;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Graph} A reference to this graph.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.digraph = json.digraph;\n\n\t\tfor ( let i = 0, l = json._nodes.length; i < l; i ++ ) {\n\n\t\t\tthis.addNode( new Node().fromJSON( json._nodes[ i ] ) );\n\n\t\t}\n\n\t\tfor ( let i = 0, l = json._edges.length; i < l; i ++ ) {\n\n\t\t\tthis.addEdge( new Edge().fromJSON( json._edges[ i ] ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing a heuristic for graph search algorithms based\n* on the euclidean distance. The heuristic assumes that the node have\n* a *position* property of type {@link Vector3}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass HeuristicPolicyEuclid {\n\n\t/**\n\t* Calculates the euclidean distance between two nodes.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The index of the source node.\n\t* @param {Number} target - The index of the target node.\n\t* @return {Number} The euclidean distance between both nodes.\n\t*/\n\tstatic calculate( graph, source, target ) {\n\n\t\tconst sourceNode = graph.getNode( source );\n\t\tconst targetNode = graph.getNode( target );\n\n\t\treturn sourceNode.position.distanceTo( targetNode.position );\n\n\t}\n\n}\n\n/**\n* Class for representing a heuristic for graph search algorithms based\n* on the squared euclidean distance. The heuristic assumes that the node\n* have a *position* property of type {@link Vector3}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass HeuristicPolicyEuclidSquared {\n\n\t/**\n\t* Calculates the squared euclidean distance between two nodes.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The index of the source node.\n\t* @param {Number} target - The index of the target node.\n\t* @return {Number} The squared euclidean distance between both nodes.\n\t*/\n\tstatic calculate( graph, source, target ) {\n\n\t\tconst sourceNode = graph.getNode( source );\n\t\tconst targetNode = graph.getNode( target );\n\n\t\treturn sourceNode.position.squaredDistanceTo( targetNode.position );\n\n\t}\n\n}\n\n/**\n* Class for representing a heuristic for graph search algorithms based\n* on the manhattan distance. The heuristic assumes that the node\n* have a *position* property of type {@link Vector3}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass HeuristicPolicyManhattan {\n\n\t/**\n\t* Calculates the manhattan distance between two nodes.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The index of the source node.\n\t* @param {Number} target - The index of the target node.\n\t* @return {Number} The manhattan distance between both nodes.\n\t*/\n\tstatic calculate( graph, source, target ) {\n\n\t\tconst sourceNode = graph.getNode( source );\n\t\tconst targetNode = graph.getNode( target );\n\n\t\treturn sourceNode.position.manhattanDistanceTo( targetNode.position );\n\n\t}\n\n}\n\n/**\n* Class for representing a heuristic for graph search algorithms based\n* on Dijkstra's algorithm.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass HeuristicPolicyDijkstra {\n\n\t/**\n\t* This heuristic always returns *0*. The {@link AStar} algorithm\n\t* behaves with this heuristic exactly like {@link Dijkstra}\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The index of the source node.\n\t* @param {Number} target - The index of the target node.\n\t* @return {Number} The value 0.\n\t*/\n\tstatic calculate( /* graph, source, target */ ) {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n/**\n * Class for representing a binary heap priority queue that enables\n * more efficient sorting of arrays. The implementation is based on\n * {@link https://github.com/mourner/tinyqueue tinyqueue}.\n *\n * @author {@link https://github.com/Mugen87|Mugen87}\n */\nclass PriorityQueue {\n\n\t/**\n\t* Constructs a new priority queue.\n\t*\n\t* @param {Function} compare - The compare function used for sorting.\n\t*/\n\tconstructor( compare = defaultCompare ) {\n\n\t\t/**\n\t\t* The data items of the priority queue.\n\t\t* @type {Array<Object>}\n\t\t*/\n\t\tthis.data = new Array();\n\n\t\t/**\n\t\t* The length of the priority queue.\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t*/\n\t\tthis.length = 0;\n\n\t\t/**\n\t\t* The compare function used for sorting.\n\t\t* @type {Function}\n\t\t* @default defaultCompare\n\t\t*/\n\t\tthis.compare = compare;\n\n\t}\n\n\t/**\n\t* Pushes an item to the priority queue.\n\t*\n\t* @param {Object} item - The item to add.\n\t*/\n\tpush( item ) {\n\n\t\tthis.data.push( item );\n\t\tthis.length ++;\n\t\tthis._up( this.length - 1 );\n\n\t}\n\n\t/**\n\t* Returns the item with the highest priority and removes\n\t* it from the priority queue.\n\t*\n\t* @return {Object} The item with the highest priority.\n\t*/\n\tpop() {\n\n\t\tif ( this.length === 0 ) return null;\n\n\t\tconst top = this.data[ 0 ];\n\t\tthis.length --;\n\n\t\tif ( this.length > 0 ) {\n\n\t\t\tthis.data[ 0 ] = this.data[ this.length ];\n\t\t\tthis._down( 0 );\n\n\t\t}\n\n\t\tthis.data.pop();\n\n\t\treturn top;\n\n\t}\n\n\t/**\n\t* Returns the item with the highest priority without removal.\n\t*\n\t* @return {Object} The item with the highest priority.\n\t*/\n\tpeek() {\n\n\t\treturn this.data[ 0 ] || null;\n\n\t}\n\n\t_up( index ) {\n\n\t\tconst data = this.data;\n\t\tconst compare = this.compare;\n\t\tconst item = data[ index ];\n\n\t\twhile ( index > 0 ) {\n\n\t\t\tconst parent = ( index - 1 ) >> 1;\n\t\t\tconst current = data[ parent ];\n\t\t\tif ( compare( item, current ) >= 0 ) break;\n\t\t\tdata[ index ] = current;\n\t\t\tindex = parent;\n\n\t\t}\n\n\t\tdata[ index ] = item;\n\n\t}\n\n\t_down( index ) {\n\n\t\tconst data = this.data;\n\t\tconst compare = this.compare;\n\t\tconst item = data[ index ];\n\t\tconst halfLength = this.length >> 1;\n\n\t\twhile ( index < halfLength ) {\n\n\t\t\tlet left = ( index << 1 ) + 1;\n\t\t\tlet right = left + 1;\n\t\t\tlet best = data[ left ];\n\n\t\t\tif ( right < this.length && compare( data[ right ], best ) < 0 ) {\n\n\t\t\t\tleft = right;\n\t\t\t\tbest = data[ right ];\n\n\t\t\t}\n\n\t\t\tif ( compare( best, item ) >= 0 ) break;\n\n\t\t\tdata[ index ] = best;\n\t\t\tindex = left;\n\n\t\t}\n\n\n\t\tdata[ index ] = item;\n\n\t}\n\n}\n\n/* istanbul ignore next */\n\nfunction defaultCompare( a, b ) {\n\n\treturn ( a < b ) ? - 1 : ( a > b ) ? 1 : 0;\n\n}\n\n/**\n* Implementation of the AStar algorithm.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass AStar {\n\n\t/**\n\t* Constructs an AStar algorithm object.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The node index of the source node.\n\t* @param {Number} target - The node index of the target node.\n\t*/\n\tconstructor( graph = null, source = - 1, target = - 1 ) {\n\n\t\t/**\n\t\t* The graph.\n\t\t* @type {?Graph}\n\t\t* @default null\n\t\t*/\n\t\tthis.graph = graph;\n\n\t\t/**\n\t\t* The node index of the source node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.source = source;\n\n\t\t/**\n\t\t* The node index of the target node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* Whether the search was successful or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.found = false;\n\n\t\t/**\n\t\t* The heuristic of the search.\n\t\t* @type {Object}\n\t\t* @default HeuristicPolicyEuclid\n\t\t*/\n\t\tthis.heuristic = HeuristicPolicyEuclid;\n\n\t\tthis._cost = new Map(); // contains the \"real\" accumulative cost to a node\n\t\tthis._shortestPathTree = new Map();\n\t\tthis._searchFrontier = new Map();\n\n\t}\n\n\t/**\n\t* Executes the graph search. If the search was successful, {@link AStar#found}\n\t* is set to true.\n\t*\n\t* @return {AStar} A reference to this AStar object.\n\t*/\n\tsearch() {\n\n\t\tconst outgoingEdges = new Array();\n\t\tconst pQueue = new PriorityQueue( compare$1 );\n\n\t\tpQueue.push( {\n\t\t\tcost: 0,\n\t\t\tindex: this.source\n\t\t} );\n\n\t\t// while the queue is not empty\n\n\t\twhile ( pQueue.length > 0 ) {\n\n\t\t\tconst nextNode = pQueue.pop();\n\t\t\tconst nextNodeIndex = nextNode.index;\n\n\t\t\t// if the shortest path tree has the given node, we already found the shortest\n\t\t\t// path to this particular one\n\n\t\t\tif ( this._shortestPathTree.has( nextNodeIndex ) ) continue;\n\n\t\t\t// move this edge from the frontier to the shortest path tree\n\n\t\t\tif ( this._searchFrontier.has( nextNodeIndex ) === true ) {\n\n\t\t\t\tthis._shortestPathTree.set( nextNodeIndex, this._searchFrontier.get( nextNodeIndex ) );\n\n\t\t\t}\n\n\t\t\t// if the target has been found exit\n\n\t\t\tif ( nextNodeIndex === this.target ) {\n\n\t\t\t\tthis.found = true;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t\t// now relax the edges\n\n\t\t\tthis.graph.getEdgesOfNode( nextNodeIndex, outgoingEdges );\n\n\t\t\tfor ( let i = 0, l = outgoingEdges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = outgoingEdges[ i ];\n\n\t\t\t\t// A* cost formula : F = G + H\n\n\t\t\t\t// G is the cumulative cost to reach a node\n\n\t\t\t\tconst G = ( this._cost.get( nextNodeIndex ) || 0 ) + edge.cost;\n\n\t\t\t\t// H is the heuristic estimate of the distance to the target\n\n\t\t\t\tconst H = this.heuristic.calculate( this.graph, edge.to, this.target );\n\n\t\t\t\t// F is the sum of G and H\n\n\t\t\t\tconst F = G + H;\n\n\t\t\t\t// We enhance our search frontier in two cases:\n\t\t\t\t// 1. If the node was never on the search frontier\n\t\t\t\t// 2. If the cost to this node is better than before\n\n\t\t\t\tif ( ( this._searchFrontier.has( edge.to ) === false ) || G < ( this._cost.get( edge.to ) ) ) {\n\n\t\t\t\t\tthis._cost.set( edge.to, G );\n\n\t\t\t\t\tthis._searchFrontier.set( edge.to, edge );\n\n\t\t\t\t\tpQueue.push( {\n\t\t\t\t\t\tcost: F,\n\t\t\t\t\t\tindex: edge.to\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.found = false;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the shortest path from the source to the target node as an array of node indices.\n\t*\n\t* @return {Array<Number>} The shortest path.\n\t*/\n\tgetPath() {\n\n\t\t// array of node indices that comprise the shortest path from the source to the target\n\n\t\tconst path = new Array();\n\n\t\t// just return an empty path if no path to target found or if no target has been specified\n\n\t\tif ( this.found === false || this.target === - 1 ) return path;\n\n\t\t// start with the target of the path\n\n\t\tlet currentNode = this.target;\n\n\t\tpath.push( currentNode );\n\n\t\t// while the current node is not the source node keep processing\n\n\t\twhile ( currentNode !== this.source ) {\n\n\t\t\t// determine the parent of the current node\n\n\t\t\tcurrentNode = this._shortestPathTree.get( currentNode ).from;\n\n\t\t\t// push the new current node at the beginning of the array\n\n\t\t\tpath.unshift( currentNode );\n\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t/**\n\t* Returns the search tree of the algorithm as an array of edges.\n\t*\n\t* @return {Array<Edge>} The search tree.\n\t*/\n\tgetSearchTree() {\n\n\t\treturn [ ...this._shortestPathTree.values() ];\n\n\t}\n\n\t/**\n\t* Clears the internal state of the object. A new search is now possible.\n\t*\n\t* @return {AStar} A reference to this AStar object.\n\t*/\n\tclear() {\n\n\t\tthis.found = false;\n\n\t\tthis._cost.clear();\n\t\tthis._shortestPathTree.clear();\n\t\tthis._searchFrontier.clear();\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nfunction compare$1( a, b ) {\n\n\treturn ( a.cost < b.cost ) ? - 1 : ( a.cost > b.cost ) ? 1 : 0;\n\n}\n\n/**\n* Implementation of Breadth-first Search.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass BFS {\n\n\t/**\n\t* Constructs a BFS algorithm object.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The node index of the source node.\n\t* @param {Number} target - The node index of the target node.\n\t*/\n\tconstructor( graph = null, source = - 1, target = - 1 ) {\n\n\t\t/**\n\t\t* The graph.\n\t\t* @type {?Graph}\n\t\t* @default null\n\t\t*/\n\t\tthis.graph = graph;\n\n\t\t/**\n\t\t* The node index of the source node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.source = source;\n\n\t\t/**\n\t\t* The node index of the target node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* Whether the search was successful or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.found = false;\n\n\t\tthis._route = new Map(); // this holds the route taken to the target\n\t\tthis._visited = new Set(); // holds the visited nodes\n\n\t\tthis._spanningTree = new Set(); // for debugging purposes\n\n\t}\n\n\t/**\n\t* Executes the graph search. If the search was successful, {@link BFS#found}\n\t* is set to true.\n\t*\n\t* @return {BFS} A reference to this BFS object.\n\t*/\n\tsearch() {\n\n\t\t// create a queue(FIFO) of edges, done via an array\n\n\t\tconst queue = new Array();\n\t\tconst outgoingEdges = new Array();\n\n\t\t// create a dummy edge and put on the queue to begin the search\n\n\t\tconst startEdge = new Edge( this.source, this.source );\n\n\t\tqueue.push( startEdge );\n\n\t\t// mark the source node as visited\n\n\t\tthis._visited.add( this.source );\n\n\t\t// while there are edges in the queue keep searching\n\n\t\twhile ( queue.length > 0 ) {\n\n\t\t\t// grab the first edge and remove it from the queue\n\n\t\t\tconst nextEdge = queue.shift();\n\n\t\t\t// make a note of the parent of the node this edge points to\n\n\t\t\tthis._route.set( nextEdge.to, nextEdge.from );\n\n\t\t\t// expand spanning tree\n\n\t\t\tif ( nextEdge !== startEdge ) {\n\n\t\t\t\tthis._spanningTree.add( nextEdge );\n\n\t\t\t}\n\n\t\t\t// if the target has been found the method can return success\n\n\t\t\tif ( nextEdge.to === this.target ) {\n\n\t\t\t\tthis.found = true;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t\t// determine outgoing edges\n\n\t\t\tthis.graph.getEdgesOfNode( nextEdge.to, outgoingEdges );\n\n\t\t\t// push the edges leading from the node this edge points to onto the\n\t\t\t// queue (provided the edge does not point to a previously visited node)\n\n\t\t\tfor ( let i = 0, l = outgoingEdges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = outgoingEdges[ i ];\n\n\t\t\t\tif ( this._visited.has( edge.to ) === false ) {\n\n\t\t\t\t\tqueue.push( edge );\n\n\t\t\t\t\t// the node is marked as visited here, BEFORE it is examined,\n\t\t\t\t\t// because it ensures a maximum of N edges are ever placed in the queue rather than E edges.\n\t\t\t\t\t// (N = number of nodes, E = number of edges)\n\n\t\t\t\t\tthis._visited.add( edge.to );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.found = false;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the shortest path from the source to the target node as an array of node indices.\n\t*\n\t* @return {Array<Number>} The shortest path.\n\t*/\n\tgetPath() {\n\n\t\t// array of node indices that comprise the shortest path from the source to the target\n\n\t\tconst path = new Array();\n\n\t\t// just return an empty path if no path to target found or if no target has been specified\n\n\t\tif ( this.found === false || this.target === - 1 ) return path;\n\n\t\t// start with the target of the path\n\n\t\tlet currentNode = this.target;\n\n\t\tpath.push( currentNode );\n\n\t\t// while the current node is not the source node keep processing\n\n\t\twhile ( currentNode !== this.source ) {\n\n\t\t\t// determine the parent of the current node\n\n\t\t\tcurrentNode = this._route.get( currentNode );\n\n\t\t\t// push the new current node at the beginning of the array\n\n\t\t\tpath.unshift( currentNode );\n\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t/**\n\t* Returns the search tree of the algorithm as an array of edges.\n\t*\n\t* @return {Array<Edge>} The search tree.\n\t*/\n\tgetSearchTree() {\n\n\t\treturn [ ...this._spanningTree ];\n\n\t}\n\n\t/**\n\t* Clears the internal state of the object. A new search is now possible.\n\t*\n\t* @return {BFS} A reference to this BFS object.\n\t*/\n\tclear() {\n\n\t\tthis.found = false;\n\n\t\tthis._route.clear();\n\t\tthis._visited.clear();\n\t\tthis._spanningTree.clear();\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Implementation of Depth-first Search.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass DFS {\n\n\t/**\n\t* Constructs a DFS algorithm object.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The node index of the source node.\n\t* @param {Number} target - The node index of the target node.\n\t*/\n\tconstructor( graph = null, source = - 1, target = - 1 ) {\n\n\t\t/**\n\t\t* The graph.\n\t\t* @type {?Graph}\n\t\t* @default null\n\t\t*/\n\t\tthis.graph = graph;\n\n\t\t/**\n\t\t* The node index of the source node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.source = source;\n\n\t\t/**\n\t\t* The node index of the target node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* Whether the search was successful or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.found = false;\n\n\t\tthis._route = new Map(); // this holds the route taken to the target\n\t\tthis._visited = new Set(); // holds the visited nodes\n\n\t\tthis._spanningTree = new Set(); // for debugging purposes\n\n\t}\n\n\t/**\n\t* Executes the graph search. If the search was successful, {@link DFS#found}\n\t* is set to true.\n\t*\n\t* @return {DFS} A reference to this DFS object.\n\t*/\n\tsearch() {\n\n\t\t// create a stack(LIFO) of edges, done via an array\n\n\t\tconst stack = new Array();\n\t\tconst outgoingEdges = new Array();\n\n\t\t// create a dummy edge and put on the stack to begin the search\n\n\t\tconst startEdge = new Edge( this.source, this.source );\n\n\t\tstack.push( startEdge );\n\n\t\t// while there are edges in the stack keep searching\n\n\t\twhile ( stack.length > 0 ) {\n\n\t\t\t// grab the next edge and remove it from the stack\n\n\t\t\tconst nextEdge = stack.pop();\n\n\t\t\t// make a note of the parent of the node this edge points to\n\n\t\t\tthis._route.set( nextEdge.to, nextEdge.from );\n\n\t\t\t// and mark it visited\n\n\t\t\tthis._visited.add( nextEdge.to );\n\n\t\t\t// expand spanning tree\n\n\t\t\tif ( nextEdge !== startEdge ) {\n\n\t\t\t\tthis._spanningTree.add( nextEdge );\n\n\t\t\t}\n\n\t\t\t// if the target has been found the method can return success\n\n\t\t\tif ( nextEdge.to === this.target ) {\n\n\t\t\t\tthis.found = true;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t\t// determine outgoing edges\n\n\t\t\tthis.graph.getEdgesOfNode( nextEdge.to, outgoingEdges );\n\n\t\t\t// push the edges leading from the node this edge points to onto the\n\t\t\t// stack (provided the edge does not point to a previously visited node)\n\n\t\t\tfor ( let i = 0, l = outgoingEdges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = outgoingEdges[ i ];\n\n\t\t\t\tif ( this._visited.has( edge.to ) === false ) {\n\n\t\t\t\t\tstack.push( edge );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.found = false;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the shortest path from the source to the target node as an array of node indices.\n\t*\n\t* @return {Array<Number>} The shortest path.\n\t*/\n\tgetPath() {\n\n\t\t// array of node indices that comprise the shortest path from the source to the target\n\n\t\tconst path = new Array();\n\n\t\t// just return an empty path if no path to target found or if no target has been specified\n\n\t\tif ( this.found === false || this.target === - 1 ) return path;\n\n\t\t// start with the target of the path\n\n\t\tlet currentNode = this.target;\n\n\t\tpath.push( currentNode );\n\n\t\t// while the current node is not the source node keep processing\n\n\t\twhile ( currentNode !== this.source ) {\n\n\t\t\t// determine the parent of the current node\n\n\t\t\tcurrentNode = this._route.get( currentNode );\n\n\t\t\t// push the new current node at the beginning of the array\n\n\t\t\tpath.unshift( currentNode );\n\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t/**\n\t* Returns the search tree of the algorithm as an array of edges.\n\t*\n\t* @return {Array<Edge>} The search tree.\n\t*/\n\tgetSearchTree() {\n\n\t\treturn [ ...this._spanningTree ];\n\n\t}\n\n\t/**\n\t* Clears the internal state of the object. A new search is now possible.\n\t*\n\t* @return {DFS} A reference to this DFS object.\n\t*/\n\tclear() {\n\n\t\tthis.found = false;\n\n\t\tthis._route.clear();\n\t\tthis._visited.clear();\n\t\tthis._spanningTree.clear();\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Implementation of Dijkstra's algorithm.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Dijkstra {\n\n\t/**\n\t* Constructs a Dijkstra algorithm object.\n\t*\n\t* @param {Graph} graph - The graph.\n\t* @param {Number} source - The node index of the source node.\n\t* @param {Number} target - The node index of the target node.\n\t*/\n\tconstructor( graph = null, source = - 1, target = - 1 ) {\n\n\t\t/**\n\t\t* The graph.\n\t\t* @type {?Graph}\n\t\t* @default null\n\t\t*/\n\t\tthis.graph = graph;\n\n\t\t/**\n\t\t* The node index of the source node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.source = source;\n\n\t\t/**\n\t\t* The node index of the target node.\n\t\t* @type {Number}\n\t\t* @default - 1\n\t\t*/\n\t\tthis.target = target;\n\n\t\t/**\n\t\t* Whether the search was successful or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.found = false;\n\n\t\tthis._cost = new Map(); // total cost of the bast path so far for a given node\n\t\tthis._shortestPathTree = new Map();\n\t\tthis._searchFrontier = new Map();\n\n\t}\n\n\t/**\n\t* Executes the graph search. If the search was successful, {@link Dijkstra#found}\n\t* is set to true.\n\t*\n\t* @return {Dijkstra} A reference to this Dijkstra object.\n\t*/\n\tsearch() {\n\n\t\tconst outgoingEdges = new Array();\n\t\tconst pQueue = new PriorityQueue( compare );\n\n\t\tpQueue.push( {\n\t\t\tcost: 0,\n\t\t\tindex: this.source\n\t\t} );\n\n\t\t// while the queue is not empty\n\n\t\twhile ( pQueue.length > 0 ) {\n\n\t\t\tconst nextNode = pQueue.pop();\n\t\t\tconst nextNodeIndex = nextNode.index;\n\n\t\t\t// if the shortest path tree has the given node, we already found the shortest\n\t\t\t// path to this particular one\n\n\t\t\tif ( this._shortestPathTree.has( nextNodeIndex ) ) continue;\n\n\t\t\t// move this edge from the frontier to the shortest path tree\n\n\t\t\tif ( this._searchFrontier.has( nextNodeIndex ) === true ) {\n\n\t\t\t\tthis._shortestPathTree.set( nextNodeIndex, this._searchFrontier.get( nextNodeIndex ) );\n\n\t\t\t}\n\n\t\t\t// if the target has been found exit\n\n\t\t\tif ( nextNodeIndex === this.target ) {\n\n\t\t\t\tthis.found = true;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t\t// now relax the edges\n\n\t\t\tthis.graph.getEdgesOfNode( nextNodeIndex, outgoingEdges );\n\n\t\t\tfor ( let i = 0, l = outgoingEdges.length; i < l; i ++ ) {\n\n\t\t\t\tconst edge = outgoingEdges[ i ];\n\n\t\t\t\t// the total cost to the node this edge points to is the cost to the\n\t\t\t\t// current node plus the cost of the edge connecting them.\n\n\t\t\t\tconst newCost = ( this._cost.get( nextNodeIndex ) || 0 ) + edge.cost;\n\n\t\t\t\t// We enhance our search frontier in two cases:\n\t\t\t\t// 1. If the node was never on the search frontier\n\t\t\t\t// 2. If the cost to this node is better than before\n\n\t\t\t\tif ( ( this._searchFrontier.has( edge.to ) === false ) || newCost < ( this._cost.get( edge.to ) ) ) {\n\n\t\t\t\t\tthis._cost.set( edge.to, newCost );\n\n\t\t\t\t\tthis._searchFrontier.set( edge.to, edge );\n\n\t\t\t\t\tpQueue.push( {\n\t\t\t\t\t\tcost: newCost,\n\t\t\t\t\t\tindex: edge.to\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.found = false;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the shortest path from the source to the target node as an array of node indices.\n\t*\n\t* @return {Array<Number>} The shortest path.\n\t*/\n\tgetPath() {\n\n\t\t// array of node indices that comprise the shortest path from the source to the target\n\n\t\tconst path = new Array();\n\n\t\t// just return an empty path if no path to target found or if no target has been specified\n\n\t\tif ( this.found === false || this.target === - 1 ) return path;\n\n\t\t// start with the target of the path\n\n\t\tlet currentNode = this.target;\n\n\t\tpath.push( currentNode );\n\n\t\t// while the current node is not the source node keep processing\n\n\t\twhile ( currentNode !== this.source ) {\n\n\t\t\t// determine the parent of the current node\n\n\t\t\tcurrentNode = this._shortestPathTree.get( currentNode ).from;\n\n\t\t\t// push the new current node at the beginning of the array\n\n\t\t\tpath.unshift( currentNode );\n\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t/**\n\t* Returns the search tree of the algorithm as an array of edges.\n\t*\n\t* @return {Array<Edge>} The search tree.\n\t*/\n\tgetSearchTree() {\n\n\t\treturn [ ...this._shortestPathTree.values() ];\n\n\t}\n\n\t/**\n\t* Clears the internal state of the object. A new search is now possible.\n\t*\n\t* @return {Dijkstra} A reference to this Dijkstra object.\n\t*/\n\tclear() {\n\n\t\tthis.found = false;\n\n\t\tthis._cost.clear();\n\t\tthis._shortestPathTree.clear();\n\t\tthis._searchFrontier.clear();\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nfunction compare( a, b ) {\n\n\treturn ( a.cost < b.cost ) ? - 1 : ( a.cost > b.cost ) ? 1 : 0;\n\n}\n\nconst v1$1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nconst xAxis$1 = new Vector3( 1, 0, 0 );\nconst yAxis$1 = new Vector3( 0, 1, 0 );\nconst zAxis$1 = new Vector3( 0, 0, 1 );\n\nconst triangle = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\nconst intersection = new Vector3();\nconst intersections = new Array();\n\n/**\n* Class representing a bounding volume hierarchy. The current implementation\n* represents single BVH nodes as AABBs. It accepts arbitrary branching factors\n* and can subdivide the given geometry until a defined hierarchy depth has been reached.\n* Besides, the hierarchy construction is performed top-down and the algorithm only\n* performs splits along the cardinal axes.\n*\n* Reference: Bounding Volume Hierarchies in Real-Time Collision Detection\n* by Christer Ericson (chapter 6).\n*\n* @author {@link https://github.com/robp94|robp94}\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass BVH {\n\n\t/**\n\t* Constructs a new BVH.\n\t*\n\t* @param {Number} branchingFactor - The branching factor.\n\t* @param {Number} primitivesPerNode - The minimum amount of primitives per BVH node.\n\t* @param {Number} depth - The maximum hierarchical depth.\n\t*/\n\tconstructor( branchingFactor = 2, primitivesPerNode = 1, depth = 10 ) {\n\n\t\t/**\n\t\t* The branching factor (how many nodes per level).\n\t\t* @type {Number}\n\t\t* @default 2\n\t\t*/\n\t\tthis.branchingFactor = branchingFactor;\n\n\t\t/**\n\t\t* The minimum amount of primitives per BVH node.\n\t\t* @type {Number}\n\t\t* @default 10\n\t\t*/\n\t\tthis.primitivesPerNode = primitivesPerNode;\n\n\t\t/**\n\t\t* The maximum hierarchical depth.\n\t\t* @type {Number}\n\t\t* @default 10\n\t\t*/\n\t\tthis.depth = depth;\n\n\t\t/**\n\t\t* The root BVH node.\n\t\t* @type {BVHNode}\n\t\t* @default null\n\t\t*/\n\t\tthis.root = null;\n\n\t}\n\n\t/**\n\t* Computes a BVH for the given mesh geometry.\n\t*\n\t* @param {MeshGeometry} geometry - The mesh geometry.\n\t* @return {BVH} A reference to this BVH.\n\t*/\n\tfromMeshGeometry( geometry ) {\n\n\t\tthis.root = new BVHNode();\n\n\t\t// primitives\n\n\t\tif ( geometry.indices !== null ) geometry = geometry.toTriangleSoup();\n\n\t\tconst vertices = geometry.vertices;\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tthis.root.primitives.push( vertices[ i ] );\n\n\t\t}\n\n\t\t// centroids\n\n\t\tconst primitives = this.root.primitives;\n\n\t\tfor ( let i = 0, l = primitives.length; i < l; i += 9 ) {\n\n\t\t\tv1$1.fromArray( primitives, i );\n\t\t\tv2.fromArray( primitives, i + 3 );\n\t\t\tv3.fromArray( primitives, i + 6 );\n\n\t\t\tv1$1.add( v2 ).add( v3 ).divideScalar( 3 );\n\n\t\t\tthis.root.centroids.push( v1$1.x, v1$1.y, v1$1.z );\n\n\t\t}\n\n\t\t// build\n\n\t\tthis.root.build( this.branchingFactor, this.primitivesPerNode, this.depth, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Executes the given callback for each node of the BVH.\n\t*\n\t* @param {Function} callback - The callback to execute.\n\t* @return {BVH} A reference to this BVH.\n\t*/\n\ttraverse( callback ) {\n\n\t\tthis.root.traverse( callback );\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* A single node in a bounding volume hierarchy (BVH).\n*\n* @author {@link https://github.com/robp94|robp94}\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass BVHNode {\n\n\t/**\n\t* Constructs a BVH node.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The parent BVH node.\n\t\t* @type {BVHNode}\n\t\t* @default null\n\t\t*/\n\t\tthis.parent = null;\n\n\t\t/**\n\t\t* The child BVH nodes.\n\t\t* @type {Array<BVHNode>}\n\t\t*/\n\t\tthis.children = new Array();\n\n\t\t/**\n\t\t* The bounding volume of this BVH node.\n\t\t* @type {AABB}\n\t\t*/\n\t\tthis.boundingVolume = new AABB();\n\n\t\t/**\n\t\t* The primitives (triangles) of this BVH node.\n\t\t* Only filled for leaf nodes.\n\t\t* @type {Array<Number>}\n\t\t*/\n\t\tthis.primitives = new Array();\n\n\t\t/**\n\t\t* The centroids of the node's triangles.\n\t\t* Only filled for leaf nodes.\n\t\t* @type {Array<Number>}\n\t\t*/\n\t\tthis.centroids = new Array();\n\n\t}\n\n\t/**\n\t* Returns true if this BVH node is a root node.\n\t*\n\t* @return {Boolean} Whether this BVH node is a root node or not.\n\t*/\n\troot() {\n\n\t\treturn this.parent === null;\n\n\t}\n\n\t/**\n\t* Returns true if this BVH node is a leaf node.\n\t*\n\t* @return {Boolean} Whether this BVH node is a leaf node or not.\n\t*/\n\tleaf() {\n\n\t\treturn this.children.length === 0;\n\n\t}\n\n\t/**\n\t* Returns the depth of this BVH node in its hierarchy.\n\t*\n\t* @return {Number} The hierarchical depth of this BVH node.\n\t*/\n\tgetDepth() {\n\n\t\tlet depth = 0;\n\n\t\tlet parent = this.parent;\n\n\t\twhile ( parent !== null ) {\n\n\t\t\tparent = parent.parent;\n\t\t\tdepth ++;\n\n\t\t}\n\n\t\treturn depth;\n\n\t}\n\n\t/**\n\t* Executes the given callback for this BVH node and its ancestors.\n\t*\n\t* @param {Function} callback - The callback to execute.\n\t* @return {BVHNode} A reference to this BVH node.\n\t*/\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\t this.children[ i ].traverse( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Builds this BVH node. That means the respective bounding volume\n\t* is computed and the node's primitives are distributed under new child nodes.\n\t* This only happens if the maximum hierarchical depth is not yet reached and\n\t* the node does contain enough primitives required for a split.\n\t*\n\t* @param {Number} branchingFactor - The branching factor.\n\t* @param {Number} primitivesPerNode - The minimum amount of primitives per BVH node.\n\t* @param {Number} maxDepth - The maximum  hierarchical depth.\n\t* @param {Number} currentDepth - The current hierarchical depth.\n\t* @return {BVHNode} A reference to this BVH node.\n\t*/\n\tbuild( branchingFactor, primitivesPerNode, maxDepth, currentDepth ) {\n\n\t\tthis.computeBoundingVolume();\n\n\t\t// check depth and primitive count\n\n\t\tconst primitiveCount = this.primitives.length / 9;\n\t\tconst newPrimitiveCount = Math.floor( primitiveCount / branchingFactor );\n\n\t\tif ( ( currentDepth <= maxDepth ) && ( newPrimitiveCount >= primitivesPerNode ) ) {\n\n\t\t\t// split (distribute primitives on new child BVH nodes)\n\n\t\t\tthis.split( branchingFactor );\n\n\t\t\t// proceed with build on the next hierarchy level\n\n\t\t\tfor ( let i = 0; i < branchingFactor; i ++ ) {\n\n\t\t\t\tthis.children[ i ].build( branchingFactor, primitivesPerNode, maxDepth, currentDepth + 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the AABB for this BVH node.\n\t*\n\t* @return {BVHNode} A reference to this BVH node.\n\t*/\n\tcomputeBoundingVolume() {\n\n\t\tconst primitives = this.primitives;\n\n\t\tconst aabb = this.boundingVolume;\n\n\t\t// compute AABB\n\n\t\taabb.min.set( Infinity, Infinity, Infinity );\n\t\taabb.max.set( - Infinity, - Infinity, - Infinity );\n\n\t\tfor ( let i = 0, l = primitives.length; i < l; i += 3 ) {\n\n\t\t\tv1$1.x = primitives[ i ];\n\t\t\tv1$1.y = primitives[ i + 1 ];\n\t\t\tv1$1.z = primitives[ i + 2 ];\n\n\t\t\taabb.expand( v1$1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the split axis. Right now, only the cardinal axes\n\t* are potential split axes.\n\t*\n\t* @return {Vector3} The split axis.\n\t*/\n\tcomputeSplitAxis() {\n\n\t\tlet maxX, maxY, maxZ = maxY = maxX = - Infinity;\n\t\tlet minX, minY, minZ = minY = minX = Infinity;\n\n\t\tconst centroids = this.centroids;\n\n\t\tfor ( let i = 0, l = centroids.length; i < l; i += 3 ) {\n\n\t\t\tconst x = centroids[ i ];\n\t\t\tconst y = centroids[ i + 1 ];\n\t\t\tconst z = centroids[ i + 2 ];\n\n\t\t\tif ( x > maxX ) {\n\n\t\t\t\tmaxX = x;\n\n\t\t\t}\n\n\t\t\tif ( y > maxY ) {\n\n\t\t\t\tmaxY = y;\n\n\t\t\t}\n\n\t\t\tif ( z > maxZ ) {\n\n\t\t\t\tmaxZ = z;\n\n\t\t\t}\n\n\t\t\tif ( x < minX ) {\n\n\t\t\t\tminX = x;\n\n\t\t\t}\n\n\t\t\tif ( y < minY ) {\n\n\t\t\t\tminY = y;\n\n\t\t\t}\n\n\t\t\tif ( z < minZ ) {\n\n\t\t\t\tminZ = z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst rangeX = maxX - minX;\n\t\tconst rangeY = maxY - minY;\n\t\tconst rangeZ = maxZ - minZ;\n\n\t\tif ( rangeX > rangeY && rangeX > rangeZ ) {\n\n\t\t\treturn xAxis$1;\n\n\t\t} else if ( rangeY > rangeZ ) {\n\n\t\t\treturn yAxis$1;\n\n\t\t} else {\n\n\t\t\treturn zAxis$1;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Splits the node and distributes node's primitives over new child nodes.\n\t*\n\t* @param {Number} branchingFactor - The branching factor.\n\t* @return {BVHNode} A reference to this BVH node.\n\t*/\n\tsplit( branchingFactor ) {\n\n\t\tconst centroids = this.centroids;\n\t\tconst primitives = this.primitives;\n\n\t\t// create (empty) child BVH nodes\n\n\t\tfor ( let i = 0; i < branchingFactor; i ++ ) {\n\n\t\t\tthis.children[ i ] = new BVHNode();\n\t\t\tthis.children[ i ].parent = this;\n\n\t\t}\n\n\t\t// sort primitives along split axis\n\n\t\tconst axis = this.computeSplitAxis();\n\t\tconst sortedPrimitiveIndices = new Array();\n\n\t\tfor ( let i = 0, l = centroids.length; i < l; i += 3 ) {\n\n\t\t\tv1$1.fromArray( centroids, i );\n\n\t\t\t// the result from the dot product is our sort criterion.\n\t\t\t// it represents the projection of the centroid on the split axis\n\n\t\t\tconst p = v1$1.dot( axis );\n\t\t\tconst primitiveIndex = i / 3;\n\n\t\t\tsortedPrimitiveIndices.push( { index: primitiveIndex, p: p } );\n\n\t\t}\n\n\t\tsortedPrimitiveIndices.sort( sortPrimitives );\n\n\t\t// distribute data\n\n\t\tconst primitveCount = sortedPrimitiveIndices.length;\n\t\tconst primitivesPerChild = Math.floor( primitveCount / branchingFactor );\n\n\t\tvar childIndex = 0;\n\t\tvar primitivesIndex = 0;\n\n\t\tfor ( let i = 0; i < primitveCount; i ++ ) {\n\n\t\t\t// selected child\n\n\t\t\tprimitivesIndex ++;\n\n\t\t\t// check if we try to add more primitives to a child than \"primitivesPerChild\" defines.\n\t\t\t// move primitives to the next child\n\n\t\t\tif ( primitivesIndex > primitivesPerChild ) {\n\n\t\t\t\t// ensure \"childIndex\" does not overflow (meaning the last child takes all remaining primitives)\n\n\t\t\t\tif ( childIndex < ( branchingFactor - 1 ) ) {\n\n\t\t\t\t\tprimitivesIndex = 1; // reset primitive index\n\t\t\t\t\tchildIndex ++; // raise child index\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst child = this.children[ childIndex ];\n\n\t\t\t// move data to the next level\n\n\t\t\t// 1. primitives\n\n\t\t\tconst primitiveIndex = sortedPrimitiveIndices[ i ].index;\n\t\t\tconst stride = primitiveIndex * 9; // remember the \"primitives\" array holds raw vertex data defining triangles\n\n\t\t\tv1$1.fromArray( primitives, stride );\n\t\t\tv2.fromArray( primitives, stride + 3 );\n\t\t\tv3.fromArray( primitives, stride + 6 );\n\n\t\t\tchild.primitives.push( v1$1.x, v1$1.y, v1$1.z );\n\t\t\tchild.primitives.push( v2.x, v2.y, v2.z );\n\t\t\tchild.primitives.push( v3.x, v3.y, v3.z );\n\n\t\t\t// 2. centroid\n\n\t\t\tv1$1.fromArray( centroids, primitiveIndex * 3 );\n\n\t\t\tchild.centroids.push( v1$1.x, v1$1.y, v1$1.z );\n\n\t\t}\n\n\t\t// remove centroids/primitives after split from this node\n\n\t\tthis.centroids.length = 0;\n\t\tthis.primitives.length = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Performs a ray/BVH node intersection test and stores the closest intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {Ray} ray - The ray.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tintersectRay( ray, result ) {\n\n\t\t// gather all intersection points along the hierarchy\n\n\t\tif ( ray.intersectAABB( this.boundingVolume, result ) !== null ) {\n\n\t\t\tif ( this.leaf() === true ) {\n\n\t\t\t\tconst vertices = this.primitives;\n\n\t\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 9 ) {\n\n\t\t\t\t\t// remember: we assume primitives are triangles\n\n\t\t\t\t\ttriangle.a.fromArray( vertices, i );\n\t\t\t\t\ttriangle.b.fromArray( vertices, i + 3 );\n\t\t\t\t\ttriangle.c.fromArray( vertices, i + 6 );\n\n\t\t\t\t\tif ( ray.intersectTriangle( triangle, true, result ) !== null ) {\n\n\t\t\t\t\t\tintersections.push( result.clone() );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// process childs\n\n\t\t\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\t\t\tthis.children[ i ].intersectRay( ray, result );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// determine the closest intersection point in the root node (so after\n\t\t// the hierarchy was processed)\n\n\t\tif ( this.root() === true ) {\n\n\t\t\tif ( intersections.length > 0 ) {\n\n\t\t\t\tlet minDistance = Infinity;\n\n\t\t\t\tfor ( let i = 0, l = intersections.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst squaredDistance = ray.origin.squaredDistanceTo( intersections[ i ] );\n\n\t\t\t\t\tif ( squaredDistance < minDistance ) {\n\n\t\t\t\t\t\tminDistance = squaredDistance;\n\t\t\t\t\t\tresult.copy( intersections[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// reset array\n\n\t\t\t\tintersections.length = 0;\n\n\t\t\t\t// return closest intersection point\n\n\t\t\t\treturn result;\n\n\t\t\t} else {\n\n\t\t\t\t// no intersection detected\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// always return null for non-root nodes\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Performs a ray/BVH node intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {Ray} ray - The ray.\n\t* @return {boolean} Whether there is an intersection or not.\n\t*/\n\tintersectsRay( ray ) {\n\n\t\tif ( ray.intersectAABB( this.boundingVolume, intersection ) !== null ) {\n\n\t\t\tif ( this.leaf() === true ) {\n\n\t\t\t\tconst vertices = this.primitives;\n\n\t\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 9 ) {\n\n\t\t\t\t\t// remember: we assume primitives are triangles\n\n\t\t\t\t\ttriangle.a.fromArray( vertices, i );\n\t\t\t\t\ttriangle.b.fromArray( vertices, i + 3 );\n\t\t\t\t\ttriangle.c.fromArray( vertices, i + 6 );\n\n\t\t\t\t\tif ( ray.intersectTriangle( triangle, true, intersection ) !== null ) {\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\t// process child BVH nodes\n\n\t\t\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( this.children[ i ].intersectsRay( ray ) === true ) {\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n}\n\n//\n\nfunction sortPrimitives( a, b ) {\n\n\treturn a.p - b.p;\n\n}\n\nconst p1 = new Vector3();\nconst p2 = new Vector3();\n\n/**\n* Class representing a 3D line segment.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass LineSegment {\n\n\t/**\n\t* Constructs a new line segment with the given values.\n\t*\n\t* @param {Vector3} from - The start point of the line segment.\n\t* @param {Vector3} to - The end point of the line segment.\n\t*/\n\tconstructor( from = new Vector3(), to = new Vector3() ) {\n\n\t\t/**\n\t\t* The start point of the line segment.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.from = from;\n\n\t\t/**\n\t\t* The end point of the line segment.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.to = to;\n\n\t}\n\n\t/**\n\t* Sets the given values to this line segment.\n\t*\n\t* @param {Vector3} from - The start point of the line segment.\n\t* @param {Vector3} to - The end point of the line segment.\n\t* @return {LineSegment} A reference to this line segment.\n\t*/\n\tset( from, to ) {\n\n\t\tthis.from = from;\n\t\tthis.to = to;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given line segment to this line segment.\n\t*\n\t* @param {LineSegment} lineSegment - The line segment to copy.\n\t* @return {LineSegment} A reference to this line segment.\n\t*/\n\tcopy( lineSegment ) {\n\n\t\tthis.from.copy( lineSegment.from );\n\t\tthis.to.copy( lineSegment.to );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new line segment and copies all values from this line segment.\n\t*\n\t* @return {LineSegment} A new line segment.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Computes the difference vector between the end and start point of this\n\t* line segment and stores the result in the given vector.\n\t*\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tdelta( result ) {\n\n\t\treturn result.subVectors( this.to, this.from );\n\n\t}\n\n\t/**\n\t* Computes a position on the line segment according to the given t value\n\t* and stores the result in the given 3D vector. The t value has usually a range of\n\t* [0, 1] where 0 means start position and 1 the end position.\n\t*\n\t* @param {Number} t - A scalar value representing a position on the line segment.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tat( t, result ) {\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.from );\n\n\t}\n\n\t/**\n\t* Computes the closest point on an infinite line defined by the line segment.\n\t* It's possible to clamp the closest point so it does not exceed the start and\n\t* end position of the line segment.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Boolean} clampToLine - Indicates if the results should be clamped.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The closest point.\n\t*/\n\tclosestPointToPoint( point, clampToLine, result ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.at( t, result );\n\n\t}\n\n\t/**\n\t* Computes a scalar value which represents the closest point on an infinite line\n\t* defined by the line segment. It's possible to clamp this value so it does not\n\t* exceed the start and end position of the line segment.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Boolean} clampToLine - Indicates if the results should be clamped.\n\t* @return {Number} A scalar representing the closest point.\n\t*/\n\tclosestPointToPointParameter( point, clampToLine = true ) {\n\n\t\tp1.subVectors( point, this.from );\n\t\tp2.subVectors( this.to, this.from );\n\n\t\tconst dotP2P2 = p2.dot( p2 );\n\t\tconst dotP2P1 = p2.dot( p1 );\n\n\t\tlet t = dotP2P1 / dotP2P2;\n\n\t\tif ( clampToLine ) t = MathUtils.clamp( t, 0, 1 );\n\n\t\treturn t;\n\n\t}\n\n\t/**\n\t* Returns true if the given line segment is deep equal with this line segment.\n\t*\n\t* @param {LineSegment} lineSegment - The line segment to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( lineSegment ) {\n\n\t\treturn lineSegment.from.equals( this.from ) && lineSegment.to.equals( this.to );\n\n\t}\n\n}\n\nconst normal = new Vector3();\nconst oppositeNormal = new Vector3();\nconst directionA = new Vector3();\nconst directionB = new Vector3();\n\nconst c = new Vector3();\nconst d = new Vector3();\nconst v = new Vector3();\n\n/**\n* Implementation of the separating axis theorem (SAT). Used to detect intersections\n* between convex polyhedra. The code is based on the presentation {@link http://twvideo01.ubm-us.net/o1/vault/gdc2013/slides/822403Gregorius_Dirk_TheSeparatingAxisTest.pdf The Separating Axis Test between convex polyhedra}\n* by Dirk Gregorius (Valve Software) from GDC 2013.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass SAT {\n\n\t/**\n\t* Returns true if the given convex polyhedra intersect. A polyhedron is just\n\t* an array of {@link Polygon} objects.\n\t*\n\t* @param {Polyhedron} polyhedronA - The first convex polyhedron.\n\t* @param {Polyhedron} polyhedronB - The second convex polyhedron.\n\t* @return {Boolean} Whether there is an intersection or not.\n\t*/\n\tintersects( polyhedronA, polyhedronB ) {\n\n\t\tconst resultAB = this._checkFaceDirections( polyhedronA, polyhedronB );\n\n\t\tif ( resultAB ) return false;\n\n\t\tconst resultBA = this._checkFaceDirections( polyhedronB, polyhedronA );\n\n\t\tif ( resultBA ) return false;\n\n\t\tconst resultEdges = this._checkEdgeDirections( polyhedronA, polyhedronB );\n\n\t\tif ( resultEdges ) return false;\n\n\t\t// no separating axis found, the polyhedra must intersect\n\n\t\treturn true;\n\n\t}\n\n\t// check possible separating axes from the first given polyhedron. the axes\n\t// are derived from the respective face normals\n\n\t_checkFaceDirections( polyhedronA, polyhedronB ) {\n\n\t\tconst faces = polyhedronA.faces;\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\t\t\tconst plane = face.plane;\n\n\t\t\toppositeNormal.copy( plane.normal ).multiplyScalar( - 1 );\n\n\t\t\tconst supportVertex = this._getSupportVertex( polyhedronB, oppositeNormal );\n\t\t\tconst distance = plane.distanceToPoint( supportVertex );\n\n\t\t\tif ( distance > 0 ) return true; // separating axis found\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t// check with possible separating axes computed via the cross product between\n\t// all edge combinations of both polyhedra\n\n\t_checkEdgeDirections( polyhedronA, polyhedronB ) {\n\n\t\tconst edgesA = polyhedronA.edges;\n\t\tconst edgesB = polyhedronB.edges;\n\n\t\tfor ( let i = 0, il = edgesA.length; i < il; i ++ ) {\n\n\t\t\tconst edgeA = edgesA[ i ];\n\n\t\t\tfor ( let j = 0, jl = edgesB.length; j < jl; j ++ ) {\n\n\t\t\t\tconst edgeB = edgesB[ j ];\n\n\t\t\t\tedgeA.getDirection( directionA );\n\t\t\t\tedgeB.getDirection( directionB );\n\n\t\t\t\t// edge pruning: only consider edges if they build a face on the minkowski difference\n\n\t\t\t\tif ( this._minkowskiFace( edgeA, directionA, edgeB, directionB ) ) {\n\n\t\t\t\t\t// compute axis\n\n\t\t\t\t\tconst distance = this._distanceBetweenEdges( edgeA, directionA, edgeB, directionB, polyhedronA );\n\n\t\t\t\t\tif ( distance > 0 ) return true; // separating axis found\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t// return the most extreme vertex into a given direction\n\n\t_getSupportVertex( polyhedron, direction ) {\n\n\t\tlet maxProjection = - Infinity;\n\t\tlet supportVertex = null;\n\n\t\t// iterate over all polygons\n\n\t\tconst vertices = polyhedron.vertices;\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\t\t\tconst projection = vertex.dot( direction );\n\n\t\t\t// check vertex to find the best support point\n\n\t\t\tif ( projection > maxProjection ) {\n\n\t\t\t\tmaxProjection = projection;\n\t\t\t\tsupportVertex = vertex;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn supportVertex;\n\n\t}\n\n\t// returns true if the given edges build a face on the minkowski difference\n\n\t_minkowskiFace( edgeA, directionA, edgeB, directionB ) {\n\n\t\t// get face normals which define the vertices of the arcs on the gauss map\n\n\t\tconst a = edgeA.polygon.plane.normal;\n\t\tconst b = edgeA.twin.polygon.plane.normal;\n\t\tc.copy( edgeB.polygon.plane.normal );\n\t\td.copy( edgeB.twin.polygon.plane.normal );\n\n\t\t// negate normals c and d to account for minkowski difference\n\n\t\tc.multiplyScalar( - 1 );\n\t\td.multiplyScalar( - 1 );\n\n\t\t// compute triple products\n\n\t\t// it's not necessary to compute the cross product since edges of convex polyhedron\n\t\t// have same direction as the cross product between their adjacent face normals\n\n\t\tconst cba = c.dot( directionA );\n\t\tconst dba = d.dot( directionA );\n\t\tconst adc = a.dot( directionB );\n\t\tconst bdc = b.dot( directionB );\n\n\t\t// check signs of plane test\n\n\t\treturn ( ( cba * dba ) ) < 0 && ( ( adc * bdc ) < 0 ) && ( ( cba * bdc ) > 0 );\n\n\t}\n\n\t// use gauss map to compute the distance between two edges\n\n\t_distanceBetweenEdges( edgeA, directionA, edgeB, directionB, polyhedronA ) {\n\n\t\t// skip parallel edges\n\n\t\tif ( Math.abs( directionA.dot( directionB ) ) === 1 ) return - Infinity;\n\n\t\t// build plane through one edge\n\n\t\tnormal.crossVectors( directionA, directionB ).normalize();\n\n\t\t// ensure normal points from polyhedron A to B\n\n\t\tif ( normal.dot( v.subVectors( edgeA.vertex, polyhedronA.centroid ) ) < 0 ) {\n\n\t\t\tnormal.multiplyScalar( - 1 );\n\n\t\t}\n\n\t\t// compute the distance of any vertex on the other edge to that plane\n\t\t// no need to compute support points => O(1)\n\n\t\treturn normal.dot( v.subVectors( edgeB.vertex, edgeA.vertex ) );\n\n\t}\n\n}\n\n/**\n* Implementation of a half-edge data structure, also known as\n* {@link https://en.wikipedia.org/wiki/Doubly_connected_edge_list Doubly connected edge list}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass HalfEdge {\n\n\t/**\n\t* Constructs a new half-edge.\n\t*\n\t* @param {Vector3} vertex - The vertex of this half-edge. It represents the head/destination of the respective full edge.\n\t*/\n\tconstructor( vertex = new Vector3() ) {\n\n\t\t/**\n\t\t* The vertex of this half-edge. It represents the head/destination of the respective full edge.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.vertex = vertex;\n\n\t\t/**\n\t\t* A reference to the next half-edge.\n\t\t* @type {?HalfEdge}\n\t\t* @default null\n\t\t*/\n\t\tthis.next = null;\n\n\t\t/**\n\t\t* A reference to the previous half-edge.\n\t\t* @type {?HalfEdge}\n\t\t* @default null\n\t\t*/\n\t\tthis.prev = null;\n\n\t\t/**\n\t\t* A reference to the opponent half-edge.\n\t\t* @type {?HalfEdge}\n\t\t* @default null\n\t\t*/\n\t\tthis.twin = null;\n\n\t\t/**\n\t\t* A reference to its polygon/face.\n\t\t* @type {?Polygon}\n\t\t* @default null\n\t\t*/\n\t\tthis.polygon = null;\n\n\t}\n\n\t/**\n\t* Returns the tail of this half-edge. That's a reference to the previous\n\t* half-edge vertex.\n\t*\n\t* @return {Vector3} The tail vertex.\n\t*/\n\ttail() {\n\n\t\treturn this.prev ? this.prev.vertex : null;\n\n\t}\n\n\t/**\n\t* Returns the head of this half-edge. That's a reference to the own vertex.\n\t*\n\t* @return {Vector3} The head vertex.\n\t*/\n\thead() {\n\n\t\treturn this.vertex;\n\n\t}\n\n\t/**\n\t* Computes the length of this half-edge.\n\t*\n\t* @return {Number} The length of this half-edge.\n\t*/\n\tlength() {\n\n\t\tconst tail = this.tail();\n\t\tconst head = this.head();\n\n\t\tif ( tail !== null ) {\n\n\t\t\treturn tail.distanceTo( head );\n\n\t\t}\n\n\t\treturn - 1;\n\n\t}\n\n\t/**\n\t* Computes the squared length of this half-edge.\n\t*\n\t* @return {Number} The squared length of this half-edge.\n\t*/\n\tsquaredLength() {\n\n\t\tconst tail = this.tail();\n\t\tconst head = this.head();\n\n\t\tif ( tail !== null ) {\n\n\t\t\treturn tail.squaredDistanceTo( head );\n\n\t\t}\n\n\t\treturn - 1;\n\n\t}\n\n\t/**\n\t* Links the given opponent half edge with this one.\n\t*\n\t* @param {HalfEdge} edge - The opponent edge to link.\n\t* @return {HalfEdge} A reference to this half edge.\n\t*/\n\tlinkOpponent( edge ) {\n\n\t\tthis.twin = edge;\n\t\tedge.twin = this;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the direction of this half edge. The method assumes the half edge\n\t* has a valid reference to a previous half edge.\n\t*\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetDirection( result ) {\n\n\t\treturn result.subVectors( this.vertex, this.prev.vertex ).normalize();\n\n\t}\n\n}\n\n/**\n* Class for representing a planar polygon with an arbitrary amount of edges.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass Polygon {\n\n\t/**\n\t* Constructs a new polygon.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The centroid of this polygon.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.centroid = new Vector3();\n\n\t\t/**\n\t\t* A reference to the first half-edge of this polygon.\n\t\t* @type {?HalfEdge}\n\t\t* @default null\n\t\t*/\n\t\tthis.edge = null;\n\n\t\t/**\n\t\t* A plane abstraction of this polygon.\n\t\t* @type {Plane}\n\t\t*/\n\t\tthis.plane = new Plane();\n\n\t}\n\n\t/**\n\t* Creates the polygon based on the given array of points in 3D space.\n\t* The method assumes the contour (the sequence of points) is defined\n\t* in CCW order.\n\t*\n\t* @param {Array<Vector3>} points - The array of points.\n\t* @return {Polygon} A reference to this polygon.\n\t*/\n\tfromContour( points ) {\n\n\t\tconst edges = new Array();\n\n\t\tif ( points.length < 3 ) {\n\n\t\t\tLogger.error( 'YUKA.Polygon: Unable to create polygon from contour. It needs at least three points.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst edge = new HalfEdge( points[ i ] );\n\t\t\tedges.push( edge );\n\n\t\t}\n\n\t\t// link edges\n\n\t\tfor ( let i = 0, l = edges.length; i < l; i ++ ) {\n\n\t\t\tlet current, prev, next;\n\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tcurrent = edges[ i ];\n\t\t\t\tprev = edges[ l - 1 ];\n\t\t\t \tnext = edges[ i + 1 ];\n\n\t\t\t} else if ( i === ( l - 1 ) ) {\n\n\t\t\t\tcurrent = edges[ i ];\n\t\t\t \tprev = edges[ i - 1 ];\n\t\t\t\tnext = edges[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t \tcurrent = edges[ i ];\n\t\t\t\tprev = edges[ i - 1 ];\n\t\t\t\tnext = edges[ i + 1 ];\n\n\t\t\t}\n\n\t\t\tcurrent.prev = prev;\n\t\t\tcurrent.next = next;\n\t\t\tcurrent.polygon = this;\n\n\t\t}\n\n\t\t//\n\n\t\tthis.edge = edges[ 0 ];\n\n\t\t//\n\n\t\tthis.plane.fromCoplanarPoints( points[ 0 ], points[ 1 ], points[ 2 ] );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the centroid for this polygon.\n\t*\n\t* @return {Polygon} A reference to this polygon.\n\t*/\n\tcomputeCentroid() {\n\n\t\tconst centroid = this.centroid;\n\t\tlet edge = this.edge;\n\t\tlet count = 0;\n\n\t\tcentroid.set( 0, 0, 0 );\n\n\t\tdo {\n\n\t\t\tcentroid.add( edge.vertex );\n\n\t\t\tcount ++;\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== this.edge );\n\n\t\tcentroid.divideScalar( count );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if the polygon contains the given point.\n\t*\n\t* @param {Vector3} point - The point to test.\n\t* @param {Number} epsilon - A tolerance value.\n\t* @return {Boolean} Whether this polygon contain the given point or not.\n\t*/\n\tcontains( point, epsilon = 1e-3 ) {\n\n\t\tconst plane = this.plane;\n\t\tlet edge = this.edge;\n\n\t\t// convex test\n\n\t\tdo {\n\n\t\t\tconst v1 = edge.tail();\n\t\t\tconst v2 = edge.head();\n\n\t\t\tif ( leftOn( v1, v2, point ) === false ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== this.edge );\n\n\t\t// ensure the given point lies within a defined tolerance range\n\n\t\tconst distance = plane.distanceToPoint( point );\n\n\t\tif ( Math.abs( distance ) > epsilon ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Returns true if the polygon is convex.\n\t*\n\t* @param {Boolean} ccw - Whether the winding order is CCW or not.\n\t* @return {Boolean} Whether this polygon is convex or not.\n\t*/\n\tconvex( ccw = true ) {\n\n\t\tlet edge = this.edge;\n\n\t\tdo {\n\n\t\t\tconst v1 = edge.tail();\n\t\t\tconst v2 = edge.head();\n\t\t\tconst v3 = edge.next.head();\n\n\t\t\tif ( ccw ) {\n\n\t\t\t\tif ( leftOn( v1, v2, v3 ) === false )\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\tif ( leftOn( v3, v2, v1 ) === false ) return false;\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== this.edge );\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Returns true if the polygon is coplanar.\n\t*\n\t* @param {Number} epsilon - A tolerance value.\n\t* @return {Boolean} Whether this polygon is coplanar or not.\n\t*/\n\tcoplanar( epsilon = 1e-3 ) {\n\n\t\tconst plane = this.plane;\n\t\tlet edge = this.edge;\n\n\t\tdo {\n\n\t\t\tconst distance = plane.distanceToPoint( edge.vertex );\n\n\t\t\tif ( Math.abs( distance ) > epsilon ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== this.edge );\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Computes the signed distance from the given 3D vector to this polygon. The method\n\t* uses the polygon's plane abstraction in order to compute this value.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Number} The signed distance from the given point to this polygon.\n\t*/\n\tdistanceToPoint( point ) {\n\n\t\treturn this.plane.distanceToPoint( point );\n\n\t}\n\n\t/**\n\t* Determines the contour (sequence of points) of this polygon and\n\t* stores the result in the given array.\n\t*\n\t* @param {Array<Vector3>} result - The result array.\n\t* @return {Array<Vector3>} The result array.\n\t*/\n\tgetContour( result ) {\n\n\t\tlet edge = this.edge;\n\n\t\tresult.length = 0;\n\n\t\tdo {\n\n\t\t\tresult.push( edge.vertex );\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== this.edge );\n\n\t\treturn result;\n\n\t}\n\n}\n\n// from the book \"Computational Geometry in C, Joseph O'Rourke\"\n\nfunction leftOn( a, b, c ) {\n\n\treturn MathUtils.area( a, b, c ) >= 0;\n\n}\n\n/**\n* Base class for polyhedra. It is primarily designed for the internal usage in Yuka.\n* Objects of this class are always build up from faces. The edges, vertices and\n* the polyhedron's centroid have to be derived from a valid face definition with the\n* respective methods.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Polyhedron {\n\n\t/**\n\t* Constructs a new polyhedron.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The faces of this polyhedron.\n\t\t* @type {Array<Polygon>}\n\t\t*/\n\t\tthis.faces = new Array();\n\n\t\t/**\n\t\t* A list of unique edges (no opponent half edges).\n\t\t* @type {Array<HalfEdge>}\n\t\t*/\n\t\tthis.edges = new Array();\n\n\t\t/**\n\t\t* A list of unique vertices.\n\t\t* @type {Array<Vector3>}\n\t\t*/\n\t\tthis.vertices = new Array();\n\n\t\t/**\n\t\t* The centroid of this polyhedron.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.centroid = new Vector3();\n\n\t}\n\n\t/**\n\t* Computes the centroid of this polyhedron. Assumes its faces\n\t* have valid centroids.\n\t*\n\t* @return {Polyhedron} A reference to this polyhedron.\n\t*/\n\tcomputeCentroid() {\n\n\t\tconst centroid = this.centroid;\n\t\tlet faces = this.faces;\n\n\t\tcentroid.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tcentroid.add( face.centroid );\n\n\t\t}\n\n\t\tcentroid.divideScalar( faces.length );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes unique vertices of this polyhedron. Assumes {@link Polyhedron#faces}\n\t* is properly set.\n\t*\n\t* @return {Polyhedron} A reference to this polyhedron.\n\t*/\n\tcomputeUniqueVertices() {\n\n\t\tconst faces = this.faces;\n\t\tconst vertices = this.vertices;\n\n\t\tvertices.length = 0;\n\n\t\tconst uniqueVertices = new Set();\n\n\t\t// iterate over all faces\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\t\t\tlet edge = face.edge;\n\n\t\t\t// process all edges of a faces\n\n\t\t\tdo {\n\n\t\t\t\t// add vertex to set (assuming half edges share unique vertices)\n\n\t\t\t\tuniqueVertices.add( edge.vertex );\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== face.edge );\n\n\t\t}\n\n\t\tvertices.push( ...uniqueVertices );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes unique edges of this polyhedron. Assumes {@link Polyhedron#faces}\n\t* is properly set.\n\t*\n\t* @return {Polyhedron} A reference to this polyhedron.\n\t*/\n\tcomputeUniqueEdges() {\n\n\t\tconst faces = this.faces;\n\t\tconst edges = this.edges;\n\n\t\tedges.length = 0;\n\n\t\t// iterate over all faces\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tlet edge = face.edge;\n\n\t\t\t// process all edges of a faces\n\n\t\t\tdo {\n\n\t\t\t\t// only add the edge if the twin was not added before\n\n\t\t\t\tif ( edges.includes( edge.twin ) === false ) {\n\n\t\t\t\t\tedges.push( edge );\n\n\t\t\t\t}\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== face.edge );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Configures this polyhedron so it does represent the given AABB.\n\t*\n\t* @return {Polyhedron} A reference to this polyhedron.\n\t*/\n\tfromAABB( aabb ) {\n\n\t\tthis.faces.length = 0;\n\t\tthis.vertices.length = 0;\n\n\t\tconst min = aabb.min;\n\t\tconst max = aabb.max;\n\n\t\tconst vertices = [\n\t\t\tnew Vector3( max.x, max.y, max.z ),\n\t\t\tnew Vector3( max.x, max.y, min.z ),\n\t\t\tnew Vector3( max.x, min.y, max.z ),\n\t\t\tnew Vector3( max.x, min.y, min.z ),\n\t\t\tnew Vector3( min.x, max.y, max.z ),\n\t\t\tnew Vector3( min.x, max.y, min.z ),\n\t\t\tnew Vector3( min.x, min.y, max.z ),\n\t\t\tnew Vector3( min.x, min.y, min.z )\n\t\t];\n\n\t\tthis.vertices.push( ... vertices );\n\n\t\tconst sideTop = new Polygon().fromContour( [\n\t\t\tvertices[ 4 ],\n\t\t\tvertices[ 0 ],\n\t\t\tvertices[ 1 ],\n\t\t\tvertices[ 5 ]\n\t\t] );\n\n\t\tconst sideRight = new Polygon().fromContour( [\n\t\t\tvertices[ 2 ],\n\t\t\tvertices[ 3 ],\n\t\t\tvertices[ 1 ],\n\t\t\tvertices[ 0 ]\n\t\t] );\n\n\t\tconst sideFront = new Polygon().fromContour( [\n\t\t\tvertices[ 6 ],\n\t\t\tvertices[ 2 ],\n\t\t\tvertices[ 0 ],\n\t\t\tvertices[ 4 ]\n\t\t] );\n\n\t\tconst sideBack = new Polygon().fromContour( [\n\t\t\tvertices[ 3 ],\n\t\t\tvertices[ 7 ],\n\t\t\tvertices[ 5 ],\n\t\t\tvertices[ 1 ]\n\t\t] );\n\n\t\tconst sideBottom = new Polygon().fromContour( [\n\t\t\tvertices[ 3 ],\n\t\t\tvertices[ 2 ],\n\t\t\tvertices[ 6 ],\n\t\t\tvertices[ 7 ]\n\t\t] );\n\n\t\tconst sideLeft = new Polygon().fromContour( [\n\t\t\tvertices[ 7 ],\n\t\t\tvertices[ 6 ],\n\t\t\tvertices[ 4 ],\n\t\t\tvertices[ 5 ]\n\t\t] );\n\n\t\t// link edges\n\n\t\tsideTop.edge.linkOpponent( sideLeft.edge.prev );\n\t\tsideTop.edge.next.linkOpponent( sideFront.edge.prev );\n\t\tsideTop.edge.next.next.linkOpponent( sideRight.edge.prev );\n\t\tsideTop.edge.prev.linkOpponent( sideBack.edge.prev );\n\n\t\tsideBottom.edge.linkOpponent( sideBack.edge.next );\n\t\tsideBottom.edge.next.linkOpponent( sideRight.edge.next );\n\t\tsideBottom.edge.next.next.linkOpponent( sideFront.edge.next );\n\t\tsideBottom.edge.prev.linkOpponent( sideLeft.edge.next );\n\n\t\tsideLeft.edge.linkOpponent( sideBack.edge.next.next );\n\t\tsideBack.edge.linkOpponent( sideRight.edge.next.next );\n\t\tsideRight.edge.linkOpponent( sideFront.edge.next.next );\n\t\tsideFront.edge.linkOpponent( sideLeft.edge.next.next );\n\n\t\t//\n\n\t\tthis.faces.push( sideTop, sideRight, sideFront, sideBack, sideBottom, sideLeft );\n\n\t\t// compute centroids\n\n\t\tsideTop.computeCentroid();\n\t\tsideRight.computeCentroid();\n\t\tsideFront.computeCentroid();\n\t\tsideBack.computeCentroid();\n\t\tsideBottom.computeCentroid();\n\t\tsideLeft.computeCentroid();\n\n\t\taabb.getCenter( this.centroid );\n\n\t\t//\n\n\t\tthis.computeUniqueEdges();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst line = new LineSegment();\nconst plane = new Plane();\nconst closestPoint$1 = new Vector3();\nconst up = new Vector3( 0, 1, 0 );\nconst sat = new SAT();\nlet polyhedronAABB;\n\n/**\n* Class representing a convex hull. This is an implementation of the Quickhull algorithm\n* based on the presentation {@link http://media.steampowered.com/apps/valve/2014/DirkGregorius_ImplementingQuickHull.pdf Implementing QuickHull}\n* by Dirk Gregorius (Valve Software) from GDC 2014. The algorithm has an average runtime\n* complexity of O(nlog(n)), whereas in the worst case it takes O(n²).\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments Polyhedron\n*/\nclass ConvexHull extends Polyhedron {\n\n\t/**\n\t* Constructs a new convex hull.\n\t*/\n\tconstructor() {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* Whether faces of the convex hull should be merged or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.mergeFaces = true;\n\n\t\t// tolerance value for various (float) compare operations\n\n\t\tthis._tolerance = - 1;\n\n\t\t// this array represents the vertices which will be enclosed by the convex hull\n\n\t\tthis._vertices = new Array();\n\n\t\t// two doubly linked lists for easier vertex processing\n\n\t\tthis._assigned = new VertexList();\n\t\tthis._unassigned = new VertexList();\n\n\t}\n\n\t/**\n\t* Returns true if the given point is inside this convex hull.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Boolean} Whether the given point is inside this convex hull or not.\n\t*/\n\tcontainsPoint( point ) {\n\n\t\tconst faces = this.faces;\n\n\t\t// use the internal plane abstraction of each face in order to test\n\t\t// on what half space the point lies\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t// if the signed distance is greater than the tolerance value, the point\n\t\t\t// is outside and we can stop processing\n\n\t\t\tif ( faces[ i ].distanceToPoint( point ) > this._tolerance ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Returns true if this convex hull intersects with the given AABB.\n\t*\n\t* @param {AABB} aabb - The AABB to test.\n\t* @return {Boolean} Whether this convex hull intersects with the given AABB or not.\n\t*/\n\tintersectsAABB( aabb ) {\n\n\t\tif ( polyhedronAABB === undefined ) {\n\n\t\t\t// lazily create the (proxy) polyhedron if necessary\n\n\t\t\tpolyhedronAABB = new Polyhedron().fromAABB( aabb );\n\n\t\t} else {\n\n\t\t\t// otherwise just ensure up-to-date vertex data.\n\t\t\t// the topology of the polyhedron is equal for all AABBs\n\n\t\t\tconst min = aabb.min;\n\t\t\tconst max = aabb.max;\n\n\t\t\tconst vertices = polyhedronAABB.vertices;\n\n\t\t\tvertices[ 0 ].set( max.x, max.y, max.z );\n\t\t\tvertices[ 1 ].set( max.x, max.y, min.z );\n\t\t\tvertices[ 2 ].set( max.x, min.y, max.z );\n\t\t\tvertices[ 3 ].set( max.x, min.y, min.z );\n\t\t\tvertices[ 4 ].set( min.x, max.y, max.z );\n\t\t\tvertices[ 5 ].set( min.x, max.y, min.z );\n\t\t\tvertices[ 6 ].set( min.x, min.y, max.z );\n\t\t\tvertices[ 7 ].set( min.x, min.y, min.z );\n\n\t\t\taabb.getCenter( polyhedronAABB.centroid );\n\n\t\t}\n\n\t\treturn sat.intersects( this, polyhedronAABB );\n\n\t}\n\n\t/**\n\t* Returns true if this convex hull intersects with the given one.\n\t*\n\t* @param {ConvexHull} convexHull - The convex hull to test.\n\t* @return {Boolean} Whether this convex hull intersects with the given one or not.\n\t*/\n\tintersectsConvexHull( convexHull ) {\n\n\t\treturn sat.intersects( this, convexHull );\n\n\t}\n\n\t/**\n\t* Computes a convex hull that encloses the given set of points. The computation requires\n\t* at least four points.\n\t*\n\t* @param {Array<Vector3>} points - An array of 3D vectors representing points in 3D space.\n\t* @return {ConvexHull} A reference to this convex hull.\n\t*/\n\tfromPoints( points ) {\n\n\t\tif ( points.length < 4 ) {\n\n\t\t\tLogger.error( 'YUKA.ConvexHull: The given points array needs at least four points.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// wrap all points into the internal vertex data structure\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis._vertices.push( new Vertex( points[ i ] ) );\n\n\t\t}\n\n\t\t// generate the convex hull\n\n\t\tthis._generate();\n\n\t\treturn this;\n\n\t}\n\n\t// private API\n\n\t// adds a single face to the convex hull by connecting it with the respective horizon edge\n\n\t_addAdjoiningFace( vertex, horizonEdge ) {\n\n\t\t// all the half edges are created in ccw order thus the face is always pointing outside the hull\n\n\t\tconst face = new Face( vertex.point, horizonEdge.prev.vertex, horizonEdge.vertex );\n\n\t\tthis.faces.push( face );\n\n\t\t// join face.getEdge( - 1 ) with the horizon's opposite edge face.getEdge( - 1 ) = face.getEdge( 2 )\n\n\t\tface.getEdge( - 1 ).linkOpponent( horizonEdge.twin );\n\n\t\treturn face.getEdge( 0 ); // the half edge whose vertex is the given one\n\n\t}\n\n\t// adds new faces by connecting the horizon with the new point of the convex hull\n\n\t_addNewFaces( vertex, horizon ) {\n\n\t\tconst newFaces = [];\n\n\t\tlet firstSideEdge = null;\n\t\tlet previousSideEdge = null;\n\n\t\tfor ( let i = 0, l = horizon.length; i < l; i ++ ) {\n\n\t\t\t// returns the right side edge\n\n\t\t\tlet sideEdge = this._addAdjoiningFace( vertex, horizon[ i ] );\n\n\t\t\tif ( firstSideEdge === null ) {\n\n\t\t\t\tfirstSideEdge = sideEdge;\n\n\t\t\t} else {\n\n\t\t\t\t// joins face.getEdge( 1 ) with previousFace.getEdge( 0 )\n\n\t\t\t\tsideEdge.next.linkOpponent( previousSideEdge );\n\n\t\t\t}\n\n\t\t\tnewFaces.push( sideEdge.polygon );\n\t\t\tpreviousSideEdge = sideEdge;\n\n\t\t}\n\n\t\t// perform final join of new faces\n\n\t\tfirstSideEdge.next.linkOpponent( previousSideEdge );\n\n\t\treturn newFaces;\n\n\t}\n\n\t// assigns a single vertex to the given face. that means this face can \"see\"\n\t// the vertex and its distance to the vertex is greater than all other faces\n\n\t_addVertexToFace( vertex, face ) {\n\n\t\tvertex.face = face;\n\n\t\tif ( face.outside === null ) {\n\n\t\t\tthis._assigned.append( vertex );\n\n\t\t\tface.outside = vertex;\n\n\t\t} else {\n\n\t\t\tthis._assigned.insertAfter( face.outside, vertex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// the base iteration of the algorithm. adds a new vertex to the convex hull by\n\t// connecting faces from the horizon with it.\n\n\t_addVertexToHull( vertex ) {\n\n\t\tconst horizon = [];\n\n\t\tthis._unassigned.clear();\n\n\t\tthis._computeHorizon( vertex.point, null, vertex.face, horizon );\n\n\t\tconst newFaces = this._addNewFaces( vertex, horizon );\n\n\t\t// reassign 'unassigned' vertices to the new faces\n\n\t\tthis._resolveUnassignedPoints( newFaces );\n\n\t\treturn this;\n\n\t}\n\n\t// frees memory by resetting internal data structures\n\n\t_reset() {\n\n\t\tthis._vertices.length = 0;\n\n\t\tthis._assigned.clear();\n\t\tthis._unassigned.clear();\n\n\t\treturn this;\n\n\t}\n\n\t// computes the initial hull of the algorithm. it's a tetrahedron created\n\t// with the extreme vertices of the given set of points\n\n\t_computeInitialHull() {\n\n\t\tlet v0, v1, v2, v3;\n\n\t\tconst vertices = this._vertices;\n\t\tconst extremes = this._computeExtremes();\n\t\tconst min = extremes.min;\n\t\tconst max = extremes.max;\n\n\t\t// 1. Find the two points 'p0' and 'p1' with the greatest 1d separation\n\t\t// (max.x - min.x)\n\t\t// (max.y - min.y)\n\t\t// (max.z - min.z)\n\n\t\t// check x\n\n\t\tlet distance, maxDistance;\n\n\t\tmaxDistance = max.x.point.x - min.x.point.x;\n\n\t\tv0 = min.x;\n\t\tv1 = max.x;\n\n\t\t// check y\n\n\t\tdistance = max.y.point.y - min.y.point.y;\n\n\t\tif ( distance > maxDistance ) {\n\n\t\t\tv0 = min.y;\n\t\t\tv1 = max.y;\n\n\t\t\tmaxDistance = distance;\n\n\t\t}\n\n\t\t// check z\n\n\t\tdistance = max.z.point.z - min.z.point.z;\n\n\t\tif ( distance > maxDistance ) {\n\n\t\t\tv0 = min.z;\n\t\t\tv1 = max.z;\n\n\t\t}\n\n\t\t// 2. The next vertex 'v2' is the one farthest to the line formed by 'v0' and 'v1'\n\n\t\tmaxDistance = - Infinity;\n\t\tline.set( v0.point, v1.point );\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 ) {\n\n\t\t\t\tline.closestPointToPoint( vertex.point, true, closestPoint$1 );\n\n\t\t\t\tdistance = closestPoint$1.squaredDistanceTo( vertex.point );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\tv2 = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 3. The next vertex 'v3' is the one farthest to the plane 'v0', 'v1', 'v2'\n\n\t\tmaxDistance = - Infinity;\n\t\tplane.fromCoplanarPoints( v0.point, v1.point, v2.point );\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 && vertex !== v2 ) {\n\n\t\t\t\tdistance = Math.abs( plane.distanceToPoint( vertex.point ) );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\tv3 = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// handle case where all points lie in one plane\n\n\t\tif ( plane.distanceToPoint( v3.point ) === 0 ) {\n\n\t\t\tthrow 'ERROR: YUKA.ConvexHull: All extreme points lie in a single plane. Unable to compute convex hull.';\n\n\t\t}\n\n\t\t// build initial tetrahedron\n\n\t\tconst faces = this.faces;\n\n\t\tif ( plane.distanceToPoint( v3.point ) < 0 ) {\n\n\t\t\t// the face is not able to see the point so 'plane.normal' is pointing outside the tetrahedron\n\n\t\t\tfaces.push(\n\t\t\t\tnew Face( v0.point, v1.point, v2.point ),\n\t\t\t\tnew Face( v3.point, v1.point, v0.point ),\n\t\t\t\tnew Face( v3.point, v2.point, v1.point ),\n\t\t\t\tnew Face( v3.point, v0.point, v2.point )\n\t\t\t);\n\n\t\t\t// set the twin edge\n\n\t\t\t// join face[ i ] i > 0, with the first face\n\n\t\t\tfaces[ 1 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 1 ) );\n\t\t\tfaces[ 2 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 2 ) );\n\t\t\tfaces[ 3 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 0 ) );\n\n\t\t\t// join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n\t\t\tfaces[ 1 ].getEdge( 1 ).linkOpponent( faces[ 2 ].getEdge( 0 ) );\n\t\t\tfaces[ 2 ].getEdge( 1 ).linkOpponent( faces[ 3 ].getEdge( 0 ) );\n\t\t\tfaces[ 3 ].getEdge( 1 ).linkOpponent( faces[ 1 ].getEdge( 0 ) );\n\n\t\t} else {\n\n\t\t\t// the face is able to see the point so 'plane.normal' is pointing inside the tetrahedron\n\n\t\t\tfaces.push(\n\t\t\t\tnew Face( v0.point, v2.point, v1.point ),\n\t\t\t\tnew Face( v3.point, v0.point, v1.point ),\n\t\t\t\tnew Face( v3.point, v1.point, v2.point ),\n\t\t\t\tnew Face( v3.point, v2.point, v0.point )\n\t\t\t);\n\n\t\t\t// set the twin edge\n\n\t\t\t// join face[ i ] i > 0, with the first face\n\n\t\t\tfaces[ 1 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 0 ) );\n\t\t\tfaces[ 2 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 2 ) );\n\t\t\tfaces[ 3 ].getEdge( 2 ).linkOpponent( faces[ 0 ].getEdge( 1 ) );\n\n\t\t\t// join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n\t\t\tfaces[ 1 ].getEdge( 0 ).linkOpponent( faces[ 2 ].getEdge( 1 ) );\n\t\t\tfaces[ 2 ].getEdge( 0 ).linkOpponent( faces[ 3 ].getEdge( 1 ) );\n\t\t\tfaces[ 3 ].getEdge( 0 ).linkOpponent( faces[ 1 ].getEdge( 1 ) );\n\n\t\t}\n\n\t\t// initial assignment of vertices to the faces of the tetrahedron\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3 ) {\n\n\t\t\t\tmaxDistance = this._tolerance;\n\t\t\t\tlet maxFace = null;\n\n\t\t\t\tfor ( let j = 0; j < 4; j ++ ) {\n\n\t\t\t\t\tdistance = faces[ j ].distanceToPoint( vertex.point );\n\n\t\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\t\tmaxFace = faces[ j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( maxFace !== null ) {\n\n\t\t\t\t\tthis._addVertexToFace( vertex, maxFace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// computes the extreme vertices of used to compute the initial convex hull\n\n\t_computeExtremes() {\n\n\t\tconst min = new Vector3( Infinity, Infinity, Infinity );\n\t\tconst max = new Vector3( - Infinity, - Infinity, - Infinity );\n\n\t\tconst minVertices = { x: null, y: null, z: null };\n\t\tconst maxVertices = { x: null, y: null, z: null };\n\n\t\t// compute the min/max points on all six directions\n\n\t\tfor ( let i = 0, l = this._vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = this._vertices[ i ];\n\t\t\tconst point = vertex.point;\n\n\t\t\t// update the min coordinates\n\n\t\t\tif ( point.x < min.x ) {\n\n\t\t\t\tmin.x = point.x;\n\t\t\t\tminVertices.x = vertex;\n\n\t\t\t}\n\n\t\t\tif ( point.y < min.y ) {\n\n\t\t\t\tmin.y = point.y;\n\t\t\t\tminVertices.y = vertex;\n\n\t\t\t}\n\n\t\t\tif ( point.z < min.z ) {\n\n\t\t\t\tmin.z = point.z;\n\t\t\t\tminVertices.z = vertex;\n\n\t\t\t}\n\n\t\t\t// update the max coordinates\n\n\t\t\tif ( point.x > max.x ) {\n\n\t\t\t\tmax.x = point.x;\n\t\t\t\tmaxVertices.x = vertex;\n\n\t\t\t}\n\n\t\t\tif ( point.y > max.y ) {\n\n\t\t\t\tmax.y = point.y;\n\t\t\t\tmaxVertices.y = vertex;\n\n\t\t\t}\n\n\t\t\tif ( point.z > max.z ) {\n\n\t\t\t\tmax.z = point.z;\n\t\t\t\tmaxVertices.z = vertex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use min/max vectors to compute an optimal epsilon\n\n\t\tthis._tolerance = 3 * Number.EPSILON * (\n\t\t\tMath.max( Math.abs( min.x ), Math.abs( max.x ) ) +\n\t\t\tMath.max( Math.abs( min.y ), Math.abs( max.y ) ) +\n\t\t\tMath.max( Math.abs( min.z ), Math.abs( max.z ) )\n\t\t);\n\n\t\treturn { min: minVertices, max: maxVertices };\n\n\t}\n\n\t// computes the horizon, an array of edges enclosing the faces that are able\n\t// to see the new vertex\n\n\t_computeHorizon( eyePoint, crossEdge, face, horizon ) {\n\n\t\tif ( face.outside ) {\n\n\t\t\tconst startVertex = face.outside;\n\n\t\t\t// remove all vertices from the given face\n\n\t\t\tthis._removeAllVerticesFromFace( face );\n\n\t\t\t// mark the face vertices to be reassigned to other faces\n\n\t\t\tthis._unassigned.appendChain( startVertex );\n\n\t\t}\n\n\t\tface.active = false;\n\n\t\tlet edge;\n\n\t\tif ( crossEdge === null ) {\n\n\t\t\tedge = crossEdge = face.getEdge( 0 );\n\n\t\t} else {\n\n\t\t\t// start from the next edge since 'crossEdge' was already analyzed\n\t\t\t// (actually 'crossEdge.twin' was the edge who called this method recursively)\n\n\t\t\tedge = crossEdge.next;\n\n\t\t}\n\n\t\tdo {\n\n\t\t\tlet twinEdge = edge.twin;\n\t\t\tlet oppositeFace = twinEdge.polygon;\n\n\t\t\tif ( oppositeFace.active ) {\n\n\t\t\t\tif ( oppositeFace.distanceToPoint( eyePoint ) > this._tolerance ) {\n\n\t\t\t\t\t// the opposite face can see the vertex, so proceed with next edge\n\n\t\t\t\t\tthis._computeHorizon( eyePoint, twinEdge, oppositeFace, horizon );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// the opposite face can't see the vertex, so this edge is part of the horizon\n\n\t\t\t\t\thorizon.push( edge );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== crossEdge );\n\n\t\treturn this;\n\n\t}\n\n\t// this method controls the basic flow of the algorithm\n\n\t_generate() {\n\n\t\tthis.faces.length = 0;\n\n\t\tthis._computeInitialHull();\n\n\t\tlet vertex;\n\n\t\twhile ( vertex = this._nextVertexToAdd() ) {\n\n\t\t\tthis._addVertexToHull( vertex );\n\n\t\t}\n\n\t\tthis._updateFaces();\n\n\t\tthis._postprocessHull();\n\n\t\tthis._reset();\n\n\t\treturn this;\n\n\t}\n\n\t// final tasks after computing the hull\n\n\t_postprocessHull() {\n\n\t\tconst faces = this.faces;\n\t\tconst edges = this.edges;\n\n\t\tif ( this.mergeFaces === true ) {\n\n\t\t\t// merges faces if the result is still convex and coplanar\n\n\t\t\tconst cache = {\n\t\t\t\tleftPrev: null,\n\t\t\t\tleftNext: null,\n\t\t\t\trightPrev: null,\n\t\t\t\trightNext: null\n\t\t\t};\n\n\t\t\t// gather unique edges and temporarily sort them\n\n\t\t\tthis.computeUniqueEdges();\n\n\t\t\tedges.sort( ( a, b ) => b.length() - a.length() );\n\n\t\t\t// process edges from longest to shortest\n\n\t\t\tfor ( let i = 0, l = edges.length; i < l; i ++ ) {\n\n\t\t\t\tconst entry = edges[ i ];\n\n\t\t\t\tif ( this._mergePossible( entry ) === false ) continue;\n\n\t\t\t\tlet candidate = entry;\n\n\t\t\t\t// cache current references for possible restore\n\n\t\t\t\tcache.prev = candidate.prev;\n\t\t\t\tcache.next = candidate.next;\n\t\t\t\tcache.prevTwin = candidate.twin.prev;\n\t\t\t\tcache.nextTwin = candidate.twin.next;\n\n\t\t\t\t// temporarily change the first polygon in order to represent both polygons\n\n\t\t\t\tcandidate.prev.next = candidate.twin.next;\n\t\t\t\tcandidate.next.prev = candidate.twin.prev;\n\t\t\t\tcandidate.twin.prev.next = candidate.next;\n\t\t\t\tcandidate.twin.next.prev = candidate.prev;\n\n\t\t\t\tconst polygon = candidate.polygon;\n\t\t\t\tpolygon.edge = candidate.prev;\n\n\t\t\t\tconst ccw = polygon.plane.normal.dot( up ) >= 0;\n\n\t\t\t\tif ( polygon.convex( ccw ) === true && polygon.coplanar( this._tolerance ) === true ) {\n\n\t\t\t\t\t// correct polygon reference of all edges\n\n\t\t\t\t\tlet edge = polygon.edge;\n\n\t\t\t\t\tdo {\n\n\t\t\t\t\t\tedge.polygon = polygon;\n\n\t\t\t\t\t\tedge = edge.next;\n\n\t\t\t\t\t} while ( edge !== polygon.edge );\n\n\t\t\t\t\t// delete obsolete polygon\n\n\t\t\t\t\tconst index = faces.indexOf( entry.twin.polygon );\n\t\t\t\t\tfaces.splice( index, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// restore\n\n\t\t\t\t\tcache.prev.next = candidate;\n\t\t\t\t\tcache.next.prev = candidate;\n\t\t\t\t\tcache.prevTwin.next = candidate.twin;\n\t\t\t\t\tcache.nextTwin.prev = candidate.twin;\n\n\t\t\t\t\tpolygon.edge = candidate;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// recompute centroid of faces\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tfaces[ i ].computeCentroid();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute centroid of convex hull and the final edge and vertex list\n\n\t\tthis.computeCentroid();\n\t\tthis.computeUniqueEdges();\n\t\tthis.computeUniqueVertices();\n\n\t\treturn this;\n\n\t}\n\n\t// checks if the given edge can be used to merge convex regions\n\n\t_mergePossible( edge ) {\n\n\t\tconst polygon = edge.polygon;\n\t\tlet currentEdge = edge.twin;\n\n\t\tdo {\n\n\t\t\t// we can only use an edge to merge two regions if the adjacent region does not have any edges\n\t\t\t// apart from edge.twin already connected to the region.\n\n\t\t\tif ( currentEdge !== edge.twin && currentEdge.twin.polygon === polygon ) return false;\n\n\t\t\tcurrentEdge = currentEdge.next;\n\n\t\t} while ( edge.twin !== currentEdge );\n\n\t\treturn true;\n\n\t}\n\n\t// determines the next vertex that should added to the convex hull\n\n\t_nextVertexToAdd() {\n\n\t\tlet nextVertex = null;\n\n\t\t// if the 'assigned' list of vertices is empty, no vertices are left\n\n\t\tif ( this._assigned.empty() === false ) {\n\n\t\t\tlet maxDistance = 0;\n\n\t\t\t// grap the first available vertex and save the respective face\n\n\t\t\tlet vertex = this._assigned.first();\n\t\t\tconst face = vertex.face;\n\n\t\t\t// now calculate the farthest vertex that face can see\n\n\t\t\tdo {\n\n\t\t\t\tconst distance = face.distanceToPoint( vertex.point );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\tnextVertex = vertex;\n\n\t\t\t\t}\n\n\t\t\t\tvertex = vertex.next;\n\n\t\t\t} while ( vertex !== null && vertex.face === face );\n\n\t\t}\n\n\t\treturn nextVertex;\n\n\t}\n\n\t// updates the faces array after the computation of the convex hull\n\t// it ensures only visible faces are in the result set\n\n\t_updateFaces() {\n\n\t\tconst faces = this.faces;\n\t\tconst activeFaces = new Array();\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// only respect visible but not deleted or merged faces\n\n\t\t\tif ( face.active ) {\n\n\t\t\t\tactiveFaces.push( face );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.faces.length = 0;\n\t\tthis.faces.push( ...activeFaces );\n\n\t\treturn this;\n\n\t}\n\n\t// removes all vertices from the given face. necessary when deleting a face\n\t// which is necessary when the hull is going to be expanded\n\n\t_removeAllVerticesFromFace( face ) {\n\n\t\tif ( face.outside !== null ) {\n\n\t\t\t// reference to the first and last vertex of this face\n\n\t\t\tconst firstVertex = face.outside;\n\t\t\tfirstVertex.face = null;\n\n\t\t\tlet lastVertex = face.outside;\n\n\t\t\twhile ( lastVertex.next !== null && lastVertex.next.face === face ) {\n\n\t\t\t\tlastVertex = lastVertex.next;\n\t\t\t\tlastVertex.face = null;\n\n\t\t\t}\n\n\t\t\tface.outside = null;\n\n\t\t\tthis._assigned.removeChain( firstVertex, lastVertex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes a single vertex from the given face\n\n\t_removeVertexFromFace( vertex, face ) {\n\n\t\tvertex.face = null;\n\n\t\tif ( vertex === face.outside ) {\n\n\t\t\t// fix face.outside link\n\n\t\t\tif ( vertex.next !== null && vertex.next.face === face ) {\n\n\t\t\t\t// face has at least 2 outside vertices, move the 'outside' reference\n\n\t\t\t\tface.outside = vertex.next;\n\n\t\t\t} else {\n\n\t\t\t\t// vertex was the only outside vertex that face had\n\n\t\t\t\tface.outside = null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._assigned.remove( vertex );\n\n\t\treturn this;\n\n\t}\n\n\t// ensure that all unassigned points are reassigned to other faces of the\n\t// current convex hull. this method is always executed after the hull was\n\t// expanded\n\n\t_resolveUnassignedPoints( newFaces ) {\n\n\t\tif ( this._unassigned.empty() === false ) {\n\n\t\t\tlet vertex = this._unassigned.first();\n\n\t\t\tdo {\n\n\t\t\t\t// buffer 'next' reference since addVertexToFace() can change it\n\n\t\t\t\tlet nextVertex = vertex.next;\n\t\t\t\tlet maxDistance = this._tolerance;\n\n\t\t\t\tlet maxFace = null;\n\n\t\t\t\tfor ( let i = 0, l = newFaces.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst face = newFaces[ i ];\n\n\t\t\t\t\tif ( face.active ) {\n\n\t\t\t\t\t\tconst distance = face.distanceToPoint( vertex.point );\n\n\t\t\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\t\t\tmaxFace = face;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( maxFace !== null ) {\n\n\t\t\t\t\tthis._addVertexToFace( vertex, maxFace );\n\n\t\t\t\t}\n\n\t\t\t\tvertex = nextVertex;\n\n\t\t\t} while ( vertex !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Face extends Polygon {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.outside = null; // reference to a vertex in a vertex list this face can see\n\t\tthis.active = true;\n\n\t\tthis.fromContour( [ a, b, c ] );\n\n\t\tthis.computeCentroid();\n\n\t}\n\n\tgetEdge( i ) {\n\n\t\tlet edge = this.edge;\n\n\t\twhile ( i > 0 ) {\n\n\t\t\tedge = edge.next;\n\t\t\ti --;\n\n\t\t}\n\n\t\twhile ( i < 0 ) {\n\n\t\t\tedge = edge.prev;\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn edge;\n\n\t}\n\n}\n\n// special data structures for the quick hull implementation\n\nclass Vertex {\n\n\tconstructor( point = new Vector3() ) {\n\n\t\tthis.point = point;\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t\tthis.face = null; // the face that is able to see this vertex\n\n\t}\n\n}\n\nclass VertexList {\n\n\tconstructor() {\n\n\t\tthis.head = null;\n\t\tthis.tail = null;\n\n\t}\n\n\tfirst() {\n\n\t\treturn this.head;\n\n\t}\n\n\tlast() {\n\n\t\treturn this.tail;\n\n\t}\n\n\tclear() {\n\n\t\tthis.head = this.tail = null;\n\n\t\treturn this;\n\n\t}\n\n\tinsertAfter( target, vertex ) {\n\n\t\tvertex.prev = target;\n\t\tvertex.next = target.next;\n\n\t\tif ( ! vertex.next ) {\n\n\t\t\tthis.tail = vertex;\n\n\t\t} else {\n\n\t\t\tvertex.next.prev = vertex;\n\n\t\t}\n\n\t\ttarget.next = vertex;\n\n\t\treturn this;\n\n\t}\n\n\tappend( vertex ) {\n\n\t\tif ( this.head === null ) {\n\n\t\t\tthis.head = vertex;\n\n\t\t} else {\n\n\t\t\tthis.tail.next = vertex;\n\n\t\t}\n\n\t\tvertex.prev = this.tail;\n\t\tvertex.next = null; // the tail has no subsequent vertex\n\n\t\tthis.tail = vertex;\n\n\t\treturn this;\n\n\t}\n\n\tappendChain( vertex ) {\n\n\t\tif ( this.head === null ) {\n\n\t\t\tthis.head = vertex;\n\n\t\t} else {\n\n\t\t\tthis.tail.next = vertex;\n\n\t\t}\n\n\t\tvertex.prev = this.tail;\n\n\t\twhile ( vertex.next !== null ) {\n\n\t\t\tvertex = vertex.next;\n\n\t\t}\n\n\t\tthis.tail = vertex;\n\n\t\treturn this;\n\n\t}\n\n\tremove( vertex ) {\n\n\t\tif ( vertex.prev === null ) {\n\n\t\t\tthis.head = vertex.next;\n\n\t\t} else {\n\n\t\t\tvertex.prev.next = vertex.next;\n\n\t\t}\n\n\t\tif ( vertex.next === null ) {\n\n\t\t\tthis.tail = vertex.prev;\n\n\t\t} else {\n\n\t\t\tvertex.next.prev = vertex.prev;\n\n\t\t}\n\n\t\tvertex.prev = null;\n\t\tvertex.next = null;\n\n\t\treturn this;\n\n\t}\n\n\tremoveChain( a, b ) {\n\n\t\tif ( a.prev === null ) {\n\n\t\t\tthis.head = b.next;\n\n\t\t} else {\n\n\t\t\ta.prev.next = b.next;\n\n\t\t}\n\n\t\tif ( b.next === null ) {\n\n\t\t\tthis.tail = a.prev;\n\n\t\t} else {\n\n\t\t\tb.next.prev = a.prev;\n\n\t\t}\n\n\t\ta.prev = null;\n\t\tb.next = null;\n\n\t\treturn this;\n\n\t}\n\n\tempty() {\n\n\t\treturn this.head === null;\n\n\t}\n\n}\n\nconst eigenDecomposition = {\n\tunitary: new Matrix3(),\n\tdiagonal: new Matrix3()\n};\n\nconst a = {\n\tc: null, // center\n\tu: [ new Vector3(), new Vector3(), new Vector3() ], // basis vectors\n\te: [] // half width\n};\n\nconst b = {\n\tc: null, // center\n\tu: [ new Vector3(), new Vector3(), new Vector3() ], // basis vectors\n\te: [] // half width\n};\n\nconst R = [[], [], []];\nconst AbsR = [[], [], []];\nconst t = [];\n\nconst xAxis = new Vector3();\nconst yAxis = new Vector3();\nconst zAxis = new Vector3();\nconst v1 = new Vector3();\nconst closestPoint = new Vector3();\n\n/**\n* Class representing an oriented bounding box (OBB). Similar to an AABB, it's a\n* rectangular block but with an arbitrary orientation. When using {@link OBB#fromPoints},\n* the implementation tries to provide a tight-fitting oriented bounding box. In\n* many cases, the result is better than an AABB or bounding sphere but worse than a\n* convex hull. However, it's more efficient to work with OBBs compared to convex hulls.\n* In general, OBB's are a good compromise between performance and tightness.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass OBB {\n\n\t/**\n\t* Constructs a new OBB with the given values.\n\t*\n\t* @param {Vector3} center - The center of this OBB.\n\t* @param {Vector3} halfSizes - The half sizes of the OBB (defines its width, height and depth).\n\t* @param {Matrix3} rotation - The rotation of this OBB.\n\t*/\n\tconstructor( center = new Vector3(), halfSizes = new Vector3(), rotation = new Matrix3() ) {\n\n\t\t/**\n\t\t* The center of this OBB.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.center = center;\n\n\t\t/**\n\t\t* The half sizes of the OBB (defines its width, height and depth).\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.halfSizes = halfSizes;\n\n\t\t/**\n\t\t* The rotation of this OBB.\n\t\t* @type {Matrix3}\n\t\t*/\n\t\tthis.rotation = rotation;\n\n\t}\n\n\t/**\n\t* Sets the given values to this OBB.\n\t*\n\t* @param {Vector3} center - The center of this OBB\n\t* @param {Vector3} halfSizes - The half sizes of the OBB (defines its width, height and depth).\n\t* @param {Matrix3} rotation - The rotation of this OBB.\n\t* @return {OBB} A reference to this OBB.\n\t*/\n\tset( center, halfSizes, rotation ) {\n\n\t\tthis.center = center;\n\t\tthis.halfSizes = halfSizes;\n\t\tthis.rotation = rotation;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Copies all values from the given OBB to this OBB.\n\t*\n\t* @param {OBB} obb - The OBB to copy.\n\t* @return {OBB} A reference to this OBB.\n\t*/\n\tcopy( obb ) {\n\n\t\tthis.center.copy( obb.center );\n\t\tthis.halfSizes.copy( obb.halfSizes );\n\t\tthis.rotation.copy( obb.rotation );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Creates a new OBB and copies all values from this OBB.\n\t*\n\t* @return {OBB} A new OBB.\n\t*/\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\t/**\n\t* Computes the size (width, height, depth) of this OBB and stores it into the given vector.\n\t*\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tgetSize( result ) {\n\n\t\treturn result.copy( this.halfSizes ).multiplyScalar( 2 );\n\n\t}\n\n\t/**\n\t* Ensures the given point is inside this OBB and stores\n\t* the result in the given vector.\n\t*\n\t* Reference: Closest Point on OBB to Point in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.1.4)\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Vector3} result - The result vector.\n\t* @return {Vector3} The result vector.\n\t*/\n\tclampPoint( point, result ) {\n\n\t\tconst halfSizes = this.halfSizes;\n\n\t\tv1.subVectors( point, this.center );\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// start at the center position of the OBB\n\n\t\tresult.copy( this.center );\n\n\t\t// project the target onto the OBB axes and walk towards that point\n\n\t\tconst x = MathUtils.clamp( v1.dot( xAxis ), - halfSizes.x, halfSizes.x );\n\t\tresult.add( xAxis.multiplyScalar( x ) );\n\n\t\tconst y = MathUtils.clamp( v1.dot( yAxis ), - halfSizes.y, halfSizes.y );\n\t\tresult.add( yAxis.multiplyScalar( y ) );\n\n\t\tconst z = MathUtils.clamp( v1.dot( zAxis ), - halfSizes.z, halfSizes.z );\n\t\tresult.add( zAxis.multiplyScalar( z ) );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Returns true if the given point is inside this OBB.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Boolean} Whether the given point is inside this OBB or not.\n\t*/\n\tcontainsPoint( point ) {\n\n\t\tv1.subVectors( point, this.center );\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// project v1 onto each axis and check if these points lie inside the OBB\n\n\t\treturn Math.abs( v1.dot( xAxis ) ) <= this.halfSizes.x &&\n\t\t\t\tMath.abs( v1.dot( yAxis ) ) <= this.halfSizes.y &&\n\t\t\t\tMath.abs( v1.dot( zAxis ) ) <= this.halfSizes.z;\n\n\t}\n\n\t/**\n\t* Returns true if the given AABB intersects this OBB.\n\t*\n\t* @param {AABB} aabb - The AABB to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsAABB( aabb ) {\n\n\t\treturn this.intersectsOBB( obb.fromAABB( aabb ) );\n\n\t}\n\n\t/**\n\t* Returns true if the given bounding sphere intersects this OBB.\n\t*\n\t* @param {BoundingSphere} sphere - The bounding sphere to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsBoundingSphere( sphere ) {\n\n\t\t// find the point on the OBB closest to the sphere center\n\n\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t// if that point is inside the sphere, the OBB and sphere intersect\n\n\t\treturn closestPoint.squaredDistanceTo( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\t/**\n\t* Returns true if the given OBB intersects this OBB.\n\t*\n\t* Reference: OBB-OBB Intersection in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 4.4.1)\n\t*\n\t* @param {OBB} obb - The OBB to test.\n\t* @param {Number} epsilon - The epsilon (tolerance) value.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsOBB( obb, epsilon = Number.EPSILON ) {\n\n\t\t// prepare data structures (the code uses the same nomenclature like the reference)\n\n\t\ta.c = this.center;\n\t\ta.e[ 0 ] = this.halfSizes.x;\n\t\ta.e[ 1 ] = this.halfSizes.y;\n\t\ta.e[ 2 ] = this.halfSizes.z;\n\t\tthis.rotation.extractBasis( a.u[ 0 ], a.u[ 1 ], a.u[ 2 ] );\n\n\t\tb.c = obb.center;\n\t\tb.e[ 0 ] = obb.halfSizes.x;\n\t\tb.e[ 1 ] = obb.halfSizes.y;\n\t\tb.e[ 2 ] = obb.halfSizes.z;\n\t\tobb.rotation.extractBasis( b.u[ 0 ], b.u[ 1 ], b.u[ 2 ] );\n\n\t\t// compute rotation matrix expressing b in a’s coordinate frame\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tR[ i ][ j ] = a.u[ i ].dot( b.u[ j ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute translation vector\n\n\t\tv1.subVectors( b.c, a.c );\n\n\t\t// bring translation into a’s coordinate frame\n\n\t\tt[ 0 ] = v1.dot( a.u[ 0 ] );\n\t\tt[ 1 ] = v1.dot( a.u[ 1 ] );\n\t\tt[ 2 ] = v1.dot( a.u[ 2 ] );\n\n\t\t// compute common subexpressions. Add in an epsilon term to\n\t\t// counteract arithmetic errors when two edges are parallel and\n\t\t// their cross product is (near) null\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tAbsR[ i ][ j ] = Math.abs( R[ i ][ j ] ) + epsilon;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet ra, rb;\n\n\t\t// test axes L = A0, L = A1, L = A2\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tra = a.e[ i ];\n\t\t\trb = b.e[ 0 ] * AbsR[ i ][ 0 ] + b.e[ 1 ] * AbsR[ i ][ 1 ] + b.e[ 2 ] * AbsR[ i ][ 2 ];\n\t\t\tif ( Math.abs( t[ i ] ) > ra + rb ) return false;\n\n\n\t\t}\n\n\t\t// test axes L = B0, L = B1, L = B2\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tra = a.e[ 0 ] * AbsR[ 0 ][ i ] + a.e[ 1 ] * AbsR[ 1 ][ i ] + a.e[ 2 ] * AbsR[ 2 ][ i ];\n\t\t\trb = b.e[ i ];\n\t\t\tif ( Math.abs( t[ 0 ] * R[ 0 ][ i ] + t[ 1 ] * R[ 1 ][ i ] + t[ 2 ] * R[ 2 ][ i ] ) > ra + rb ) return false;\n\n\t\t}\n\n\t\t// test axis L = A0 x B0\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 0 ] + a.e[ 2 ] * AbsR[ 1 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 0 ][ 2 ] + b.e[ 2 ] * AbsR[ 0 ][ 1 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 0 ] - t[ 1 ] * R[ 2 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A0 x B1\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 1 ] + a.e[ 2 ] * AbsR[ 1 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 0 ][ 2 ] + b.e[ 2 ] * AbsR[ 0 ][ 0 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 1 ] - t[ 1 ] * R[ 2 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A0 x B2\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 2 ] + a.e[ 2 ] * AbsR[ 1 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 0 ][ 1 ] + b.e[ 1 ] * AbsR[ 0 ][ 0 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 2 ] - t[ 1 ] * R[ 2 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B0\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 0 ] + a.e[ 2 ] * AbsR[ 0 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 1 ][ 2 ] + b.e[ 2 ] * AbsR[ 1 ][ 1 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 0 ] - t[ 2 ] * R[ 0 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B1\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 1 ] + a.e[ 2 ] * AbsR[ 0 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 1 ][ 2 ] + b.e[ 2 ] * AbsR[ 1 ][ 0 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 1 ] - t[ 2 ] * R[ 0 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B2\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 2 ] + a.e[ 2 ] * AbsR[ 0 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 1 ][ 1 ] + b.e[ 1 ] * AbsR[ 1 ][ 0 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 2 ] - t[ 2 ] * R[ 0 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B0\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 0 ] + a.e[ 1 ] * AbsR[ 0 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 2 ][ 2 ] + b.e[ 2 ] * AbsR[ 2 ][ 1 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 0 ] - t[ 0 ] * R[ 1 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B1\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 1 ] + a.e[ 1 ] * AbsR[ 0 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 2 ][ 2 ] + b.e[ 2 ] * AbsR[ 2 ][ 0 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 1 ] - t[ 0 ] * R[ 1 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B2\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 2 ] + a.e[ 1 ] * AbsR[ 0 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 2 ][ 1 ] + b.e[ 1 ] * AbsR[ 2 ][ 0 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 2 ] - t[ 0 ] * R[ 1 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// since no separating axis is found, the OBBs must be intersecting\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Returns true if the given plane intersects this OBB.\n\t*\n\t* Reference: Testing Box Against Plane in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.2.3)\n\t*\n\t* @param {Plane} plane - The plane to test.\n\t* @return {Boolean} The result of the intersection test.\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// compute the projection interval radius of this OBB onto L(t) = this->center + t * p.normal;\n\n\t\tconst r = this.halfSizes.x * Math.abs( plane.normal.dot( xAxis ) ) +\n\t\t\t\tthis.halfSizes.y * Math.abs( plane.normal.dot( yAxis ) ) +\n\t\t\t\tthis.halfSizes.z * Math.abs( plane.normal.dot( zAxis ) );\n\n\t\t// compute distance of the OBB's center from the plane\n\n\t\tconst d = plane.normal.dot( this.center ) - plane.constant;\n\n\t\t// Intersection occurs when distance d falls within [-r,+r] interval\n\n\t\treturn Math.abs( d ) <= r;\n\n\t}\n\n\t/**\n\t* Computes the OBB from an AABB.\n\t*\n\t* @param {AABB} aabb - The AABB.\n\t* @return {OBB} A reference to this OBB.\n\t*/\n\tfromAABB( aabb ) {\n\n\t\taabb.getCenter( this.center );\n\n\t\taabb.getSize( this.halfSizes ).multiplyScalar( 0.5 );\n\n\t\tthis.rotation.identity();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the minimum enclosing OBB for the given set of points. The method is an\n\t* implementation of {@link http://gamma.cs.unc.edu/users/gottschalk/main.pdf Collision Queries using Oriented Bounding Boxes}\n\t* by Stefan Gottschalk.\n\t* According to the dissertation, the quality of the fitting process varies from\n\t* the respective input. This method uses the best approach by computing the\n\t* covariance matrix based on the triangles of the convex hull (chapter 3.4.3).\n\t*\n\t* However, the implementation is susceptible to {@link https://en.wikipedia.org/wiki/Regular_polygon regular polygons}\n\t* like cubes or spheres. For such shapes, it's recommended to verify the quality\n\t* of the produced OBB. Consider to use an AABB or bounding sphere if the result\n\t* is not satisfying.\n\t*\n\t* @param {Array<Vector3>} points - An array of 3D vectors representing points in 3D space.\n\t* @return {OBB} A reference to this OBB.\n\t*/\n\tfromPoints( points ) {\n\n\t\tconst convexHull = new ConvexHull().fromPoints( points );\n\n\t\t// 1. iterate over all faces of the convex hull and triangulate\n\n\t\tconst faces = convexHull.faces;\n\t\tconst edges = new Array();\n\t\tconst triangles = new Array();\n\n\t\tfor ( let i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\t\t\tlet edge = face.edge;\n\n\t\t\tedges.length = 0;\n\n\t\t\t// gather edges\n\n\t\t\tdo {\n\n\t\t\t\tedges.push( edge );\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== face.edge );\n\n\t\t\t// triangulate\n\n\t\t\tconst triangleCount = ( edges.length - 2 );\n\n\t\t\tfor ( let j = 1, jl = triangleCount; j <= jl; j ++ ) {\n\n\t\t\t\tconst v1 = edges[ 0 ].vertex;\n\t\t\t\tconst v2 = edges[ j + 0 ].vertex;\n\t\t\t\tconst v3 = edges[ j + 1 ].vertex;\n\n\t\t\t\ttriangles.push( v1.x, v1.y, v1.z );\n\t\t\t\ttriangles.push( v2.x, v2.y, v2.z );\n\t\t\t\ttriangles.push( v3.x, v3.y, v3.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 2. build covariance matrix\n\n\t\tconst p = new Vector3();\n\t\tconst q = new Vector3();\n\t\tconst r = new Vector3();\n\n\t\tconst qp = new Vector3();\n\t\tconst rp = new Vector3();\n\n\t\tconst v = new Vector3();\n\n\t\tconst mean = new Vector3();\n\t\tconst weightedMean = new Vector3();\n\t\tlet areaSum = 0;\n\n\t\tlet cxx, cxy, cxz, cyy, cyz, czz;\n\t\tcxx = cxy = cxz = cyy = cyz = czz = 0;\n\n\t\tfor ( let i = 0, l = triangles.length; i < l; i += 9 ) {\n\n\t\t\tp.fromArray( triangles, i );\n\t\t\tq.fromArray( triangles, i + 3 );\n\t\t\tr.fromArray( triangles, i + 6 );\n\n\t\t\tmean.set( 0, 0, 0 );\n\t\t\tmean.add( p ).add( q ).add( r ).divideScalar( 3 );\n\n\t\t\tqp.subVectors( q, p );\n\t\t\trp.subVectors( r, p );\n\n\t\t\tconst area = v.crossVectors( qp, rp ).length() / 2; // .length() represents the frobenius norm here\n\t\t\tweightedMean.add( v.copy( mean ).multiplyScalar( area ) );\n\n\t\t\tareaSum += area;\n\n\t\t\tcxx += ( 9.0 * mean.x * mean.x + p.x * p.x + q.x * q.x + r.x * r.x ) * ( area / 12 );\n\t\t\tcxy += ( 9.0 * mean.x * mean.y + p.x * p.y + q.x * q.y + r.x * r.y ) * ( area / 12 );\n\t\t\tcxz += ( 9.0 * mean.x * mean.z + p.x * p.z + q.x * q.z + r.x * r.z ) * ( area / 12 );\n\t\t\tcyy += ( 9.0 * mean.y * mean.y + p.y * p.y + q.y * q.y + r.y * r.y ) * ( area / 12 );\n\t\t\tcyz += ( 9.0 * mean.y * mean.z + p.y * p.z + q.y * q.z + r.y * r.z ) * ( area / 12 );\n\t\t\tczz += ( 9.0 * mean.z * mean.z + p.z * p.z + q.z * q.z + r.z * r.z ) * ( area / 12 );\n\n\t\t}\n\n\t\tweightedMean.divideScalar( areaSum );\n\n\t\tcxx /= areaSum;\n\t\tcxy /= areaSum;\n\t\tcxz /= areaSum;\n\t\tcyy /= areaSum;\n\t\tcyz /= areaSum;\n\t\tczz /= areaSum;\n\n\t\tcxx -= weightedMean.x * weightedMean.x;\n\t\tcxy -= weightedMean.x * weightedMean.y;\n\t\tcxz -= weightedMean.x * weightedMean.z;\n\t\tcyy -= weightedMean.y * weightedMean.y;\n\t\tcyz -= weightedMean.y * weightedMean.z;\n\t\tczz -= weightedMean.z * weightedMean.z;\n\n\t\tconst covarianceMatrix = new Matrix3();\n\n\t\tcovarianceMatrix.elements[ 0 ] = cxx;\n\t\tcovarianceMatrix.elements[ 1 ] = cxy;\n\t\tcovarianceMatrix.elements[ 2 ] = cxz;\n\t\tcovarianceMatrix.elements[ 3 ] = cxy;\n\t\tcovarianceMatrix.elements[ 4 ] = cyy;\n\t\tcovarianceMatrix.elements[ 5 ] = cyz;\n\t\tcovarianceMatrix.elements[ 6 ] = cxz;\n\t\tcovarianceMatrix.elements[ 7 ] = cyz;\n\t\tcovarianceMatrix.elements[ 8 ] = czz;\n\n\t\t// 3. compute rotation, center and half sizes\n\n\t\tcovarianceMatrix.eigenDecomposition( eigenDecomposition );\n\n\t\tconst unitary = eigenDecomposition.unitary;\n\n\t\tconst v1 = new Vector3();\n\t\tconst v2 = new Vector3();\n\t\tconst v3 = new Vector3();\n\n\t\tunitary.extractBasis( v1, v2, v3 );\n\n\t\tlet u1 = - Infinity;\n\t\tlet u2 = - Infinity;\n\t\tlet u3 = - Infinity;\n\t\tlet l1 = Infinity;\n\t\tlet l2 = Infinity;\n\t\tlet l3 = Infinity;\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst p = points[ i ];\n\n\t\t\tu1 = Math.max( v1.dot( p ), u1 );\n\t\t\tu2 = Math.max( v2.dot( p ), u2 );\n\t\t\tu3 = Math.max( v3.dot( p ), u3 );\n\n\t\t\tl1 = Math.min( v1.dot( p ), l1 );\n\t\t\tl2 = Math.min( v2.dot( p ), l2 );\n\t\t\tl3 = Math.min( v3.dot( p ), l3 );\n\n\t\t}\n\n\t\tv1.multiplyScalar( 0.5 * ( l1 + u1 ) );\n\t\tv2.multiplyScalar( 0.5 * ( l2 + u2 ) );\n\t\tv3.multiplyScalar( 0.5 * ( l3 + u3 ) );\n\n\t\t// center\n\n\t\tthis.center.add( v1 ).add( v2 ).add( v3 );\n\n\t\tthis.halfSizes.x = u1 - l1;\n\t\tthis.halfSizes.y = u2 - l2;\n\t\tthis.halfSizes.z = u3 - l3;\n\n\t\t// halfSizes\n\n\t\tthis.halfSizes.multiplyScalar( 0.5 );\n\n\t\t// rotation\n\n\t\tthis.rotation.copy( unitary );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if the given OBB is deep equal with this OBB.\n\t*\n\t* @param {OBB} obb - The OBB to test.\n\t* @return {Boolean} The result of the equality test.\n\t*/\n\tequals( obb ) {\n\n\t\treturn obb.center.equals( this.center ) &&\n\t\t\t\tobb.halfSizes.equals( this.halfSizes ) &&\n\t\t\t\tobb.rotation.equals( this.rotation );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tcenter: this.center.toArray( new Array() ),\n\t\t\thalfSizes: this.halfSizes.toArray( new Array() ),\n\t\t\trotation: this.rotation.toArray( new Array() )\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {OBB} A reference to this OBB.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.center.fromArray( json.center );\n\t\tthis.halfSizes.fromArray( json.halfSizes );\n\t\tthis.rotation.fromArray( json.rotation );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst obb = new OBB();\n\n/**\n* Class for representing navigation edges.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments Edge\n*/\nclass NavEdge extends Edge {\n\n\t/**\n\t* Constructs a navigation edge.\n\t*\n\t* @param {Number} from - The index of the from node.\n\t* @param {Number} to - The index of the to node.\n\t* @param {Number} cost - The cost of this edge.\n\t*/\n\tconstructor( from = - 1, to = - 1, cost = 0 ) {\n\n\t\tsuper( from, to, cost );\n\n\t}\n\n}\n\n/**\n* Class for representing navigation nodes.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments Node\n*/\nclass NavNode extends Node {\n\n\t/**\n\t* Constructs a new navigation node.\n\t*\n\t* @param {Number} index - The unique index of this node.\n\t* @param {Vector3} position - The position of the node in 3D space.\n\t* @param {Object} userData - Custom user data connected to this node.\n\t*/\n\tconstructor( index = - 1, position = new Vector3(), userData = {} ) {\n\n\t\tsuper( index );\n\n\t\t/**\n\t\t* The position of the node in 3D space.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.position = position;\n\n\t\t/**\n\t\t* Custom user data connected to this node.\n\t\t* @type {Object}\n\t\t*/\n\t\tthis.userData = userData;\n\n\t}\n\n}\n\n/**\n* Class with graph helpers.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass GraphUtils {\n\n\t/**\n\t* Generates a navigation graph with a planar grid layout based on the given parameters.\n\t*\n\t* @param {Number} size - The size (width and depth) in x and z direction\n\t* @param {Number} segments - The amount of segments in x and z direction.\n\t* @return {Graph} The new graph.\n\t*/\n\tstatic createGridLayout( size, segments ) {\n\n\t\tconst graph = new Graph();\n\t\tgraph.digraph = true;\n\n\t\tconst halfSize = size / 2;\n\t\tconst segmentSize = size / segments;\n\n\t\t// nodes\n\n\t\tlet index = 0;\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst z = ( i * segmentSize ) - halfSize;\n\n\t\t\tfor ( let j = 0; j <= segments; j ++ ) {\n\n\t\t\t\tconst x = ( j * segmentSize ) - halfSize;\n\n\t\t\t\tconst position = new Vector3( x, 0, z );\n\n\t\t\t\tconst node = new NavNode( index, position );\n\n\t\t\t\tgraph.addNode( node );\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// edges\n\n\t\tconst count = graph.getNodeCount();\n\t\tconst range = Math.pow( segmentSize + ( segmentSize / 2 ), 2 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tconst node = graph.getNode( i );\n\n\t\t\t// check distance to all other nodes\n\n\t\t\tfor ( let j = 0; j < count; j ++ ) {\n\n\t\t\t\tif ( i !== j ) {\n\n\t\t\t\t\tconst neighbor = graph.getNode( j );\n\n\t\t\t\t\tconst distanceSquared = neighbor.position.squaredDistanceTo( node.position );\n\n\t\t\t\t\tif ( distanceSquared <= range ) {\n\n\t\t\t\t\t\tconst distance = Math.sqrt( distanceSquared );\n\n\t\t\t\t\t\tconst edge = new NavEdge( i, j, distance );\n\n\t\t\t\t\t\tgraph.addEdge( edge );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn graph;\n\n\t}\n\n}\n\n/**\n* A corridor is a sequence of portal edges representing a walkable way within a navigation mesh. The class is able\n* to find the shortest path through this corridor as a sequence of waypoints. It's an implementation of the so called\n* {@link http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html Funnel Algorithm}. Read\n* the paper {@link https://aaai.org/Papers/AAAI/2006/AAAI06-148.pdf Efficient Triangulation-Based Pathfinding} for\n* more detailed information.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass Corridor {\n\n\t/**\n\t* Creates a new corridor.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The portal edges of the corridor.\n\t\t* @type {Array<Object>}\n\t\t*/\n\t\tthis.portalEdges = new Array();\n\n\t}\n\n\t/**\n\t* Adds a portal edge defined by its left and right vertex to this corridor.\n\t*\n\t* @param {Vector3} left - The left point (origin) of the portal edge.\n\t* @param {Vector3} right - The right point (destination) of the portal edge.\n\t* @return {Corridor} A reference to this corridor.\n\t*/\n\tpush( left, right ) {\n\n\t\tthis.portalEdges.push( {\n\t\t\tleft: left,\n\t\t\tright: right\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Generates the shortest path through the corridor as an array of 3D vectors.\n\t*\n\t* @return {Array<Vector3>} An array of 3D waypoints.\n\t*/\n\tgenerate() {\n\n\t\tconst portalEdges = this.portalEdges;\n\t\tconst path = new Array();\n\n\t\t// init scan state\n\n\t\tlet portalApex, portalLeft, portalRight;\n\t\tlet apexIndex = 0, leftIndex = 0, rightIndex = 0;\n\n\t\tportalApex = portalEdges[ 0 ].left;\n\t\tportalLeft = portalEdges[ 0 ].left;\n\t\tportalRight = portalEdges[ 0 ].right;\n\n\t\t// add start point\n\n\t\tpath.push( portalApex );\n\n\t\tfor ( let i = 1, l = portalEdges.length; i < l; i ++ ) {\n\n\t\t\tconst left = portalEdges[ i ].left;\n\t\t\tconst right = portalEdges[ i ].right;\n\n\t\t\t// update right vertex\n\n\t\t\tif ( MathUtils.area( portalApex, portalRight, right ) <= 0 ) {\n\n\t\t\t\tif ( portalApex === portalRight || MathUtils.area( portalApex, portalLeft, right ) > 0 ) {\n\n\t\t\t\t\t// tighten the funnel\n\n\t\t\t\t\tportalRight = right;\n\t\t\t\t\trightIndex = i;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// right over left, insert left to path and restart scan from portal left point\n\n\t\t\t\t\tpath.push( portalLeft );\n\n\t\t\t\t\t// make current left the new apex\n\n\t\t\t\t\tportalApex = portalLeft;\n\t\t\t\t\tapexIndex = leftIndex;\n\n\t\t\t\t\t// review eset portal\n\n\t\t\t\t\tportalLeft = portalApex;\n\t\t\t\t\tportalRight = portalApex;\n\t\t\t\t\tleftIndex = apexIndex;\n\t\t\t\t\trightIndex = apexIndex;\n\n\t\t\t\t\t// restart scan\n\n\t\t\t\t\ti = apexIndex;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// update left vertex\n\n\t\t\tif ( MathUtils.area( portalApex, portalLeft, left ) >= 0 ) {\n\n\t\t\t\tif ( portalApex === portalLeft || MathUtils.area( portalApex, portalRight, left ) < 0 ) {\n\n\t\t\t\t\t// tighten the funnel\n\n\t\t\t\t\tportalLeft = left;\n\t\t\t\t\tleftIndex = i;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// left over right, insert right to path and restart scan from portal right point\n\n\t\t\t\t\tpath.push( portalRight );\n\n\t\t\t\t\t// make current right the new apex\n\n\t\t\t\t\tportalApex = portalRight;\n\t\t\t\t\tapexIndex = rightIndex;\n\n\t\t\t\t\t// reset portal\n\n\t\t\t\t\tportalLeft = portalApex;\n\t\t\t\t\tportalRight = portalApex;\n\t\t\t\t\tleftIndex = apexIndex;\n\t\t\t\t\trightIndex = apexIndex;\n\n\t\t\t\t\t// restart scan\n\n\t\t\t\t\ti = apexIndex;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( path.length === 0 ) || ( path[ path.length - 1 ] !== portalEdges[ portalEdges.length - 1 ].left ) ) {\n\n\t\t\t// append last point to path\n\n\t\t\tpath.push( portalEdges[ portalEdges.length - 1 ].left );\n\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n}\n\n/**\n* A lookup table representing the cost associated from traveling from one\n* node to every other node in the navgiation mesh's graph.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass CostTable {\n\n\t/**\n\t* Creates a new cost table.\n\t*/\n\tconstructor() {\n\n\t\tthis._nodeMap = new Map();\n\n\t}\n\n\t/**\n\t* Inits the cost table for the given navigation mesh.\n\t*\n\t* @param {NavMesh} navMesh - The navigation mesh.\n\t* @return {CostTable} A reference to this cost table.\n\t*/\n\tinit( navMesh ) {\n\n\t\tconst graph = navMesh.graph;\n\t\tconst nodes = new Array();\n\n\t\tthis.clear();\n\n\t\t// iterate over all nodes\n\n\t\tgraph.getNodes( nodes );\n\n\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\tconst from = nodes[ i ];\n\n\t\t\t// compute the distance to all other nodes\n\n\t\t\tfor ( let j = 0, jl = nodes.length; j < jl; j ++ ) {\n\n\t\t\t\tconst to = nodes[ j ];\n\n\t\t\t\tconst path = navMesh.findPath( from.position, to.position );\n\t\t\t\tconst cost = computeDistanceOfPath( path );\n\n\t\t\t\tthis.set( from.index, to.index, cost );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the cost table.\n\t*\n\t* @return {CostTable} A reference to this cost table.\n\t*/\n\tclear() {\n\n\t\tthis._nodeMap.clear();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Sets the cost for the given pair of navigation nodes.\n\t*\n\t* @param {Number} from - The start node index.\n\t* @param {Number} to - The destintation node index.\n\t* @param {Number} cost - The cost.\n\t* @return {CostTable} A reference to this cost table.\n\t*/\n\tset( from, to, cost ) {\n\n\t\tconst nodeMap = this._nodeMap;\n\n\t\tif ( nodeMap.has( from ) === false ) nodeMap.set( from, new Map() );\n\n\t\tconst nodeCostMap = nodeMap.get( from );\n\n\t\tnodeCostMap.set( to, cost );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the cost for the given pair of navigation nodes.\n\t*\n\t* @param {Number} from - The start node index.\n\t* @param {Number} to - The destintation node index.\n\t* @return {Number} The cost.\n\t*/\n\tget( from, to ) {\n\n\t\tconst nodeCostMap = this._nodeMap.get( from );\n\n\t\treturn nodeCostMap.get( to );\n\n\t}\n\n\t/**\n\t* Returns the size of the cost table (amount of entries).\n\t*\n\t* @return {Number} The size of the cost table.\n\t*/\n\tsize() {\n\n\t\treturn this._nodeMap.size;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\tnodes: new Array()\n\t\t};\n\n\t\tfor ( let [ key, value ] of this._nodeMap.entries() ) {\n\n\t\t\tjson.nodes.push( { index: key, costs: Array.from( value ) } );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {CostTable} A reference to this cost table.\n\t*/\n\tfromJSON( json ) {\n\n\t\tconst nodes = json.nodes;\n\n\t\tfor ( let i = 0, l = nodes.length; i < l; i ++ ) {\n\n\t\t\tconst node = nodes[ i ];\n\n\t\t\tconst index = node.index;\n\t\t\tconst costs = new Map( node.costs );\n\n\t\t\tthis._nodeMap.set( index, costs );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n//\n\nfunction computeDistanceOfPath( path ) {\n\n\tlet distance = 0;\n\n\tfor ( let i = 0, l = ( path.length - 1 ); i < l; i ++ ) {\n\n\t\tconst from = path[ i ];\n\t\tconst to = path[ i + 1 ];\n\n\t\tdistance += from.distanceTo( to );\n\n\t}\n\n\treturn distance;\n\n}\n\nconst pointOnLineSegment = new Vector3();\nconst edgeDirection = new Vector3();\nconst movementDirection = new Vector3();\nconst newPosition = new Vector3();\nconst lineSegment$1 = new LineSegment();\nconst edges = new Array();\nconst closestBorderEdge = {\n\tedge: null,\n\tclosestPoint: new Vector3()\n};\n\n/**\n* Implementation of a navigation mesh. A navigation mesh is a network of convex polygons\n* which define the walkable areas of a game environment. A convex polygon allows unobstructed travel\n* from any point in the polygon to any other. This is useful because it enables the navigation mesh\n* to be represented using a graph where each node represents a convex polygon and their respective edges\n* represent the neighborly relations to other polygons. More compact navigation graphs lead\n* to faster graph search execution.\n*\n* This particular implementation is able to merge convex polygons into bigger ones as long\n* as they keep their convexity and coplanarity. The performance of the path finding process and convex region tests\n* for complex navigation meshes can be improved by using a spatial index like {@link CellSpacePartitioning}.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass NavMesh {\n\n\t/**\n\t* Constructs a new navigation mesh.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* The internal navigation graph of this navigation mesh representing neighboring polygons.\n\t\t* @type {Graph}\n\t\t*/\n\t\tthis.graph = new Graph();\n\t\tthis.graph.digraph = true;\n\n\t\t/**\n\t\t* The list of convex regions.\n\t\t* @type {Array<Polygon>}\n\t\t*/\n\t\tthis.regions = new Array();\n\n\t\t/**\n\t\t* A reference to a spatial index.\n\t\t* @type {?CellSpacePartitioning}\n\t\t* @default null\n\t\t*/\n\t\tthis.spatialIndex = null;\n\n\t\t/**\n\t\t* The tolerance value for the coplanar test.\n\t\t* @type {Number}\n\t\t* @default 1e-3\n\t\t*/\n\t\tthis.epsilonCoplanarTest = 1e-3;\n\n\t\t/**\n\t\t* The tolerance value for the containment test.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.epsilonContainsTest = 1;\n\n\t\t/**\n\t\t* Whether convex regions should be merged or not.\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t*/\n\t\tthis.mergeConvexRegions = true;\n\n\t\t//\n\n\t\tthis._borderEdges = new Array();\n\n\t}\n\n\t/**\n\t* Creates the navigation mesh from an array of convex polygons.\n\t*\n\t* @param {Array<Polygon>} polygons - An array of convex polygons.\n\t* @return {NavMesh} A reference to this navigation mesh.\n\t*/\n\tfromPolygons( polygons ) {\n\n\t\tthis.clear();\n\n\t\t//\n\n\t\tconst initialEdgeList = new Array();\n\t\tconst sortedEdgeList = new Array();\n\n\t\t// setup list with all edges\n\n\t\tfor ( let i = 0, l = polygons.length; i < l; i ++ ) {\n\n\t\t\tconst polygon = polygons[ i ];\n\n\t\t\tlet edge = polygon.edge;\n\n\t\t\tdo {\n\n\t\t\t\tinitialEdgeList.push( edge );\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== polygon.edge );\n\n\t\t\t//\n\n\t\t\tthis.regions.push( polygon );\n\n\t\t}\n\n\t\t// setup twin references and sorted list of edges\n\n\t\tfor ( let i = 0, il = initialEdgeList.length; i < il; i ++ ) {\n\n\t\t\tlet edge0 = initialEdgeList[ i ];\n\n\t\t\tif ( edge0.twin !== null ) continue;\n\n\t\t\tfor ( let j = i + 1, jl = initialEdgeList.length; j < jl; j ++ ) {\n\n\t\t\t\tlet edge1 = initialEdgeList[ j ];\n\n\t\t\t\tif ( edge0.tail().equals( edge1.head() ) && edge0.head().equals( edge1.tail() ) ) {\n\n\t\t\t\t\t// opponent edge found, set twin references\n\n\t\t\t\t\tedge0.linkOpponent( edge1 );\n\n\t\t\t\t\t// add edge to list\n\n\t\t\t\t\tconst cost = edge0.squaredLength();\n\n\t\t\t\t\tsortedEdgeList.push( {\n\t\t\t\t\t\tcost: cost,\n\t\t\t\t\t\tedge: edge0\n\t\t\t\t\t} );\n\n\t\t\t\t\t// there can only be a single twin\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tsortedEdgeList.sort( descending );\n\n\t\t// half-edge data structure is now complete, begin build of convex regions\n\n\t\tthis._buildRegions( sortedEdgeList );\n\n\t\t// now build the navigation graph\n\n\t\tthis._buildGraph();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Clears the internal state of this navigation mesh.\n\t*\n\t* @return {NavMesh} A reference to this navigation mesh.\n\t*/\n\tclear() {\n\n\t\tthis.graph.clear();\n\t\tthis.regions.length = 0;\n\t\tthis.spatialIndex = null;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns the closest convex region for the given point in 3D space.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @return {Polygon} The closest convex region.\n\t*/\n\tgetClosestRegion( point ) {\n\n\t\tconst regions = this.regions;\n\t\tlet closesRegion = null;\n\t\tlet minDistance = Infinity;\n\n\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\tconst region = regions[ i ];\n\n\t\t\tconst distance = point.squaredDistanceTo( region.centroid );\n\n\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\tminDistance = distance;\n\n\t\t\t\tclosesRegion = region;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn closesRegion;\n\n\t}\n\n\t/**\n\t* Returns at random a convex region from the navigation mesh.\n\t*\n\t* @return {Polygon} The convex region.\n\t*/\n\tgetRandomRegion() {\n\n\t\tconst regions = this.regions;\n\n\t\tlet index = Math.floor( Math.random() * ( regions.length ) );\n\n\t\tif ( index === regions.length ) index = regions.length - 1;\n\n\t\treturn regions[ index ];\n\n\t}\n\n\t/**\n\t* Returns the region that contains the given point. The computational overhead\n\t* of this method for complex navigation meshes can be reduced by using a spatial index.\n\t* If no convex region contains the point, *null* is returned.\n\t*\n\t* @param {Vector3} point - A point in 3D space.\n\t* @param {Number} epsilon - Tolerance value for the containment test.\n\t* @return {Polygon} The convex region that contains the point.\n\t*/\n\tgetRegionForPoint( point, epsilon = 1e-3 ) {\n\n\t\tlet regions;\n\n\t\tif ( this.spatialIndex !== null ) {\n\n\t\t\tconst index = this.spatialIndex.getIndexForPosition( point );\n\t\t\tregions = this.spatialIndex.cells[ index ].entries;\n\n\t\t} else {\n\n\t\t\tregions = this.regions;\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\tconst region = regions[ i ];\n\n\t\t\tif ( region.contains( point, epsilon ) === true ) {\n\n\t\t\t\treturn region;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t* Returns the node index for the given region. The index represents\n\t* the navigation node of a region in the navigation graph.\n\t*\n\t* @param {Polygon} region - The convex region.\n\t* @return {Number} The respective node index.\n\t*/\n\tgetNodeIndex( region ) {\n\n\t\treturn this.regions.indexOf( region );\n\n\t}\n\n\t/**\n\t* Returns the shortest path that leads from the given start position to the end position.\n\t* The computational overhead of this method for complex navigation meshes can greatly\n\t* reduced by using a spatial index.\n\t*\n\t* @param {Vector3} from - The start/source position.\n\t* @param {Vector3} to - The end/destination position.\n\t* @return {Array<Vector3>} The shortest path as an array of points.\n\t*/\n\tfindPath( from, to ) {\n\n\t\tconst graph = this.graph;\n\t\tconst path = new Array();\n\n\t\tlet fromRegion = this.getRegionForPoint( from, this.epsilonContainsTest );\n\t\tlet toRegion = this.getRegionForPoint( to, this.epsilonContainsTest );\n\n\t\tif ( fromRegion === null || toRegion === null ) {\n\n\t\t\t// if source or target are outside the navmesh, choose the nearest convex region\n\n\t\t\tif ( fromRegion === null ) fromRegion = this.getClosestRegion( from );\n\t\t\tif ( toRegion === null ) toRegion = this.getClosestRegion( to );\n\n\t\t}\n\n\t\t// check if both convex region are identical\n\n\t\tif ( fromRegion === toRegion ) {\n\n\t\t\t// no search necessary, directly create the path\n\n\t\t\tpath.push( new Vector3().copy( from ) );\n\t\t\tpath.push( new Vector3().copy( to ) );\n\t\t\treturn path;\n\n\t\t} else {\n\n\t\t\t// source and target are not in same region, perform search\n\n\t\t\tconst source = this.getNodeIndex( fromRegion );\n\t\t\tconst target = this.getNodeIndex( toRegion );\n\n\t\t\tconst astar = new AStar( graph, source, target );\n\t\t\tastar.search();\n\n\t\t\tif ( astar.found === true ) {\n\n\t\t\t\tconst polygonPath = astar.getPath();\n\n\t\t\t\tconst corridor = new Corridor();\n\t\t\t\tcorridor.push( from, from );\n\n\t\t\t\t// push sequence of portal edges to corridor\n\n\t\t\t\tconst portalEdge = { left: null, right: null };\n\n\t\t\t\tfor ( let i = 0, l = ( polygonPath.length - 1 ); i < l; i ++ ) {\n\n\t\t\t\t\tconst region = this.regions[ polygonPath[ i ] ];\n\t\t\t\t\tconst nextRegion = this.regions[ polygonPath[ i + 1 ] ];\n\n\t\t\t\t\tthis._getPortalEdge( region, nextRegion, portalEdge );\n\n\t\t\t\t\tcorridor.push( portalEdge.left, portalEdge.right );\n\n\t\t\t\t}\n\n\t\t\t\tcorridor.push( to, to );\n\n\t\t\t\tpath.push( ...corridor.generate() );\n\n\t\t\t}\n\n\t\t\treturn path;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* This method can be used to restrict the movement of a game entity on the navigation mesh.\n\t* Instead of preventing any form of translation when a game entity hits a border edge, the\n\t* movement is clamped along the contour of the navigation mesh. The computational overhead\n\t* of this method for complex navigation meshes can be reduced by using a spatial index.\n\t*\n\t* @param {Polygon} currentRegion - The current convex region of the game entity.\n\t* @param {Vector3} startPosition - The original start position of the entity for the current simulation step.\n\t* @param {Vector3} endPosition - The original end position of the entity for the current simulation step.\n\t* @param {Vector3} clampPosition - The clamped position of the entity for the current simulation step.\n\t* @return {Polygon} The new convex region the game entity is in.\n\t*/\n\tclampMovement( currentRegion, startPosition, endPosition, clampPosition ) {\n\n\t\tlet newRegion = this.getRegionForPoint( endPosition, this.epsilonContainsTest );\n\n\t\t// if newRegion is null, \"endPosition\" lies outside of the navMesh\n\n\t\tif ( newRegion === null ) {\n\n\t\t\tif ( currentRegion === null ) throw new Error( 'YUKA.NavMesh.clampMovement(): No current region available.' );\n\n\t\t\t// determine closest border edge\n\n\t\t\tthis._getClosestBorderEdge( startPosition, closestBorderEdge );\n\n\t\t\tconst closestEdge = closestBorderEdge.edge;\n\t\t\tconst closestPoint = closestBorderEdge.closestPoint;\n\n\t\t\t// calculate movement and edge direction\n\n\t\t\tclosestEdge.getDirection( edgeDirection );\n\t\t\tconst length = movementDirection.subVectors( endPosition, startPosition ).length();\n\n\t\t\t// this value influences the speed at which the entity moves along the edge\n\n\t\t\tlet f = 0;\n\n\t\t\t// if startPosition and endPosition are equal, length becomes zero.\n\t\t\t// it's important to test this edge case in order to avoid NaN values.\n\n\t\t\tif ( length !== 0 ) {\n\n\t\t\t\tmovementDirection.divideScalar( length );\n\n\t\t\t\tf = edgeDirection.dot( movementDirection );\n\n\t\t\t}\n\n\t\t\t// calculate new position on the edge\n\n\t\t\tnewPosition.copy( closestPoint ).add( edgeDirection.multiplyScalar( f * length ) );\n\n\t\t\t// the following value \"t\" tells us if the point exceeds the line segment\n\n\t\t\tlineSegment$1.set( closestEdge.prev.vertex, closestEdge.vertex );\n\t\t\tconst t = lineSegment$1.closestPointToPointParameter( newPosition, false );\n\n\t\t\t//\n\n\t\t\tif ( t >= 0 && t <= 1 ) {\n\n\t\t\t\t// point is within line segment, we can safely use the new position\n\n\t\t\t\tclampPosition.copy( newPosition );\n\n\t\t\t} else {\n\n\t\t\t\t// check, if the new point lies outside the navMesh\n\n\t\t\t\tnewRegion = this.getRegionForPoint( newPosition, this.epsilonContainsTest );\n\n\t\t\t\tif ( newRegion !== null ) {\n\n\t\t\t\t\t// if not, everything is fine\n\n\t\t\t\t\tclampPosition.copy( newPosition );\n\t\t\t\t\treturn newRegion;\n\n\t\t\t\t}\n\n\t\t\t\t// otherwise prevent movement\n\n\t\t\t\tclampPosition.copy( startPosition );\n\n\t\t\t}\n\n\t\t\treturn currentRegion;\n\n\t\t} else {\n\n\t\t\t// return the new region\n\n\t\t\treturn newRegion;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Updates the spatial index by assigning all convex regions to the\n\t* partitions of the spatial index.\n\t*\n\t* @return {NavMesh} A reference to this navigation mesh.\n\t*/\n\tupdateSpatialIndex() {\n\n\t\tif ( this.spatialIndex !== null ) {\n\n\t\t\tthis.spatialIndex.makeEmpty();\n\n\t\t\tconst regions = this.regions;\n\n\t\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\t\tconst region = regions[ i ];\n\n\t\t\t\tthis.spatialIndex.addPolygon( region );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_buildRegions( edgeList ) {\n\n\t\tconst regions = this.regions;\n\n\t\tconst cache = {\n\t\t\tleftPrev: null,\n\t\t\tleftNext: null,\n\t\t\trightPrev: null,\n\t\t\trightNext: null\n\t\t};\n\n\t\tif ( this.mergeConvexRegions === true ) {\n\n\t\t\t// process edges from longest to shortest\n\n\t\t\tfor ( let i = 0, l = edgeList.length; i < l; i ++ ) {\n\n\t\t\t\tconst entry = edgeList[ i ];\n\n\t\t\t\tlet candidate = entry.edge;\n\n\t\t\t\t// cache current references for possible restore\n\n\t\t\t\tcache.prev = candidate.prev;\n\t\t\t\tcache.next = candidate.next;\n\t\t\t\tcache.prevTwin = candidate.twin.prev;\n\t\t\t\tcache.nextTwin = candidate.twin.next;\n\n\t\t\t\t// temporarily change the first polygon in order to represent both polygons\n\n\t\t\t\tcandidate.prev.next = candidate.twin.next;\n\t\t\t\tcandidate.next.prev = candidate.twin.prev;\n\t\t\t\tcandidate.twin.prev.next = candidate.next;\n\t\t\t\tcandidate.twin.next.prev = candidate.prev;\n\n\t\t\t\tconst polygon = candidate.polygon;\n\t\t\t\tpolygon.edge = candidate.prev;\n\n\t\t\t\tif ( polygon.convex() === true && polygon.coplanar( this.epsilonCoplanarTest ) === true ) {\n\n\t\t\t\t\t// correct polygon reference of all edges\n\n\t\t\t\t\tlet edge = polygon.edge;\n\n\t\t\t\t\tdo {\n\n\t\t\t\t\t\tedge.polygon = polygon;\n\n\t\t\t\t\t\tedge = edge.next;\n\n\t\t\t\t\t} while ( edge !== polygon.edge );\n\n\t\t\t\t\t// delete obsolete polygon\n\n\t\t\t\t\tconst index = regions.indexOf( entry.edge.twin.polygon );\n\t\t\t\t\tregions.splice( index, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// restore\n\n\t\t\t\t\tcache.prev.next = candidate;\n\t\t\t\t\tcache.next.prev = candidate;\n\t\t\t\t\tcache.prevTwin.next = candidate.twin;\n\t\t\t\t\tcache.nextTwin.prev = candidate.twin;\n\n\t\t\t\t\tpolygon.edge = candidate;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// after the merging of convex regions, do some post-processing\n\n\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\tconst region = regions[ i ];\n\n\t\t\t// compute the centroid of the region which can be used as\n\t\t\t// a destination point in context of path finding\n\n\t\t\tregion.computeCentroid();\n\n\t\t\t// gather all border edges used by clampMovement()\n\n\t\t\tlet edge = region.edge;\n\n\t\t\tdo {\n\n\t\t\t\tif ( edge.twin === null ) this._borderEdges.push( edge );\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== region.edge );\n\n\t\t}\n\n\t}\n\n\t_buildGraph() {\n\n\t\tconst graph = this.graph;\n\t\tconst regions = this.regions;\n\n\t\t// for each region, the code creates an array of directly accessible regions\n\n\t\tconst regionNeighbourhood = new Array();\n\n\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\tconst region = regions[ i ];\n\n\t\t\tconst nodeIndices = new Array();\n\t\t\tregionNeighbourhood.push( nodeIndices );\n\n\t\t\tlet edge = region.edge;\n\n\t\t\t// iterate through all egdes of the region (in other words: along its contour)\n\n\t\t\tdo {\n\n\t\t\t\t// check for a portal edge\n\n\t\t\t\tif ( edge.twin !== null ) {\n\n\t\t\t\t\tconst nodeIndex = this.getNodeIndex( edge.twin.polygon );\n\n\t\t\t\t\tnodeIndices.push( nodeIndex ); // the node index of the adjacent region\n\n\t\t\t\t\t// add node for this region to the graph if necessary\n\n\t\t\t\t\tif ( graph.hasNode( this.getNodeIndex( edge.polygon ) ) === false ) {\n\n\t\t\t\t\t\tconst node = new NavNode( this.getNodeIndex( edge.polygon ), edge.polygon.centroid );\n\n\t\t\t\t\t\tgraph.addNode( node );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== region.edge );\n\n\t\t}\n\n\t\t// add navigation edges\n\n\t\tfor ( let i = 0, il = regionNeighbourhood.length; i < il; i ++ ) {\n\n\t\t\tconst indices = regionNeighbourhood[ i ];\n\t\t\tconst from = i;\n\n\t\t\tfor ( let j = 0, jl = indices.length; j < jl; j ++ ) {\n\n\t\t\t\tconst to = indices[ j ];\n\n\t\t\t\tif ( from !== to ) {\n\n\t\t\t\t\tif ( graph.hasEdge( from, to ) === false ) {\n\n\t\t\t\t\t\tconst nodeFrom = graph.getNode( from );\n\t\t\t\t\t\tconst nodeTo = graph.getNode( to );\n\n\t\t\t\t\t\tconst cost = nodeFrom.position.distanceTo( nodeTo.position );\n\n\t\t\t\t\t\tgraph.addEdge( new NavEdge( from, to, cost ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_getClosestBorderEdge( point, closestBorderEdge ) {\n\n\t\tlet borderEdges;\n\t\tlet minDistance = Infinity;\n\n\t\tif ( this.spatialIndex !== null ) {\n\n\t\t\tedges.length = 0;\n\n\t\t\tconst index = this.spatialIndex.getIndexForPosition( point );\n\t\t\tconst regions = this.spatialIndex.cells[ index ].entries;\n\n\t\t\tfor ( let i = 0, l = regions.length; i < l; i ++ ) {\n\n\t\t\t\tconst region = regions[ i ];\n\n\t\t\t\tlet edge = region.edge;\n\n\t\t\t\tdo {\n\n\t\t\t\t\tif ( edge.twin === null ) edges.push( edge );\n\n\t\t\t\t\tedge = edge.next;\n\n\t\t\t\t} while ( edge !== region.edge );\n\n\t\t\t}\n\n\t\t\t// use only border edges from adjacent convex regions (fast)\n\n\t\t\tborderEdges = edges;\n\n\t\t} else {\n\n\t\t\t// use all border edges (slow)\n\n\t\t\tborderEdges = this._borderEdges;\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( let i = 0, l = borderEdges.length; i < l; i ++ ) {\n\n\t\t\tconst edge = borderEdges[ i ];\n\n\t\t\tlineSegment$1.set( edge.prev.vertex, edge.vertex );\n\t\t\tconst t = lineSegment$1.closestPointToPointParameter( point );\n\t\t\tlineSegment$1.at( t, pointOnLineSegment );\n\n\t\t\tconst distance = pointOnLineSegment.squaredDistanceTo( point );\n\n\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\tminDistance = distance;\n\n\t\t\t\tclosestBorderEdge.edge = edge;\n\t\t\t\tclosestBorderEdge.closestPoint.copy( pointOnLineSegment );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Determines the portal edge that can be used to reach the given polygon over its twin reference.\n\n\t_getPortalEdge( region1, region2, portalEdge ) {\n\n\t\tlet edge = region1.edge;\n\n\t\tdo {\n\n\t\t\tif ( edge.twin !== null ) {\n\n\t\t\t\tif ( edge.twin.polygon === region2 ) {\n\n\t\t\t\t\t// the direction of portal edges are reversed. so \"left\" is the edge's origin vertex and \"right\"\n\t\t\t\t\t// is the destintation vertex. More details in issue #5\n\n\t\t\t\t\tportalEdge.left = edge.prev.vertex;\n\t\t\t\t\tportalEdge.right = edge.vertex;\n\t\t\t\t\treturn portalEdge;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== region1.edge );\n\n\t\tportalEdge.left = null;\n\t\tportalEdge.right = null;\n\n\t\treturn portalEdge;\n\n\t}\n\n}\n\n//\n\nfunction descending( a, b ) {\n\n\treturn ( a.cost < b.cost ) ? 1 : ( a.cost > b.cost ) ? - 1 : 0;\n\n}\n\n/**\n* Class for loading navigation meshes as glTF assets. The loader supports\n* *glTF* and *glb* files, embedded buffers, index and non-indexed geometries.\n* Interleaved geometry data are not yet supported.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass NavMeshLoader {\n\n\t/**\n\t* Loads a {@link NavMesh navigation mesh} from the given URL. The second parameter can be used\n\t* to influence the parsing of the navigation mesh.\n\t*\n\t* @param {String} url - The URL of the glTF asset.\n\t* @param {Object} options - The (optional) configuration object.\n\t* @return {Promise} A promise representing the loading and parsing process.\n\t*/\n\tload( url, options ) {\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tfetch( url )\n\n\t\t\t\t.then( response => {\n\n\t\t\t\t\tif ( response.status >= 200 && response.status < 300 ) {\n\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst error = new Error( response.statusText || response.status );\n\t\t\t\t\t\terror.response = response;\n\t\t\t\t\t\treturn Promise.reject( error );\n\n\t\t\t\t\t}\n\n\t\t\t\t} )\n\n\t\t\t\t.then( ( arrayBuffer ) => {\n\n\t\t\t\t\treturn this.parse( arrayBuffer, url, options );\n\n\t\t\t\t} )\n\n\t\t\t\t.then( ( data ) => {\n\n\t\t\t\t\tresolve( data );\n\n\t\t\t\t} )\n\n\t\t\t\t.catch( ( error ) => {\n\n\t\t\t\t\tLogger.error( 'YUKA.NavMeshLoader: Unable to load navigation mesh.', error );\n\n\t\t\t\t\treject( error );\n\n\t\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t* Use this method if you are loading the contents of a navmesh not via {@link NavMeshLoader#load}.\n\t* This is for example useful in a node environment.\n\t*\n\t* It's mandatory to use glb files with embedded buffer data if you are going to load nav meshes\n\t* in node.js.\n\t*\n\t* @param {ArrayBuffer} arrayBuffer - The array buffer.\n\t* @param {String} url - The (optional) URL.\n\t* @param {Object} options - The (optional) configuration object.\n\t* @return {Promise} A promise representing the parsing process.\n\t*/\n\tparse( arrayBuffer, url, options ) {\n\n\t\tconst parser = new Parser();\n\t\tconst decoder = new TextDecoder();\n\t\tlet data;\n\n\t\tconst magic = decoder.decode( new Uint8Array( arrayBuffer, 0, 4 ) );\n\n\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tparser.parseBinary( arrayBuffer );\n\n\t\t\tdata = parser.extensions.get( 'BINARY' ).content;\n\n\t\t} else {\n\n\t\t\tdata = decoder.decode( new Uint8Array( arrayBuffer ) );\n\n\t\t}\n\n\t\tconst json = JSON.parse( data );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tthrow new Error( 'YUKA.NavMeshLoader: Unsupported asset version.' );\n\n\t\t} else {\n\n\t\t\tconst path = extractUrlBase( url );\n\n\t\t\treturn parser.parse( json, path, options );\n\n\t\t}\n\n\t}\n\n}\n\nclass Parser {\n\n\tconstructor() {\n\n\t\tthis.json = null;\n\t\tthis.path = null;\n\t\tthis.cache = new Map();\n\t\tthis.extensions = new Map();\n\n\t}\n\n\tparse( json, path, options ) {\n\n\t\tthis.json = json;\n\t\tthis.path = path;\n\n\t\t// read the first mesh in the glTF file\n\n\t\treturn this.getDependency( 'mesh', 0 ).then( ( data ) => {\n\n\t\t\t// parse the raw geometry data into a bunch of polygons\n\n\t\t\tconst polygons = this.parseGeometry( data );\n\n\t\t\t// create and config navMesh\n\n\t\t\tconst navMesh = new NavMesh();\n\n\t\t\tif ( options ) {\n\n\t\t\t\tif ( options.epsilonCoplanarTest !== undefined ) navMesh.epsilonCoplanarTest = options.epsilonCoplanarTest;\n\t\t\t\tif ( options.mergeConvexRegions !== undefined ) navMesh.mergeConvexRegions = options.mergeConvexRegions;\n\n\t\t\t}\n\n\t\t\t// use polygons to setup the nav mesh\n\n\t\t\treturn navMesh.fromPolygons( polygons );\n\n\t\t} );\n\n\t}\n\n\tparseGeometry( data ) {\n\n\t\tconst index = data.index;\n\t\tconst position = data.position;\n\n\t\tconst vertices = new Array();\n\t\tconst polygons = new Array();\n\n\t\t// vertices\n\n\t\tfor ( let i = 0, l = position.length; i < l; i += 3 ) {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\tv.x = position[ i + 0 ];\n\t\t\tv.y = position[ i + 1 ];\n\t\t\tv.z = position[ i + 2 ];\n\n\t\t\tvertices.push( v );\n\n\t\t}\n\n\t\t// polygons\n\n\t\tif ( index ) {\n\n\t\t\t// indexed geometry\n\n\t\t\tfor ( let i = 0, l = index.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = index[ i + 0 ];\n\t\t\t\tconst b = index[ i + 1 ];\n\t\t\t\tconst c = index[ i + 2 ];\n\n\t\t\t\tconst contour = [ vertices[ a ], vertices[ b ], vertices[ c ] ];\n\n\t\t\t\tconst polygon = new Polygon().fromContour( contour );\n\n\t\t\t\tpolygons.push( polygon );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed geometry //todo test\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 3 ) {\n\n\t\t\t\tconst contour = [ vertices[ i + 0 ], vertices[ i + 1 ], vertices[ i + 2 ] ];\n\n\t\t\t\tconst polygon = new Polygon().fromContour( contour );\n\n\t\t\t\tpolygons.push( polygon );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn polygons;\n\n\t}\n\n\tgetDependencies( type ) {\n\n\t\tconst cache = this.cache;\n\n\t\tlet dependencies = cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst definitions = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || new Array();\n\n\t\t\tdependencies = Promise.all( definitions.map( ( definition, index ) => {\n\n\t\t\t\treturn this.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tcache.set( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\tgetDependency( type, index ) {\n\n\t\tconst cache = this.cache;\n\t\tconst key = type + ':' + index;\n\n\t\tlet dependency = cache.get( key );\n\n\t\tif ( dependency === undefined ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this.loadBufferView( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this.loadMesh( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tcache.set( key, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\tloadBuffer( index ) {\n\n\t\tconst json = this.json;\n\t\tconst definition = json.buffers[ index ];\n\n\t\tif ( definition.uri === undefined && index === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions.get( 'BINARY' ).body );\n\n\t\t}\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tconst url = resolveURI( definition.uri, this.path );\n\n\t\t\tfetch( url )\n\n\t\t\t\t.then( response => {\n\n\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t} )\n\n\t\t\t\t.then( ( arrayBuffer ) => {\n\n\t\t\t\t\tresolve( arrayBuffer );\n\n\t\t\t\t} ).catch( ( error ) => {\n\n\t\t\t\t\tLogger.error( 'YUKA.NavMeshLoader: Unable to load buffer.', error );\n\n\t\t\t\t\treject( error );\n\n\t\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.json;\n\n\t\tconst definition = json.bufferViews[ index ];\n\n\t\treturn this.getDependency( 'buffer', definition.buffer ).then( ( buffer ) => {\n\n\t\t\tconst byteLength = definition.byteLength || 0;\n\t\t\tconst byteOffset = definition.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\tloadAccessor( index ) {\n\n\t\tconst json = this.json;\n\t\tconst definition = json.accessors[ index ];\n\n\t\treturn this.getDependency( 'bufferView', definition.bufferView ).then( ( bufferView ) => {\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ definition.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ definition.componentType ];\n\t\t\tconst byteOffset = definition.byteOffset || 0;\n\n\t\t\treturn new TypedArray( bufferView, byteOffset, definition.count * itemSize );\n\n\t\t} );\n\n\t}\n\n\tloadMesh( index ) {\n\n\t\tconst json = this.json;\n\t\tconst definition = json.meshes[ index ];\n\n\t\treturn this.getDependencies( 'accessor' ).then( ( accessors ) => {\n\n\t\t\t// assuming a single primitive\n\n\t\t\tconst primitive = definition.primitives[ 0 ];\n\n\t\t\tif ( primitive.mode !== undefined && primitive.mode !== 4 ) {\n\n\t\t\t\tthrow new Error( 'YUKA.NavMeshLoader: Invalid geometry format. Please ensure to represent your geometry as triangles.' );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tindex: accessors[ primitive.indices ],\n\t\t\t\tposition: accessors[ primitive.attributes.POSITION ],\n\t\t\t\tnormal: accessors[ primitive.attributes.NORMAL ]\n\t\t\t};\n\n\t\t} );\n\n\t}\n\n\tparseBinary( data ) {\n\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\tconst decoder = new TextDecoder();\n\t\tlet content = null;\n\t\tlet body = null;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tcontent = decoder.decode( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tbody = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tthis.extensions.set( 'BINARY', { content: content, body: body } );\n\n\t}\n\n}\n\n// helper functions\n\nfunction extractUrlBase( url = '' ) {\n\n\tconst index = url.lastIndexOf( '/' );\n\n\tif ( index === - 1 ) return './';\n\n\treturn url.substr( 0, index + 1 );\n\n}\n\nfunction resolveURI( uri, path ) {\n\n\tif ( typeof uri !== 'string' || uri === '' ) return '';\n\n\tif ( /^(https?:)?\\/\\//i.test( uri ) ) return uri;\n\n\tif ( /^data:.*,.*$/i.test( uri ) ) return uri;\n\n\tif ( /^blob:.*$/i.test( uri ) ) return uri;\n\n\treturn path + uri;\n\n}\n\n//\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n/**\n* Class for representing a single partition in context of cell-space partitioning.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass Cell {\n\n\t/**\n\t* Constructs a new cell with the given values.\n\t*\n\t* @param {AABB} aabb - The bounding volume of the cell.\n\t*/\n\tconstructor( aabb = new AABB() ) {\n\n\t\t/**\n\t\t* The bounding volume of the cell.\n\t\t* @type {AABB}\n\t\t*/\n\t\tthis.aabb = aabb;\n\n\t\t/**\n\t\t* The list of entries which belong to this cell.\n\t\t* @type {Array<Any>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.entries = new Array();\n\n\t}\n\n\t/**\n\t* Adds an entry to this cell.\n\t*\n\t* @param {Any} entry - The entry to add.\n\t* @return {Cell} A reference to this cell.\n\t*/\n\tadd( entry ) {\n\n\t\tthis.entries.push( entry );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes an entry from this cell.\n\t*\n\t* @param {Any} entry - The entry to remove.\n\t* @return {Cell} A reference to this cell.\n\t*/\n\tremove( entry ) {\n\n\t\tconst index = this.entries.indexOf( entry );\n\t\tthis.entries.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes all entries from this cell.\n\t*\n\t* @return {Cell} A reference to this cell.\n\t*/\n\tmakeEmpty() {\n\n\t\tthis.entries.length = 0;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if this cell is empty.\n\t*\n\t* @return {Boolean} Whether this cell is empty or not.\n\t*/\n\tempty() {\n\n\t\treturn this.entries.length === 0;\n\n\t}\n\n\t/**\n\t* Returns true if the given AABB intersects the internal bounding volume of this cell.\n\t*\n\t* @param {AABB} aabb - The AABB to test.\n\t* @return {Boolean} Whether this cell intersects with the given AABB or not.\n\t*/\n\tintersects( aabb ) {\n\n\t\treturn this.aabb.intersectsAABB( aabb );\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\taabb: this.aabb.toJSON(),\n\t\t\tentries: new Array()\n\t\t};\n\n\t\tconst entries = this.entries;\n\n\t\tfor ( let i = 0, l = entries.length; i < l; i ++ ) {\n\n\t\t\tjson.entries.push( entries[ i ].uuid );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {Cell} A reference to this game entity.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.aabb.fromJSON( json.aabb );\n\t\tthis.entries = json.entries.slice();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {Cell} A reference to this cell.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tconst entries = this.entries;\n\n\t\tfor ( let i = 0, l = entries.length; i < l; i ++ ) {\n\n\t\t\tentries[ i ] = entities.get( entries[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst clampedPosition = new Vector3();\nconst aabb = new AABB();\nconst contour = new Array();\n\n/**\n* This class is used for cell-space partitioning, a basic approach for implementing\n* a spatial index. The 3D space is divided up into a number of cells. A cell contains a\n* list of references to all the entities it contains. Compared to other spatial indices like\n* octrees, the division of the 3D space is coarse and often not balanced but the computational\n* overhead for calculating the index of a specific cell based on a position vector is very fast.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass CellSpacePartitioning {\n\n\t/**\n\t* Constructs a new spatial index with the given values.\n\t*\n\t* @param {Number} width - The width of the entire spatial index.\n\t* @param {Number} height - The height of the entire spatial index.\n\t* @param {Number} depth - The depth of the entire spatial index.\n\t* @param {Number} cellsX - The amount of cells along the x-axis.\n\t* @param {Number} cellsY - The amount of cells along the y-axis.\n\t* @param {Number} cellsZ - The amount of cells along the z-axis.\n\t*/\n\tconstructor( width, height, depth, cellsX, cellsY, cellsZ ) {\n\n\t\t/**\n\t\t* The list of partitions.\n\t\t* @type {Array<Cell>}\n\t\t*/\n\t\tthis.cells = new Array();\n\n\t\t/**\n\t\t* The width of the entire spatial index.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.width = width;\n\n\t\t/**\n\t\t* The height of the entire spatial index.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.height = height;\n\n\t\t/**\n\t\t* The depth of the entire spatial index.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.depth = depth;\n\n\t\t/**\n\t\t* The amount of cells along the x-axis.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.cellsX = cellsX;\n\n\t\t/**\n\t\t* The amount of cells along the y-axis.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.cellsY = cellsY;\n\n\t\t/**\n\t\t* The amount of cells along the z-axis.\n\t\t* @type {Number}\n\t\t*/\n\t\tthis.cellsZ = cellsZ;\n\n\t\tthis._halfWidth = this.width / 2;\n\t\tthis._halfHeight = this.height / 2;\n\t\tthis._halfDepth = this.depth / 2;\n\n\t\tthis._min = new Vector3( - this._halfWidth, - this._halfHeight, - this._halfDepth );\n\t\tthis._max = new Vector3( this._halfWidth, this._halfHeight, this._halfDepth );\n\n\t\t//\n\n\t\tconst cellSizeX = this.width / this.cellsX;\n\t\tconst cellSizeY = this.height / this.cellsY;\n\t\tconst cellSizeZ = this.depth / this.cellsZ;\n\n\t\tfor ( let i = 0; i < this.cellsX; i ++ ) {\n\n\t\t\tconst x = ( i * cellSizeX ) - this._halfWidth;\n\n\t\t\tfor ( let j = 0; j < this.cellsY; j ++ ) {\n\n\t\t\t\tconst y = ( j * cellSizeY ) - this._halfHeight;\n\n\t\t\t\tfor ( let k = 0; k < this.cellsZ; k ++ ) {\n\n\t\t\t\t\tconst z = ( k * cellSizeZ ) - this._halfDepth;\n\n\t\t\t\t\tconst min = new Vector3();\n\t\t\t\t\tconst max = new Vector3();\n\n\t\t\t\t\tmin.set( x, y, z );\n\n\t\t\t\t\tmax.x = min.x + cellSizeX;\n\t\t\t\t\tmax.y = min.y + cellSizeY;\n\t\t\t\t\tmax.z = min.z + cellSizeZ;\n\n\t\t\t\t\tconst aabb = new AABB( min, max );\n\t\t\t\t\tconst cell = new Cell( aabb );\n\n\t\t\t\t\tthis.cells.push( cell );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Updates the partitioning index of a given game entity.\n\t*\n\t* @param {GameEntity} entity - The entity to update.\n\t* @param {Number} currentIndex - The current partition index of the entity.\n\t* @return {Number} The new partitioning index for the given game entity.\n\t*/\n\tupdateEntity( entity, currentIndex = - 1 ) {\n\n\t\tconst newIndex = this.getIndexForPosition( entity.position );\n\n\t\tif ( currentIndex !== newIndex ) {\n\n\t\t\tthis.addEntityToPartition( entity, newIndex );\n\n\t\t\tif ( currentIndex !== - 1 ) {\n\n\t\t\t\tthis.removeEntityFromPartition( entity, currentIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn newIndex;\n\n\t}\n\n\t/**\n\t* Adds an entity to a specific partition.\n\t*\n\t* @param {GameEntity} entity - The entity to add.\n\t* @param {Number} index - The partition index.\n\t* @return {CellSpacePartitioning} A reference to this spatial index.\n\t*/\n\taddEntityToPartition( entity, index ) {\n\n\t\tconst cell = this.cells[ index ];\n\t\tcell.add( entity );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Removes an entity from a specific partition.\n\t*\n\t* @param {GameEntity} entity - The entity to remove.\n\t* @param {Number} index - The partition index.\n\t* @return {CellSpacePartitioning} A reference to this spatial index.\n\t*/\n\tremoveEntityFromPartition( entity, index ) {\n\n\t\tconst cell = this.cells[ index ];\n\t\tcell.remove( entity );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Computes the partition index for the given position vector.\n\t*\n\t* @param {Vector3} position - The given position.\n\t* @return {Number} The partition index.\n\t*/\n\tgetIndexForPosition( position ) {\n\n\t\tclampedPosition.copy( position ).clamp( this._min, this._max );\n\n\t\tlet indexX = Math.abs( Math.floor( ( this.cellsX * ( clampedPosition.x + this._halfWidth ) ) / this.width ) );\n\t\tlet indexY = Math.abs( Math.floor( ( this.cellsY * ( clampedPosition.y + this._halfHeight ) ) / this.height ) );\n\t\tlet indexZ = Math.abs( Math.floor( ( this.cellsZ * ( clampedPosition.z + this._halfDepth ) ) / this.depth ) );\n\n\t\t// handle index overflow\n\n\t\tif ( indexX === this.cellsX ) indexX = this.cellsX - 1;\n\t\tif ( indexY === this.cellsY ) indexY = this.cellsY - 1;\n\t\tif ( indexZ === this.cellsZ ) indexZ = this.cellsZ - 1;\n\n\t\t// calculate final index\n\n\t\treturn ( indexX * this.cellsY * this.cellsZ ) + ( indexY * this.cellsZ ) + indexZ;\n\n\t}\n\n\t/**\n\t* Performs a query to the spatial index according the the given position and\n\t* radius. The method approximates the query position and radius with an AABB and\n\t* then performs an intersection test with all non-empty cells in order to determine\n\t* relevant partitions. Stores the result in the given result array.\n\t*\n\t* @param {Vector3} position - The given query position.\n\t* @param {Number} radius - The given query radius.\n\t* @param {Array<Any>} result - The result array.\n\t* @return {Array<Any>} The result array.\n\t*/\n\tquery( position, radius, result ) {\n\n\t\tconst cells = this.cells;\n\n\t\tresult.length = 0;\n\n\t\t// approximate range with an AABB which allows fast intersection test\n\n\t\taabb.min.copy( position ).subScalar( radius );\n\t\taabb.max.copy( position ).addScalar( radius );\n\n\t\t// test all non-empty cells for an intersection\n\n\t\tfor ( let i = 0, l = cells.length; i < l; i ++ ) {\n\n\t\t\tconst cell = cells[ i ];\n\n\t\t\tif ( cell.empty() === false && cell.intersects( aabb ) === true ) {\n\n\t\t\t\tresult.push( ...cell.entries );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Removes all entities from all partitions.\n\t*\n\t* @return {CellSpacePartitioning} A reference to this spatial index.\n\t*/\n\tmakeEmpty() {\n\n\t\tconst cells = this.cells;\n\n\t\tfor ( let i = 0, l = cells.length; i < l; i ++ ) {\n\n\t\t\tcells[ i ].makeEmpty();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Adds a polygon to the spatial index. A polygon is approximated with an AABB.\n\t*\n\t* @param {Polygon} polygon - The polygon to add.\n\t* @return {CellSpacePartitioning} A reference to this spatial index.\n\t*/\n\taddPolygon( polygon ) {\n\n\t\tconst cells = this.cells;\n\n\t\tpolygon.getContour( contour );\n\n\t\taabb.fromPoints( contour );\n\n\t\tfor ( let i = 0, l = cells.length; i < l; i ++ ) {\n\n\t\t\tconst cell = cells[ i ];\n\n\t\t\tif ( cell.intersects( aabb ) === true ) {\n\n\t\t\t\tcell.add( polygon );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Transforms this instance into a JSON object.\n\t *\n\t * @return {Object} The JSON object.\n\t */\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\tcells: new Array(),\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth,\n\t\t\tcellsX: this.cellsX,\n\t\t\tcellsY: this.cellsY,\n\t\t\tcellsZ: this.cellsZ,\n\t\t\t_halfWidth: this._halfWidth,\n\t\t\t_halfHeight: this._halfHeight,\n\t\t\t_halfDepth: this._halfDepth,\n\t\t\t_min: this._min.toArray( new Array() ),\n\t\t\t_max: this._max.toArray( new Array() )\n\t\t};\n\n\t\tfor ( let i = 0, l = this.cells.length; i < l; i ++ ) {\n\n\t\t\tjson.cells.push( this.cells[ i ].toJSON() );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t * Restores this instance from the given JSON object.\n\t *\n\t * @param {Object} json - The JSON object.\n\t * @return {CellSpacePartitioning} A reference to this spatial index.\n\t */\n\tfromJSON( json ) {\n\n\t\tthis.cells.length = 0;\n\n\t\tthis.width = json.width;\n\t\tthis.height = json.height;\n\t\tthis.depth = json.depth;\n\t\tthis.cellsX = json.cellsX;\n\t\tthis.cellsY = json.cellsY;\n\t\tthis.cellsZ = json.cellsZ;\n\n\t\tthis._halfWidth = json._halfWidth;\n\t\tthis._halfHeight = json._halfHeight;\n\t\tthis._halfDepth = json._halfHeight;\n\n\t\tthis._min.fromArray( json._min );\n\t\tthis._max.fromArray( json._max );\n\n\t\tfor ( let i = 0, l = json.cells.length; i < l; i ++ ) {\n\n\t\t\tthis.cells.push( new Cell().fromJSON( json.cells[ i ] ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {CellSpacePartitioning} A reference to this cell space portioning.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tfor ( let i = 0, l = this.cells.length; i < l; i ++ ) {\n\n\t\t\tthis.cells[ i ].resolveReferences( entities );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing the memory information about a single game entity.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass MemoryRecord {\n\n\t/**\n\t* Constructs a new memory record.\n\t*\n\t* @param {GameEntity} entity - The game entity that is represented by this memory record.\n\t*/\n\tconstructor( entity = null ) {\n\n\t\t/**\n\t\t* The game entity that is represented by this memory record.\n\t\t* @type {?GameEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.entity = entity;\n\n\t\t/**\n\t\t* Records the time the entity became visible. Useful in combination with a reaction time\n\t\t* in order to prevent immediate actions.\n\t\t* @type {Number}\n\t\t* @default - Infinity\n\t\t*/\n\t\tthis.timeBecameVisible = - Infinity;\n\n\t\t/**\n\t\t* Records the time the entity was last sensed (e.g. seen or heard). Used to determine\n\t\t* if a game entity can \"remember\" this record or not.\n\t\t* @type {Number}\n\t\t* @default - Infinity\n\t\t*/\n\t\tthis.timeLastSensed = - Infinity;\n\n\t\t/**\n\t\t* Marks the position where the opponent was last sensed.\n\t\t* @type {Vector3}\n\t\t*/\n\t\tthis.lastSensedPosition = new Vector3();\n\n\t\t/**\n\t\t* Whether this game entity is visible or not.\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t*/\n\t\tthis.visible = false;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\treturn {\n\t\t\ttype: this.constructor.name,\n\t\t\tentity: this.entity.uuid,\n\t\t\ttimeBecameVisible: this.timeBecameVisible.toString(),\n\t\t\ttimeLastSensed: this.timeLastSensed.toString(),\n\t\t\tlastSensedPosition: this.lastSensedPosition.toArray( new Array() ),\n\t\t\tvisible: this.visible\n\t\t};\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {MemoryRecord} A reference to this memory record.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.entity = json.entity; // uuid\n\t\tthis.timeBecameVisible = parseFloat( json.timeBecameVisible );\n\t\tthis.timeLastSensed = parseFloat( json.timeLastSensed );\n\t\tthis.lastSensedPosition.fromArray( json.lastSensedPosition );\n\t\tthis.visible = json.visible;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {MemoryRecord} A reference to this memory record.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.entity = entities.get( this.entity ) || null;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Class for representing the memory system of a game entity. It is used for managing,\n* filtering, and remembering sensory input.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n*/\nclass MemorySystem {\n\n\t/**\n\t* Constructs a new memory system.\n\t*\n\t* @param {GameEntity} owner - The game entity that owns this memory system.\n\t*/\n\tconstructor( owner = null ) {\n\n\t\t/**\n\t\t* The game entity that owns this memory system.\n\t\t* @type {?GameEntity}\n\t\t* @default null\n\t\t*/\n\t\tthis.owner = owner;\n\n\t\t/**\n\t\t* Used to simulate memory of sensory events. It contains {@link MemoryRecord memory records}\n\t\t* of all relevant game entities in the environment. The records are usually update by\n\t\t* the owner of the memory system.\n\t\t* @type {Array<MemoryRecord>}\n\t\t*/\n\t\tthis.records = new Array();\n\n\t\t/**\n\t\t* Same as {@link MemorySystem#records} but used for fast access via the game entity.\n\t\t* @type {Map<GameEntity,MemoryRecord>}\n\t\t*/\n\t\tthis.recordsMap = new Map();\n\n\t\t/**\n\t\t* Represents the duration of the game entities short term memory in seconds.\n\t\t* When a bot requests a list of all recently sensed game entities, this value\n\t\t* is used to determine if the bot is able to remember a game entity or not.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.memorySpan = 1;\n\n\t}\n\n\t/**\n\t* Returns the memory record of the given game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity.\n\t* @return {MemoryRecord} The memory record for this game entity.\n\t*/\n\tgetRecord( entity ) {\n\n\t\treturn this.recordsMap.get( entity );\n\n\t}\n\n\t/**\n\t* Creates a memory record for the given game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity.\n\t* @return {MemorySystem} A reference to this memory system.\n\t*/\n\tcreateRecord( entity ) {\n\n\t\tconst record = new MemoryRecord( entity );\n\n\t\tthis.records.push( record );\n\t\tthis.recordsMap.set( entity, record );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Deletes the memory record for the given game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity.\n\t* @return {MemorySystem} A reference to this memory system.\n\t*/\n\tdeleteRecord( entity ) {\n\n\t\tconst record = this.getRecord( entity );\n\t\tconst index = this.records.indexOf( record );\n\n\t\tthis.records.splice( index, 1 );\n\t\tthis.recordsMap.delete( entity );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Returns true if there is a memory record for the given game entity.\n\t*\n\t* @param {GameEntity} entity - The game entity.\n\t* @return {Boolean} Whether the game entity has a memory record or not.\n\t*/\n\thasRecord( entity ) {\n\n\t\treturn this.recordsMap.has( entity );\n\n\t}\n\n\t/**\n\t* Removes all memory records from the memory system.\n\t*\n\t* @return {MemorySystem} A reference to this memory system.\n\t*/\n\tclear() {\n\n\t\tthis.records.length = 0;\n\t\tthis.recordsMap.clear();\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Determines all valid memory record and stores the result in the given array.\n\t*\n\t* @param {Number} currentTime - The current elapsed time.\n\t* @param {Array<MemoryRecord>} result - The result array.\n\t* @return {Array<MemoryRecord>} The result array.\n\t*/\n\tgetValidMemoryRecords( currentTime, result ) {\n\n\t\tconst records = this.records;\n\n\t\tresult.length = 0;\n\n\t\tfor ( let i = 0, l = records.length; i < l; i ++ ) {\n\n\t\t\tconst record = records[ i ];\n\n\t\t\tif ( ( currentTime - record.timeLastSensed ) <= this.memorySpan ) {\n\n\t\t\t\tresult.push( record );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\towner: this.owner.uuid,\n\t\t\trecords: new Array(),\n\t\t\tmemorySpan: this.memorySpan\n\t\t};\n\n\t\tconst records = this.records;\n\n\t\tfor ( let i = 0, l = records.length; i < l; i ++ ) {\n\n\t\t\tconst record = records[ i ];\n\t\t\tjson.records.push( record.toJSON() );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {MemorySystem} A reference to this memory system.\n\t*/\n\tfromJSON( json ) {\n\n\t\tthis.owner = json.owner; // uuid\n\t\tthis.memorySpan = json.memorySpan;\n\n\t\tconst recordsJSON = json.records;\n\n\t\tfor ( let i = 0, l = recordsJSON.length; i < l; i ++ ) {\n\n\t\t\tconst recordJSON = recordsJSON[ i ];\n\t\t\tconst record = new MemoryRecord().fromJSON( recordJSON );\n\n\t\t\tthis.records.push( record );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Restores UUIDs with references to GameEntity objects.\n\t*\n\t* @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t* @return {MemorySystem} A reference to this memory system.\n\t*/\n\tresolveReferences( entities ) {\n\n\t\tthis.owner = entities.get( this.owner ) || null;\n\n\t\t// records\n\n\t\tconst records = this.records;\n\n\t\tfor ( let i = 0, l = records.length; i < l; i ++ ) {\n\n\t\t\tconst record = \trecords[ i ];\n\n\t\t\trecord.resolveReferences( entities );\n\t\t\tthis.recordsMap.set( record.entity, record );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst toPoint = new Vector3();\nconst direction = new Vector3();\nconst ray = new Ray();\nconst intersectionPoint = new Vector3();\nconst worldPosition = new Vector3();\n\n/**\n * Class for representing the vision component of a game entity.\n *\n * @author {@link https://github.com/Mugen87|Mugen87}\n */\nclass Vision {\n\n\t/**\n\t * Constructs a new vision object.\n\t *\n\t * @param {GameEntity} owner - The owner of this vision instance.\n\t */\n\tconstructor( owner = null ) {\n\n\t\t/**\n\t\t * The game entity that owns this vision instance.\n\t\t * @type {?GameEntity}\n\t\t* @default null\n\t\t */\n\t\tthis.owner = owner;\n\n\t\t/**\n\t\t * The field of view in radians.\n\t\t * @type {Number}\n\t\t * @default π\n\t\t */\n\t\tthis.fieldOfView = Math.PI;\n\n\t\t/**\n\t\t * The visual range in world units.\n\t\t * @type {Number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.range = Infinity;\n\n\t\t/**\n\t\t * An array of obstacles. An obstacle is a game entity that\n\t\t * implements the {@link GameEntity#lineOfSightTest} method.\n\t\t * @type {Array<GameEntity>}\n\t\t */\n\t\tthis.obstacles = new Array();\n\n\t}\n\n\t/**\n\t * Adds an obstacle to this vision instance.\n\t *\n\t * @param {GameEntity} obstacle - The obstacle to add.\n\t * @return {Vision} A reference to this vision instance.\n\t */\n\taddObstacle( obstacle ) {\n\n\t\tthis.obstacles.push( obstacle );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Removes an obstacle from this vision instance.\n\t *\n\t * @param {GameEntity} obstacle - The obstacle to remove.\n\t * @return {Vision} A reference to this vision instance.\n\t */\n\tremoveObstacle( obstacle ) {\n\n\t\tconst index = this.obstacles.indexOf( obstacle );\n\t\tthis.obstacles.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Performs a line of sight test in order to determine if the given point\n\t * in 3D space is visible for the game entity.\n\t *\n\t * @param {Vector3} point - The point to test.\n\t * @return {Boolean} Whether the given point is visible or not.\n\t */\n\tvisible( point ) {\n\n\t\tconst owner = this.owner;\n\t\tconst obstacles = this.obstacles;\n\n\t\towner.getWorldPosition( worldPosition );\n\n\t\t// check if point lies within the game entity's visual range\n\n\t\ttoPoint.subVectors( point, worldPosition );\n\t\tconst distanceToPoint = toPoint.length();\n\n\t\tif ( distanceToPoint > this.range ) return false;\n\n\t\t// next, check if the point lies within the game entity's field of view\n\n\t\towner.getWorldDirection( direction );\n\n\t\tconst angle = direction.angleTo( toPoint );\n\n\t\tif ( angle > ( this.fieldOfView * 0.5 ) ) return false;\n\n\t\t// the point lies within the game entity's visual range and field\n\t\t// of view. now check if obstacles block the game entity's view to the given point.\n\n\t\tray.origin.copy( worldPosition );\n\t\tray.direction.copy( toPoint ).divideScalar( distanceToPoint || 1 ); // normalize\n\n\t\tfor ( let i = 0, l = obstacles.length; i < l; i ++ ) {\n\n\t\t\tconst obstacle = obstacles[ i ];\n\n\t\t\tconst intersection = obstacle.lineOfSightTest( ray, intersectionPoint );\n\n\t\t\tif ( intersection !== null ) {\n\n\t\t\t\t// if an intersection point is closer to the game entity than the given point,\n\t\t\t\t// something is blocking the game entity's view\n\n\t\t\t\tconst squaredDistanceToIntersectionPoint = intersectionPoint.squaredDistanceTo( worldPosition );\n\n\t\t\t\tif ( squaredDistanceToIntersectionPoint <= ( distanceToPoint * distanceToPoint ) ) return false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t * Transforms this instance into a JSON object.\n\t *\n\t * @return {Object} The JSON object.\n\t */\n\ttoJSON() {\n\n\t\tconst json = {\n\t\t\ttype: this.constructor.name,\n\t\t\towner: this.owner.uuid,\n\t\t\tfieldOfView: this.fieldOfView,\n\t\t\trange: this.range.toString()\n\t\t};\n\n\t\tjson.obstacles = new Array();\n\n\t\tfor ( let i = 0, l = this.obstacles.length; i < l; i ++ ) {\n\n\t\t\tconst obstacle = this.obstacles[ i ];\n\t\t\tjson.obstacles.push( obstacle.uuid );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t * Restores this instance from the given JSON object.\n\t *\n\t * @param {Object} json - The JSON object.\n\t * @return {Vision} A reference to this vision.\n\t */\n\tfromJSON( json ) {\n\n\t\tthis.owner = json.owner;\n\t\tthis.fieldOfView = json.fieldOfView;\n\t\tthis.range = parseFloat( json.range );\n\n\t\tfor ( let i = 0, l = json.obstacles.length; i < l; i ++ ) {\n\n\t\t\tconst obstacle = json.obstacles[ i ];\n\t\t\tthis.obstacles.push( obstacle );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Restores UUIDs with references to GameEntity objects.\n\t *\n\t * @param {Map<String,GameEntity>} entities - Maps game entities to UUIDs.\n\t * @return {Vision} A reference to this vision.\n\t */\n\tresolveReferences( entities ) {\n\n\t\tthis.owner = entities.get( this.owner ) || null;\n\n\t\tconst obstacles = this.obstacles;\n\n\t\tfor ( let i = 0, l = obstacles.length; i < l; i ++ ) {\n\n\t\t\tobstacles[ i ] = entities.get( obstacles[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst translation = new Vector3();\nconst predictedPosition = new Vector3();\nconst normalPoint = new Vector3();\nconst lineSegment = new LineSegment();\nconst closestNormalPoint = new Vector3();\n\n/**\n* This steering behavior produces a force that keeps a vehicle close to its path. It is intended\n* to use it in combination with {@link FollowPathBehavior} in order to realize a more strict path following.\n*\n* @author {@link https://github.com/Mugen87|Mugen87}\n* @augments SteeringBehavior\n*/\nclass OnPathBehavior extends SteeringBehavior {\n\n\t/**\n\t* Constructs a new on path behavior.\n\t*\n\t* @param {Path} path - The path to stay close to.\n\t* @param {Number} radius - Defines the width of the path. With a smaller radius, the vehicle will have to follow the path more closely.\n\t* @param {Number} predictionFactor - Determines how far the behavior predicts the movement of the vehicle.\n\t*/\n\tconstructor( path = new Path(), radius = 0.1, predictionFactor = 1 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t* The path to stay close to.\n\t\t* @type {Path}\n\t\t*/\n\t\tthis.path = path;\n\n\t\t/**\n\t\t* Defines the width of the path. With a smaller radius, the vehicle will have to follow the path more closely.\n\t\t* @type {Number}\n\t\t* @default 0.1\n\t\t*/\n\t\tthis.radius = radius;\n\n\t\t/**\n\t\t* Determines how far the behavior predicts the movement of the vehicle.\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t*/\n\t\tthis.predictionFactor = predictionFactor;\n\n\t\t// internal behaviors\n\n\t\tthis._seek = new SeekBehavior();\n\n\t}\n\n\t/**\n\t* Calculates the steering force for a single simulation step.\n\t*\n\t* @param {Vehicle} vehicle - The game entity the force is produced for.\n\t* @param {Vector3} force - The force/result vector.\n\t* @param {Number} delta - The time delta.\n\t* @return {Vector3} The force/result vector.\n\t*/\n\tcalculate( vehicle, force /*, delta */ ) {\n\n\t\tconst path = this.path;\n\n\t\t// predicted future position\n\n\t\ttranslation.copy( vehicle.velocity ).multiplyScalar( this.predictionFactor );\n\t\tpredictedPosition.addVectors( vehicle.position, translation );\n\n\t\t// compute closest line segment and normal point. the normal point is computed by projecting\n\t\t// the predicted position of the vehicle on a line segment.\n\n\t\tlet minDistance = Infinity;\n\n\t\tlet l = path._waypoints.length;\n\n\t\t// handle looped paths differently since they have one line segment more\n\n\t\tl = ( path.loop === true ) ? l : l - 1;\n\n\t\tfor ( let i = 0; i < l; i ++ ) {\n\n\t\t\tlineSegment.from = path._waypoints[ i ];\n\n\t\t\t// the last waypoint needs to be handled differently for a looped path.\n\t\t\t// connect the last point with the first one in order to create the last line segment\n\n\t\t\tif ( path.loop === true && i === ( l - 1 ) ) {\n\n\t\t\t\tlineSegment.to = path._waypoints[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tlineSegment.to = path._waypoints[ i + 1 ];\n\n\t\t\t}\n\n\t\t\tlineSegment.closestPointToPoint( predictedPosition, true, normalPoint );\n\n\t\t\tconst distance = predictedPosition.squaredDistanceTo( normalPoint );\n\n\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\tminDistance = distance;\n\t\t\t\tclosestNormalPoint.copy( normalPoint );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// seek towards the projected point on the closest line segment if\n\t\t// the predicted position of the vehicle is outside the valid range.\n\t\t// also ensure that the path length is greater than zero when performing a seek\n\n\t\tif ( minDistance > ( this.radius * this.radius ) && path._waypoints.length > 1 ) {\n\n\t\t\tthis._seek.target = closestNormalPoint;\n\t\t\tthis._seek.calculate( vehicle, force );\n\n\t\t}\n\n\t\treturn force;\n\n\t}\n\n\t/**\n\t* Transforms this instance into a JSON object.\n\t*\n\t* @return {Object} The JSON object.\n\t*/\n\ttoJSON() {\n\n\t\tconst json = super.toJSON();\n\n\t\tjson.path = this.path.toJSON();\n\t\tjson.radius = this.radius;\n\t\tjson.predictionFactor = this.predictionFactor;\n\n\t\treturn json;\n\n\t}\n\n\t/**\n\t* Restores this instance from the given JSON object.\n\t*\n\t* @param {Object} json - The JSON object.\n\t* @return {OnPathBehavior} A reference to this behavior.\n\t*/\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.path.fromJSON( json.path );\n\t\tthis.radius = json.radius;\n\t\tthis.predictionFactor = json.predictionFactor;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* Base class for representing tasks. A task is an isolated unit of work that is\n* processed in an asynchronous way. Tasks are managed within a {@link TaskQueue task queue}.\n*\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass Task {\n\n\t/**\n\t* This method represents the actual unit of work.\n\t* Must be implemented by all concrete tasks.\n\t*/\n\texecute() {}\n\n}\n\n/**\n* This class is used for task management. Tasks are processed in an asynchronous\n* way when there is idle time within a single simulation step or after a defined amount\n* of time (deadline). The class is a wrapper around {@link https://w3.org/TR/requestidlecallback|requestidlecallback()},\n* a JavaScript API for cooperative scheduling of background tasks.\n*\n* @author {@link https://github.com/robp94|robp94}\n*/\nclass TaskQueue {\n\n\t/**\n\t* Constructs a new task queue.\n\t*/\n\tconstructor() {\n\n\t\t/**\n\t\t* A list of pending tasks.\n\t\t* @type {Array<Task>}\n\t\t* @readonly\n\t\t*/\n\t\tthis.tasks = new Array();\n\n\t\t/**\n\t\t* Used to control the asynchronous processing.\n\t\t* - timeout: After this amount of time (in ms), a scheduled task is executed even if\n\t\t* doing so risks causing a negative performance impact (e.g. bad frame time).\n\t\t* @type {Object}\n\t\t*/\n\t\tthis.options = {\n\t\t\ttimeout: 1000 // ms\n\t\t};\n\n\t\t//\n\n\t\tthis._active = false;\n\t\tthis._handler = runTaskQueue.bind( this );\n\t\tthis._taskHandle = 0;\n\n\t}\n\n\t/**\n\t* Adds the given task to the task queue.\n\t*\n\t* @param {Task} task - The task to add.\n\t* @return {TaskQueue} A reference to this task queue.\n\t*/\n\tenqueue( task ) {\n\n\t\tthis.tasks.push( task );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t* Updates the internal state of the task queue. Should be called\n\t* per simulation step.\n\t*\n\t* @return {TaskQueue} A reference to this task queue.\n\t*/\n\tupdate() {\n\n\t\tif ( this.tasks.length > 0 ) {\n\n\t\t\tif ( this._active === false ) {\n\n\t\t\t\tthis._taskHandle = requestIdleCallback( this._handler, this.options );\n\t\t\t\tthis._active = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis._active = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n* This function controls the processing of tasks. It schedules tasks when there\n* is idle time at the end of a simulation step.\n*\n* @param {Object} deadline - This object contains a function which returns\n* a number indicating how much time remains for task processing.\n*/\nfunction runTaskQueue( deadline ) {\n\n\tconst tasks = this.tasks;\n\n\twhile ( deadline.timeRemaining() > 0 && tasks.length > 0 ) {\n\n\t\tconst task = tasks[ 0 ];\n\n\t\ttask.execute();\n\n\t\ttasks.shift();\n\n\t}\n\n\tif ( tasks.length > 0 ) {\n\n\t\tthis._taskHandle = requestIdleCallback( this._handler, this.options );\n\t\tthis._active = true;\n\n\t} else {\n\n\t\tthis._taskHandle = 0;\n\t\tthis._active = false;\n\n\t}\n\n}\n\nexport { AABB, AStar, AlignmentBehavior, ArriveBehavior, BFS, BVH, BVHNode, BoundingSphere, Face as CHFace, Vertex as CHVertex, VertexList as CHVertexList, Cell, CellSpacePartitioning, CohesionBehavior, CompositeGoal, ConvexHull, Corridor, CostTable, DFS, Dijkstra, Edge, EntityManager, EvadeBehavior, EventDispatcher, FleeBehavior, FollowPathBehavior, FuzzyAND, FuzzyCompositeTerm, FuzzyFAIRLY, FuzzyModule, FuzzyOR, FuzzyRule, FuzzySet, FuzzyTerm, FuzzyVERY, FuzzyVariable, GameEntity, Goal, GoalEvaluator, Graph, GraphUtils, HalfEdge, HeuristicPolicyDijkstra, HeuristicPolicyEuclid, HeuristicPolicyEuclidSquared, HeuristicPolicyManhattan, InterposeBehavior, LeftSCurveFuzzySet, LeftShoulderFuzzySet, LineSegment, Logger, MathUtils, Matrix3, Matrix4, MemoryRecord, MemorySystem, MeshGeometry, MessageDispatcher, MovingEntity, NavEdge, NavMesh, NavMeshLoader, NavNode, Node, NormalDistFuzzySet, OBB, ObstacleAvoidanceBehavior, OffsetPursuitBehavior, OnPathBehavior, Path, Plane, Polygon, Polyhedron, PriorityQueue, PursuitBehavior, Quaternion, Ray, RectangularTriggerRegion, Regulator, RightSCurveFuzzySet, RightShoulderFuzzySet, SAT, SeekBehavior, SeparationBehavior, SingletonFuzzySet, Smoother, SphericalTriggerRegion, State, StateMachine, SteeringBehavior, SteeringManager, Task, TaskQueue, Telegram, Think, Time, TriangularFuzzySet, Trigger, TriggerRegion, Vector3, Vehicle, Vision, WanderBehavior, WorldUp };\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","import {Color as $5Whe3$Color, WebGLRenderTarget as $5Whe3$WebGLRenderTarget, LinearFilter as $5Whe3$LinearFilter, NearestFilter as $5Whe3$NearestFilter, HalfFloatType as $5Whe3$HalfFloatType, RGBAFormat as $5Whe3$RGBAFormat, DepthTexture as $5Whe3$DepthTexture, UnsignedInt248Type as $5Whe3$UnsignedInt248Type, UnsignedIntType as $5Whe3$UnsignedIntType, DepthStencilFormat as $5Whe3$DepthStencilFormat, DepthFormat as $5Whe3$DepthFormat, DataTexture as $5Whe3$DataTexture, NoColorSpace as $5Whe3$NoColorSpace, RepeatWrapping as $5Whe3$RepeatWrapping, Vector2 as $5Whe3$Vector2, WebGLMultipleRenderTargets as $5Whe3$WebGLMultipleRenderTargets, RedFormat as $5Whe3$RedFormat, FloatType as $5Whe3$FloatType, ShaderMaterial as $5Whe3$ShaderMaterial, Vector3 as $5Whe3$Vector3, BufferGeometry as $5Whe3$BufferGeometry, BufferAttribute as $5Whe3$BufferAttribute, Sphere as $5Whe3$Sphere, OrthographicCamera as $5Whe3$OrthographicCamera, Mesh as $5Whe3$Mesh, Matrix4 as $5Whe3$Matrix4} from \"three\";\nimport {Pass as $5Whe3$Pass} from \"three/examples/jsm/postprocessing/Pass.js\";\nimport {Pass as $5Whe3$Pass1} from \"postprocessing\";\n\n\n\n\nconst $e4ca8dcb0218f846$var$_geometry = new $5Whe3$BufferGeometry();\n$e4ca8dcb0218f846$var$_geometry.setAttribute(\"position\", new $5Whe3$BufferAttribute(new Float32Array([\n    -1,\n    -1,\n    3,\n    -1,\n    -1,\n    3\n]), 2));\n$e4ca8dcb0218f846$var$_geometry.setAttribute(\"uv\", new $5Whe3$BufferAttribute(new Float32Array([\n    0,\n    0,\n    2,\n    0,\n    0,\n    2\n]), 2));\n// Recent three.js versions break setDrawRange or itemSize <3 position\n$e4ca8dcb0218f846$var$_geometry.boundingSphere = new $5Whe3$Sphere();\n$e4ca8dcb0218f846$var$_geometry.computeBoundingSphere = function() {};\nconst $e4ca8dcb0218f846$var$_camera = new $5Whe3$OrthographicCamera();\nclass $e4ca8dcb0218f846$export$dcd670d73db751f5 {\n    constructor(material){\n        this._mesh = new $5Whe3$Mesh($e4ca8dcb0218f846$var$_geometry, material);\n        this._mesh.frustumCulled = false;\n    }\n    render(renderer) {\n        renderer.render(this._mesh, $e4ca8dcb0218f846$var$_camera);\n    }\n    get material() {\n        return this._mesh.material;\n    }\n    set material(value) {\n        this._mesh.material = value;\n    }\n    dispose() {\n        this._mesh.material.dispose();\n        this._mesh.geometry.dispose();\n    }\n}\n\n\n\nconst $1ed45968c1160c3c$export$c9b263b9a17dffd7 = {\n    uniforms: {\n        \"sceneDiffuse\": {\n            value: null\n        },\n        \"sceneDepth\": {\n            value: null\n        },\n        \"sceneNormal\": {\n            value: null\n        },\n        \"projMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"projViewMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"projectionMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"cameraPos\": {\n            value: new $5Whe3$Vector3()\n        },\n        \"resolution\": {\n            value: new $5Whe3$Vector2()\n        },\n        \"time\": {\n            value: 0.0\n        },\n        \"samples\": {\n            value: []\n        },\n        \"bluenoise\": {\n            value: null\n        },\n        \"distanceFalloff\": {\n            value: 1.0\n        },\n        \"radius\": {\n            value: 5.0\n        },\n        \"near\": {\n            value: 0.1\n        },\n        \"far\": {\n            value: 1000.0\n        },\n        \"logDepth\": {\n            value: false\n        },\n        \"ortho\": {\n            value: false\n        },\n        \"screenSpaceRadius\": {\n            value: false\n        }\n    },\n    depthWrite: false,\n    depthTest: false,\n    vertexShader: /* glsl */ `\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 1);\n}`,\n    fragmentShader: /* glsl */ `\n    #define SAMPLES 16\n    #define FSAMPLES 16.0\nuniform sampler2D sceneDiffuse;\nuniform highp sampler2D sceneNormal;\nuniform highp sampler2D sceneDepth;\nuniform mat4 projectionMatrixInv;\nuniform mat4 viewMatrixInv;\nuniform mat4 projMat;\nuniform mat4 viewMat;\nuniform mat4 projViewMat;\nuniform vec3 cameraPos;\nuniform vec2 resolution;\nuniform float time;\nuniform vec3[SAMPLES] samples;\nuniform float radius;\nuniform float distanceFalloff;\nuniform float near;\nuniform float far;\nuniform bool logDepth;\nuniform bool ortho;\nuniform bool screenSpaceRadius;\nuniform sampler2D bluenoise;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n\n    vec3 getWorldPosLog(vec3 posS) {\n      vec2 uv = posS.xy;\n      float z = posS.z;\n      float nearZ =near;\n      float farZ = far;\n      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n      vec4 wpos = projectionMatrixInv * clipVec;\n      return wpos.xyz / wpos.w;\n    }\n    vec3 getWorldPos(float depth, vec2 coord) {\n      #ifdef LOGDEPTH\n        return getWorldPosLog(vec3(coord, depth));\n      #endif\n      float z = depth * 2.0 - 1.0;\n      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n      // Perspective division\n     vec4 worldSpacePosition = viewSpacePosition;\n     worldSpacePosition.xyz /= worldSpacePosition.w;\n      return worldSpacePosition.xyz;\n  }\n\n  vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n    ivec2 p = ivec2(vUv * resolution);\n    float c0 = texelFetch(sceneDepth, p, 0).x;\n    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n\n    float dl = abs((2.0 * l1 - l2) - c0);\n    float dr = abs((2.0 * r1 - r2) - c0);\n    float db = abs((2.0 * b1 - b2) - c0);\n    float dt = abs((2.0 * t1 - t2) - c0);\n\n    vec3 ce = getWorldPos(c0, vUv).xyz;\n\n    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n\n    return normalize(cross(dpdx, dpdy));\n}\n\nmat3 makeRotationZ(float theta) {\n\tfloat c = cos(theta);\n\tfloat s = sin(theta);\n\treturn mat3(c, - s, 0,\n\t\t\ts,  c, 0,\n\t\t\t0,  0, 1);\n  }\n\nvoid main() {\n      vec4 diffuse = texture2D(sceneDiffuse, vUv);\n      float depth = texture2D(sceneDepth, vUv).x;\n      if (depth == 1.0) {\n        gl_FragColor = vec4(vec3(1.0), 1.0);\n        return;\n      }\n      vec3 worldPos = getWorldPos(depth, vUv);\n      #ifdef HALFRES\n        vec3 normal = texture2D(sceneNormal, vUv).rgb;\n      #else\n        vec3 normal = computeNormal(worldPos, vUv);\n      #endif\n      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);\n        vec3 helperVec = vec3(0.0, 1.0, 0.0);\n        if (dot(helperVec, normal) > 0.99) {\n          helperVec = vec3(1.0, 0.0, 0.0);\n        }\n        vec3 tangent = normalize(cross(helperVec, normal));\n        vec3 bitangent = cross(normal, tangent);\n        mat3 tbn = mat3(tangent, bitangent, normal) *  makeRotationZ(noise.r * 2.0 * 3.1415962) ;\n\n      float occluded = 0.0;\n      float totalWeight = 0.0;\n      float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : radiusToUse * distanceFalloff * 0.2;\n      float bias = (min(\n        0.1,\n        distanceFalloffToUse * 0.1\n      ) / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;\n      float phi = 1.61803398875;\n      float offsetMove = 0.0;\n      float offsetMoveInv = 1.0 / FSAMPLES;\n      for(float i = 0.0; i < FSAMPLES; i++) {\n        vec3 sampleDirection = tbn * samples[int(i)];\n\n        float moveAmt = fract(noise.g + offsetMove);\n        offsetMove += offsetMoveInv;\n\n        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;\n        vec4 offset = projMat * vec4(samplePos, 1.0);\n        offset.xyz /= offset.w;\n        offset.xyz = offset.xyz * 0.5 + 0.5;\n        \n        vec2 diff = gl_FragCoord.xy - floor(offset.xy * resolution);\n        // From Rabbid76's hbao\n        vec2 clipRangeCheck = step(vec2(0.0),offset.xy) * step(offset.xy, vec2(1.0));\n          float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;\n\n          #ifdef LOGDEPTH\n\n          float distSample = linearize_depth_log(sampleDepth, near, far);\n\n          #else\n\n          float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);\n\n          #endif\n\n          float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);\n          \n          float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));\n          \n          float sampleValid = (clipRangeCheck.x * clipRangeCheck.y);\n          occluded += rangeCheck * float(sampleDepth != depth) * float(distSample + bias < distWorld) * step(\n            1.0,\n            dot(diff, diff)\n          ) * sampleValid;\n          \n          totalWeight += sampleValid;\n      }\n      float occ = clamp(1.0 - occluded / (totalWeight == 0.0 ? 1.0 : totalWeight), 0.0, 1.0);\n      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);\n}`\n};\n\n\n\nconst $12b21d24d1192a04$export$a815acccbd2c9a49 = {\n    uniforms: {\n        \"sceneDiffuse\": {\n            value: null\n        },\n        \"sceneDepth\": {\n            value: null\n        },\n        \"tDiffuse\": {\n            value: null\n        },\n        \"transparencyDWFalse\": {\n            value: null\n        },\n        \"transparencyDWTrue\": {\n            value: null\n        },\n        \"transparencyDWTrueDepth\": {\n            value: null\n        },\n        \"transparencyAware\": {\n            value: false\n        },\n        \"projMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"projectionMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"cameraPos\": {\n            value: new $5Whe3$Vector3()\n        },\n        \"resolution\": {\n            value: new $5Whe3$Vector2()\n        },\n        \"color\": {\n            value: new $5Whe3$Vector3(0, 0, 0)\n        },\n        \"blueNoise\": {\n            value: null\n        },\n        \"downsampledDepth\": {\n            value: null\n        },\n        \"time\": {\n            value: 0.0\n        },\n        \"intensity\": {\n            value: 10.0\n        },\n        \"renderMode\": {\n            value: 0.0\n        },\n        \"gammaCorrection\": {\n            value: false\n        },\n        \"logDepth\": {\n            value: false\n        },\n        \"ortho\": {\n            value: false\n        },\n        \"near\": {\n            value: 0.1\n        },\n        \"far\": {\n            value: 1000.0\n        },\n        \"screenSpaceRadius\": {\n            value: false\n        },\n        \"radius\": {\n            value: 0.0\n        },\n        \"distanceFalloff\": {\n            value: 1.0\n        },\n        \"fog\": {\n            value: false\n        },\n        \"fogExp\": {\n            value: false\n        },\n        \"fogDensity\": {\n            value: 0.0\n        },\n        \"fogNear\": {\n            value: Infinity\n        },\n        \"fogFar\": {\n            value: Infinity\n        },\n        \"colorMultiply\": {\n            value: true\n        }\n    },\n    depthWrite: false,\n    depthTest: false,\n    vertexShader: /* glsl */ `\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tvUv = uv;\n\t\t\tgl_Position = vec4(position, 1);\n\t\t}`,\n    fragmentShader: /* glsl */ `\n\t\tuniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform highp sampler2D downsampledDepth;\n    uniform highp sampler2D transparencyDWFalse;\n    uniform highp sampler2D transparencyDWTrue;\n    uniform highp sampler2D transparencyDWTrueDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform vec2 resolution;\n    uniform vec3 color;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform float intensity;\n    uniform float renderMode;\n    uniform float near;\n    uniform float far;\n    uniform bool gammaCorrection;\n    uniform bool logDepth;\n    uniform bool ortho;\n    uniform bool screenSpaceRadius;\n    uniform bool fog;\n    uniform bool fogExp;\n    uniform bool colorMultiply;\n    uniform bool transparencyAware;\n    uniform float fogDensity;\n    uniform float fogNear;\n    uniform float fogFar;\n    uniform float radius;\n    uniform float distanceFalloff;\n    uniform vec3 cameraPos;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n       // if (logDepth) {\n        #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n        #endif\n      //  }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n\n    #include <common>\n    #include <dithering_pars_fragment>\n    void main() {\n        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);\n        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);\n        float depth = texture2D(\n            sceneDepth,\n            vUv\n        ).x;\n        #ifdef HALFRES \n        vec4 texel;\n        if (depth == 1.0) {\n            texel = vec4(0.0, 0.0, 0.0, 1.0);\n        } else {\n        vec3 worldPos = getWorldPos(depth, vUv);\n        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);\n       // vec4 texel = texture2D(tDiffuse, vUv);\n       // Find closest depth;\n       float totalWeight = 0.0;\n       float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : distanceFalloff;\n        for(float x = -1.0; x <= 1.0; x++) {\n            for(float y = -1.0; y <= 1.0; y++) {\n                vec2 offset = vec2(x, y);\n                ivec2 p = ivec2(\n                    (vUv * resolution * 0.5) + offset\n                );\n                vec2 pUv = vec2(p) / (resolution * 0.5);\n                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;\n                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);\n                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;\n                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);\n                float tangentPlaneDist = abs(dot(worldPosSample - worldPos, normal));\n                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);\n                float weight = rangeCheck;\n                totalWeight += weight;\n                texel += sampleInfo * weight;\n            }\n        }\n        if (totalWeight == 0.0) {\n            texel = texture2D(tDiffuse, vUv);\n        } else {\n            texel /= totalWeight;\n        }\n    }\n        #else\n        vec4 texel = texture2D(tDiffuse, vUv);\n        #endif\n\n        #ifdef LOGDEPTH\n        texel.a = clamp(texel.a, 0.0, 1.0);\n        if (texel.a == 0.0) {\n          texel.a = 1.0;\n        }\n        #endif\n     \n        float finalAo = pow(texel.a, intensity);\n        float fogFactor;\n        float fogDepth = distance(\n            cameraPos,\n            getWorldPos(depth, vUv)\n        );\n        if (fog) {\n            if (fogExp) {\n                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n            } else {\n                fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n            }\n        }\n        if (transparencyAware) {\n            float transparencyDWOff = texture2D(transparencyDWFalse, vUv).a;\n            float transparencyDWOn = texture2D(transparencyDWTrue, vUv).a;\n            float adjustmentFactorOff = transparencyDWOff;\n            float adjustmentFactorOn = (1.0 - transparencyDWOn) * (\n                texture2D(transparencyDWTrueDepth, vUv).r == texture2D(sceneDepth, vUv).r ? 1.0 : 0.0\n            );\n            float adjustmentFactor = max(adjustmentFactorOff, adjustmentFactorOn);\n            finalAo = mix(finalAo, 1.0, adjustmentFactor);\n        }\n        finalAo = mix(finalAo, 1.0, fogFactor);\n        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));\n        if (renderMode == 0.0) {\n            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 1.0) {\n            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 2.0) {\n            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n        } else if (renderMode == 3.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);\n            }\n        } else if (renderMode == 4.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);\n            }\n        }\n        #include <dithering_fragment>\n        if (gammaCorrection) {\n            gl_FragColor = LinearTosRGB(gl_FragColor);\n        }\n    }\n    `\n};\n\n\n\nconst $e52378cd0f5a973d$export$57856b59f317262e = {\n    uniforms: {\n        \"sceneDiffuse\": {\n            value: null\n        },\n        \"sceneDepth\": {\n            value: null\n        },\n        \"tDiffuse\": {\n            value: null\n        },\n        \"projMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMat\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"projectionMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"viewMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"cameraPos\": {\n            value: new $5Whe3$Vector3()\n        },\n        \"resolution\": {\n            value: new $5Whe3$Vector2()\n        },\n        \"time\": {\n            value: 0.0\n        },\n        \"r\": {\n            value: 5.0\n        },\n        \"blueNoise\": {\n            value: null\n        },\n        \"radius\": {\n            value: 12.0\n        },\n        \"worldRadius\": {\n            value: 5.0\n        },\n        \"index\": {\n            value: 0.0\n        },\n        \"poissonDisk\": {\n            value: []\n        },\n        \"distanceFalloff\": {\n            value: 1.0\n        },\n        \"near\": {\n            value: 0.1\n        },\n        \"far\": {\n            value: 1000.0\n        },\n        \"logDepth\": {\n            value: false\n        },\n        \"screenSpaceRadius\": {\n            value: false\n        }\n    },\n    depthWrite: false,\n    depthTest: false,\n    vertexShader: /* glsl */ `\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tvUv = uv;\n\t\t\tgl_Position = vec4(position, 1.0);\n\t\t}`,\n    fragmentShader: /* glsl */ `\n\t\tuniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform vec2 resolution;\n    uniform float r;\n    uniform float radius;\n     uniform float worldRadius;\n    uniform float index;\n     uniform float near;\n     uniform float far;\n     uniform float distanceFalloff;\n     uniform bool logDepth;\n     uniform bool screenSpaceRadius;\n    varying vec2 vUv;\n\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        highp float z_n = 2.0 * d - 1.0;\n        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     return linearize_depth(linDepth, nearZ, farZ);\n   }\n   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n     return nearZ + (farZ - nearZ) * d;\n   }\n   vec3 getWorldPosLog(vec3 posS) {\n     vec2 uv = posS.xy;\n     float z = posS.z;\n     float nearZ =near;\n     float farZ = far;\n     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n     vec4 wpos = projectionMatrixInv * clipVec;\n     return wpos.xyz / wpos.w;\n   }\n    vec3 getWorldPos(float depth, vec2 coord) {\n     #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n     #endif\n        \n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n    #include <common>\n    #define NUM_SAMPLES 16\n    uniform vec2 poissonDisk[NUM_SAMPLES];\n    void main() {\n        const float pi = 3.14159;\n        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n        vec2 uv = vUv;\n        vec4 data = texture2D(tDiffuse, vUv);\n        float occlusion = data.a;\n        float baseOcc = data.a;\n        vec3 normal = data.rgb * 2.0 - 1.0;\n        float count = 1.0;\n        float d = texture2D(sceneDepth, vUv).x;\n        if (d == 1.0) {\n          gl_FragColor = data;\n          return;\n        }\n        vec3 worldPos = getWorldPos(d, vUv);\n        float size = radius;\n        float angle;\n        if (index == 0.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;\n        } else if (index == 1.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;\n        } else if (index == 2.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;\n        } else {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;\n        }\n\n        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n        float radiusToUse = screenSpaceRadius ? distance(\n          worldPos,\n          getWorldPos(d, vUv +\n            vec2(worldRadius, 0.0) / resolution)\n        ) : worldRadius;\n        float distanceFalloffToUse =screenSpaceRadius ?\n        radiusToUse * distanceFalloff\n    : radiusToUse * distanceFalloff * 0.2;\n\n\n        for(int i = 0; i < NUM_SAMPLES; i++) {\n            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;\n            vec4 dataSample = texture2D(tDiffuse, uv + offset);\n            float occSample = dataSample.a;\n            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;\n            float dSample = texture2D(sceneDepth, uv + offset).x;\n            vec3 worldPosSample = getWorldPos(dSample, uv + offset);\n            float tangentPlaneDist = abs(dot(worldPosSample - worldPos, normal));\n            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));\n            occlusion += occSample * rangeCheck;\n            count += rangeCheck;\n        }\n        if (count > 0.0) {\n          occlusion /= count;\n        }\n        #ifdef LOGDEPTH\n          occlusion = clamp(occlusion, 0.0, 1.0);\n          if (occlusion == 0.0) {\n            occlusion = 1.0;\n          }\n        #endif\n        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);\n    }\n    `\n};\n\n\n\nconst $26aca173e0984d99$export$1efdf491687cd442 = {\n    uniforms: {\n        \"sceneDepth\": {\n            value: null\n        },\n        \"resolution\": {\n            value: new $5Whe3$Vector2()\n        },\n        \"near\": {\n            value: 0.1\n        },\n        \"far\": {\n            value: 1000.0\n        },\n        \"viewMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"projectionMatrixInv\": {\n            value: new $5Whe3$Matrix4()\n        },\n        \"logDepth\": {\n            value: false\n        }\n    },\n    depthWrite: false,\n    depthTest: false,\n    vertexShader: /* glsl */ `\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 1);\n    }`,\n    fragmentShader: /* glsl */ `\n    uniform highp sampler2D sceneDepth;\n    uniform vec2 resolution;\n    uniform float near;\n    uniform float far;\n    uniform bool logDepth;\n    uniform mat4 viewMatrixInv;\n    uniform mat4 projectionMatrixInv;\n    varying vec2 vUv;\n    layout(location = 1) out vec4 gNormal;\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n        if (logDepth) {\n          return getWorldPosLog(vec3(coord, depth));\n        }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n    void main() {\n        vec2 uv = vUv - vec2(0.5) / resolution;\n        vec2 pixelSize = vec2(1.0) / resolution;\n        vec2[] uvSamples = vec2[4](\n            uv,\n            uv + vec2(pixelSize.x, 0.0),\n            uv + vec2(0.0, pixelSize.y),\n            uv + pixelSize\n        );\n        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;\n        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;\n        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;\n        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;\n        float minDepth = min(min(depth00, depth10), min(depth01, depth11));\n        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));\n        float targetDepth = minDepth;\n        // Checkerboard pattern to avoid artifacts\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { \n            targetDepth = maxDepth;\n        }\n        int chosenIndex = 0;\n        float[] samples = float[4](depth00, depth10, depth01, depth11);\n        for(int i = 0; i < 4; ++i) {\n            if (samples[i] == targetDepth) {\n                chosenIndex = i;\n                break;\n            }\n        }\n        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);\n        gNormal = vec4(computeNormal(\n            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]\n        ), 0.0);\n    }`\n};\n\n\n\n\n\n\n\n\n\nvar $06269ad78f3c5fdf$export$2e2bcd8739ae039 = `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`;\n\n\nconst $87431ee93b037844$var$bluenoiseBits = Uint8Array.from(atob((0, $06269ad78f3c5fdf$export$2e2bcd8739ae039)), (c)=>c.charCodeAt(0));\n/**\n * \n * @param {*} timerQuery \n * @param {THREE.WebGLRenderer} gl \n * @param {N8AOPass} pass \n */ function $87431ee93b037844$var$checkTimerQuery(timerQuery, gl, pass) {\n    const available = gl.getQueryParameter(timerQuery, gl.QUERY_RESULT_AVAILABLE);\n    if (available) {\n        const elapsedTimeInNs = gl.getQueryParameter(timerQuery, gl.QUERY_RESULT);\n        const elapsedTimeInMs = elapsedTimeInNs / 1000000;\n        pass.lastTime = elapsedTimeInMs;\n    } else // If the result is not available yet, check again after a delay\n    setTimeout(()=>{\n        $87431ee93b037844$var$checkTimerQuery(timerQuery, gl, pass);\n    }, 1);\n}\nclass $87431ee93b037844$export$2489f9981ab0fa82 extends (0, $5Whe3$Pass1) {\n    /**\n     * \n     * @param {THREE.Scene} scene\n     * @param {THREE.Camera} camera \n     * @param {number} width \n     * @param {number} height\n     *  \n     * @property {THREE.Scene} scene\n     * @property {THREE.Camera} camera\n     * @property {number} width\n     * @property {number} height\n     */ constructor(scene, camera, width = 512, height = 512){\n        super();\n        this.width = width;\n        this.height = height;\n        this.clear = true;\n        this.camera = camera;\n        this.scene = scene;\n        /**\n         * @type {Proxy & {\n         * aoSamples: number,\n         * aoRadius: number,\n         * denoiseSamples: number,\n         * denoiseRadius: number,\n         * distanceFalloff: number,\n         * intensity: number,\n         * denoiseIterations: number,\n         * renderMode: 0 | 1 | 2 | 3 | 4,\n         * color: THREE.Color,\n         * gammaCorrection: boolean,\n         * logarithmicDepthBuffer: boolean\n         * screenSpaceRadius: boolean,\n         * halfRes: boolean,\n         * depthAwareUpsampling: boolean\n         * colorMultiply: boolean\n         * }\n         */ this.autosetGamma = true;\n        this.configuration = new Proxy({\n            aoSamples: 16,\n            aoRadius: 5.0,\n            denoiseSamples: 8,\n            denoiseRadius: 12,\n            distanceFalloff: 1.0,\n            intensity: 5,\n            denoiseIterations: 2.0,\n            renderMode: 0,\n            color: new $5Whe3$Color(0, 0, 0),\n            gammaCorrection: true,\n            logarithmicDepthBuffer: false,\n            screenSpaceRadius: false,\n            halfRes: false,\n            depthAwareUpsampling: true,\n            colorMultiply: true,\n            transparencyAware: false\n        }, {\n            set: (target, propName, value)=>{\n                const oldProp = target[propName];\n                target[propName] = value;\n                if (propName === \"aoSamples\" && oldProp !== value) this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"denoiseSamples\" && oldProp !== value) this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"halfRes\" && oldProp !== value) {\n                    this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n                    this.configureHalfResTargets();\n                    this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n                    this.setSize(this.width, this.height);\n                }\n                if (propName === \"depthAwareUpsampling\" && oldProp !== value) this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"gammaCorrection\") this.autosetGamma = false;\n                if (propName === \"transparencyAware\" && oldProp !== value) {\n                    this.autoDetectTransparency = false;\n                    this.configureTransparencyTarget();\n                }\n                return true;\n            }\n        });\n        /** @type {THREE.Vector3[]} */ this.samples = [];\n        /** @type {THREE.Vector2[]} */ this.samplesDenoise = [];\n        this.autoDetectTransparency = true;\n        this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n        this.configureSampleDependentPasses();\n        this.configureHalfResTargets();\n        this.detectTransparency();\n        this.configureTransparencyTarget();\n        //   this.effectCompisterQuad = new FullScreenTriangle(new THREE.ShaderMaterial(EffectCompositer));\n        this.copyQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial({\n            uniforms: {\n                tDiffuse: {\n                    value: null\n                }\n            },\n            depthWrite: false,\n            vertexShader: `\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }\n            `,\n            fragmentShader: `\n            uniform sampler2D tDiffuse;\n            varying vec2 vUv;\n            void main() {\n                gl_FragColor = texture2D(tDiffuse, vUv);\n            }\n            `\n        }));\n        this.writeTargetInternal = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$LinearFilter,\n            depthBuffer: false\n        });\n        this.readTargetInternal = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$LinearFilter,\n            depthBuffer: false\n        });\n        this.outputTargetInternal = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$LinearFilter,\n            depthBuffer: false\n        });\n        /** @type {THREE.DataTexture} */ this.bluenoise = new $5Whe3$DataTexture($87431ee93b037844$var$bluenoiseBits, 128, 128);\n        this.bluenoise.colorSpace = $5Whe3$NoColorSpace;\n        this.bluenoise.wrapS = $5Whe3$RepeatWrapping;\n        this.bluenoise.wrapT = $5Whe3$RepeatWrapping;\n        this.bluenoise.minFilter = $5Whe3$NearestFilter;\n        this.bluenoise.magFilter = $5Whe3$NearestFilter;\n        this.bluenoise.needsUpdate = true;\n        this.lastTime = 0;\n        this.needsDepthTexture = true;\n        this.needsSwap = true;\n        this._r = new $5Whe3$Vector2();\n        this._c = new $5Whe3$Color();\n    }\n    configureHalfResTargets() {\n        if (this.configuration.halfRes) {\n            this.depthDownsampleTarget = /*new THREE.WebGLRenderTarget(this.width / 2, this.height / 2, {\n                               minFilter: THREE.NearestFilter,\n                               magFilter: THREE.NearestFilter,\n                               depthBuffer: false,\n                               format: THREE.RedFormat,\n                               type: THREE.FloatType\n                           });*/ new $5Whe3$WebGLMultipleRenderTargets(this.width / 2, this.height / 2, 2);\n            this.depthDownsampleTarget.texture[0].format = $5Whe3$RedFormat;\n            this.depthDownsampleTarget.texture[0].type = $5Whe3$FloatType;\n            this.depthDownsampleTarget.texture[0].minFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[0].magFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[0].depthBuffer = false;\n            this.depthDownsampleTarget.texture[1].format = $5Whe3$RGBAFormat;\n            this.depthDownsampleTarget.texture[1].type = $5Whe3$HalfFloatType;\n            this.depthDownsampleTarget.texture[1].minFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[1].magFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[1].depthBuffer = false;\n            this.depthDownsampleQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial((0, $26aca173e0984d99$export$1efdf491687cd442)));\n        } else {\n            if (this.depthDownsampleTarget) {\n                this.depthDownsampleTarget.dispose();\n                this.depthDownsampleTarget = null;\n            }\n            if (this.depthDownsampleQuad) {\n                this.depthDownsampleQuad.dispose();\n                this.depthDownsampleQuad = null;\n            }\n        }\n    }\n    detectTransparency() {\n        if (this.autoDetectTransparency) {\n            let isTransparency = false;\n            this.scene.traverse((obj)=>{\n                if (obj.material && obj.material.transparent) isTransparency = true;\n            });\n            if (isTransparency) this.configuration.transparencyAware = true;\n        }\n    }\n    configureTransparencyTarget() {\n        if (this.configuration.transparencyAware) {\n            this.transparencyRenderTargetDWFalse = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n                minFilter: $5Whe3$LinearFilter,\n                magFilter: $5Whe3$NearestFilter,\n                type: $5Whe3$HalfFloatType,\n                format: $5Whe3$RGBAFormat\n            });\n            this.transparencyRenderTargetDWTrue = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n                minFilter: $5Whe3$LinearFilter,\n                magFilter: $5Whe3$NearestFilter,\n                type: $5Whe3$HalfFloatType,\n                format: $5Whe3$RGBAFormat\n            });\n            this.transparencyRenderTargetDWTrue.depthTexture = new $5Whe3$DepthTexture(this.width, this.height, $5Whe3$UnsignedIntType);\n            this.depthCopyPass = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial({\n                uniforms: {\n                    depthTexture: {\n                        value: this.depthTexture\n                    }\n                },\n                vertexShader: /* glsl */ `\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }`,\n                fragmentShader: /* glsl */ `\n            uniform sampler2D depthTexture;\n            varying vec2 vUv;\n            void main() {\n               gl_FragDepth = texture2D(depthTexture, vUv).r + 0.00001;\n               gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n            }\n            `\n            }));\n        } else {\n            if (this.transparencyRenderTargetDWFalse) {\n                this.transparencyRenderTargetDWFalse.dispose();\n                this.transparencyRenderTargetDWFalse = null;\n            }\n            if (this.transparencyRenderTargetDWTrue) {\n                this.transparencyRenderTargetDWTrue.dispose();\n                this.transparencyRenderTargetDWTrue = null;\n            }\n            if (this.depthCopyPass) {\n                this.depthCopyPass.dispose();\n                this.depthCopyPass = null;\n            }\n        }\n    }\n    renderTransparency(renderer) {\n        const oldBackground = this.scene.background;\n        const oldClearColor = renderer.getClearColor(new $5Whe3$Color());\n        const oldClearAlpha = renderer.getClearAlpha();\n        const oldVisibility = new Map();\n        const oldAutoClearDepth = renderer.autoClearDepth;\n        this.scene.traverse((obj)=>{\n            oldVisibility.set(obj, obj.visible);\n        });\n        // Override the state\n        this.scene.background = null;\n        renderer.autoClearDepth = false;\n        renderer.setClearColor(new $5Whe3$Color(0, 0, 0), 0);\n        this.depthCopyPass.material.uniforms.depthTexture.value = this.depthTexture;\n        // Render out transparent objects WITHOUT depth write\n        renderer.setRenderTarget(this.transparencyRenderTargetDWFalse);\n        this.scene.traverse((obj)=>{\n            if (obj.material) obj.visible = oldVisibility.get(obj) && obj.material.transparent && !obj.material.depthWrite && !obj.userData.treatAsOpaque;\n        });\n        renderer.clear(true, true, true);\n        this.depthCopyPass.render(renderer);\n        renderer.render(this.scene, this.camera);\n        // Render out transparent objects WITH depth write\n        renderer.setRenderTarget(this.transparencyRenderTargetDWTrue);\n        this.scene.traverse((obj)=>{\n            if (obj.material) obj.visible = oldVisibility.get(obj) && obj.material.transparent && obj.material.depthWrite && !obj.userData.treatAsOpaque;\n        });\n        renderer.clear(true, true, true);\n        this.depthCopyPass.render(renderer);\n        renderer.render(this.scene, this.camera);\n        // Restore\n        this.scene.traverse((obj)=>{\n            obj.visible = oldVisibility.get(obj);\n        });\n        renderer.setClearColor(oldClearColor, oldClearAlpha);\n        this.scene.background = oldBackground;\n        renderer.autoClearDepth = oldAutoClearDepth;\n    }\n    configureSampleDependentPasses() {\n        this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n        this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n    }\n    configureAOPass(logarithmicDepthBuffer = false) {\n        this.samples = this.generateHemisphereSamples(this.configuration.aoSamples);\n        const e = {\n            ...(0, $1ed45968c1160c3c$export$c9b263b9a17dffd7)\n        };\n        e.fragmentShader = e.fragmentShader.replace(\"16\", this.configuration.aoSamples).replace(\"16.0\", this.configuration.aoSamples + \".0\");\n        if (logarithmicDepthBuffer) e.fragmentShader = \"#define LOGDEPTH\\n\" + e.fragmentShader;\n        if (this.configuration.halfRes) e.fragmentShader = \"#define HALFRES\\n\" + e.fragmentShader;\n        if (this.effectShaderQuad) {\n            this.effectShaderQuad.material.dispose();\n            this.effectShaderQuad.material = new $5Whe3$ShaderMaterial(e);\n        } else this.effectShaderQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(e));\n    }\n    configureDenoisePass(logarithmicDepthBuffer = false) {\n        this.samplesDenoise = this.generateDenoiseSamples(this.configuration.denoiseSamples, 11);\n        const p = {\n            ...(0, $e52378cd0f5a973d$export$57856b59f317262e)\n        };\n        p.fragmentShader = p.fragmentShader.replace(\"16\", this.configuration.denoiseSamples);\n        if (logarithmicDepthBuffer) p.fragmentShader = \"#define LOGDEPTH\\n\" + p.fragmentShader;\n        if (this.poissonBlurQuad) {\n            this.poissonBlurQuad.material.dispose();\n            this.poissonBlurQuad.material = new $5Whe3$ShaderMaterial(p);\n        } else this.poissonBlurQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(p));\n    }\n    configureEffectCompositer(logarithmicDepthBuffer = false) {\n        const e = {\n            ...(0, $12b21d24d1192a04$export$a815acccbd2c9a49)\n        };\n        if (logarithmicDepthBuffer) e.fragmentShader = \"#define LOGDEPTH\\n\" + e.fragmentShader;\n        if (this.configuration.halfRes && this.configuration.depthAwareUpsampling) e.fragmentShader = \"#define HALFRES\\n\" + e.fragmentShader;\n        if (this.effectCompositerQuad) {\n            this.effectCompositerQuad.material.dispose();\n            this.effectCompositerQuad.material = new $5Whe3$ShaderMaterial(e);\n        } else this.effectCompositerQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(e));\n    }\n    /**\n         * \n         * @param {Number} n \n         * @returns {THREE.Vector3[]}\n         */ generateHemisphereSamples(n) {\n        const points = [];\n        for(let k = 0; k < n; k++){\n            const theta = 2.399963 * k;\n            const r = Math.sqrt(k + 0.5) / Math.sqrt(n);\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            // Project to hemisphere\n            const z = Math.sqrt(1 - (x * x + y * y));\n            points.push(new $5Whe3$Vector3(x, y, z));\n        }\n        return points;\n    }\n    /**\n         * \n         * @param {number} numSamples \n         * @param {number} numRings \n         * @returns {THREE.Vector2[]}\n         */ generateDenoiseSamples(numSamples, numRings) {\n        const angleStep = 2 * Math.PI * numRings / numSamples;\n        const invNumSamples = 1.0 / numSamples;\n        const radiusStep = invNumSamples;\n        const samples = [];\n        let radius = invNumSamples;\n        let angle = 0;\n        for(let i = 0; i < numSamples; i++){\n            samples.push(new $5Whe3$Vector2(Math.cos(angle), Math.sin(angle)).multiplyScalar(Math.pow(radius, 0.75)));\n            radius += radiusStep;\n            angle += angleStep;\n        }\n        return samples;\n    }\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n        const c = this.configuration.halfRes ? 0.5 : 1;\n        this.writeTargetInternal.setSize(width * c, height * c);\n        this.readTargetInternal.setSize(width * c, height * c);\n        if (this.configuration.halfRes) this.depthDownsampleTarget.setSize(width * c, height * c);\n        if (this.configuration.transparencyAware) {\n            this.transparencyRenderTargetDWFalse.setSize(width, height);\n            this.transparencyRenderTargetDWTrue.setSize(width, height);\n        }\n        this.outputTargetInternal.setSize(width, height);\n    }\n    setDepthTexture(depthTexture) {\n        this.depthTexture = depthTexture;\n    }\n    render(renderer, inputBuffer, outputBuffer) {\n        const xrEnabled = renderer.xr.enabled;\n        renderer.xr.enabled = false;\n        // Copy inputBuffer to outputBuffer\n        //renderer.setRenderTarget(outputBuffer);\n        //  this.copyQuad.material.uniforms.tDiffuse.value = inputBuffer.texture;\n        //   this.copyQuad.render(renderer);\n        if (renderer.capabilities.logarithmicDepthBuffer !== this.configuration.logarithmicDepthBuffer) {\n            this.configuration.logarithmicDepthBuffer = renderer.capabilities.logarithmicDepthBuffer;\n            this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n            this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n            this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n        }\n        this.detectTransparency();\n        if (inputBuffer.texture.type !== this.outputTargetInternal.texture.type || inputBuffer.texture.format !== this.outputTargetInternal.texture.format) {\n            this.outputTargetInternal.texture.type = inputBuffer.texture.type;\n            this.outputTargetInternal.texture.format = inputBuffer.texture.format;\n            this.outputTargetInternal.texture.needsUpdate = true;\n        }\n        let gl;\n        let ext;\n        let timerQuery;\n        if (this.debugMode) {\n            gl = renderer.getContext();\n            ext = gl.getExtension(\"EXT_disjoint_timer_query_webgl2\");\n            if (ext === null) {\n                console.error(\"EXT_disjoint_timer_query_webgl2 not available, disabling debug mode.\");\n                this.debugMode = false;\n            }\n        }\n        if (this.debugMode) {\n            timerQuery = gl.createQuery();\n            gl.beginQuery(ext.TIME_ELAPSED_EXT, timerQuery);\n        }\n        this.camera.updateMatrixWorld();\n        if (this.configuration.transparencyAware) this.renderTransparency(renderer);\n        this._r.set(this.width, this.height);\n        let trueRadius = this.configuration.aoRadius;\n        if (this.configuration.halfRes && this.configuration.screenSpaceRadius) trueRadius *= 0.5;\n        if (this.configuration.halfRes) {\n            renderer.setRenderTarget(this.depthDownsampleTarget);\n            this.depthDownsampleQuad.material.uniforms.sceneDepth.value = this.depthTexture;\n            this.depthDownsampleQuad.material.uniforms.resolution.value = this._r;\n            this.depthDownsampleQuad.material.uniforms[\"near\"].value = this.camera.near;\n            this.depthDownsampleQuad.material.uniforms[\"far\"].value = this.camera.far;\n            this.depthDownsampleQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n            this.depthDownsampleQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n            this.depthDownsampleQuad.material.uniforms[\"logDepth\"].value = this.configuration.logarithmicDepthBuffer;\n            this.depthDownsampleQuad.render(renderer);\n        }\n        this.effectShaderQuad.material.uniforms[\"sceneDiffuse\"].value = inputBuffer.texture;\n        this.effectShaderQuad.material.uniforms[\"sceneDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture;\n        this.effectShaderQuad.material.uniforms[\"sceneNormal\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[1] : null;\n        this.effectShaderQuad.material.uniforms[\"projMat\"].value = this.camera.projectionMatrix;\n        this.effectShaderQuad.material.uniforms[\"viewMat\"].value = this.camera.matrixWorldInverse;\n        this.effectShaderQuad.material.uniforms[\"projViewMat\"].value = this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone());\n        this.effectShaderQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n        this.effectShaderQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n        this.effectShaderQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n        this.effectShaderQuad.material.uniforms[\"resolution\"].value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r;\n        this.effectShaderQuad.material.uniforms[\"time\"].value = performance.now() / 1000;\n        this.effectShaderQuad.material.uniforms[\"samples\"].value = this.samples;\n        this.effectShaderQuad.material.uniforms[\"bluenoise\"].value = this.bluenoise;\n        this.effectShaderQuad.material.uniforms[\"radius\"].value = trueRadius;\n        this.effectShaderQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n        this.effectShaderQuad.material.uniforms[\"near\"].value = this.camera.near;\n        this.effectShaderQuad.material.uniforms[\"far\"].value = this.camera.far;\n        this.effectShaderQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n        this.effectShaderQuad.material.uniforms[\"ortho\"].value = this.camera.isOrthographicCamera;\n        this.effectShaderQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n        // Start the AO\n        renderer.setRenderTarget(this.writeTargetInternal);\n        this.effectShaderQuad.render(renderer);\n        // End the AO\n        // Start the blur\n        for(let i = 0; i < this.configuration.denoiseIterations; i++){\n            [this.writeTargetInternal, this.readTargetInternal] = [\n                this.readTargetInternal,\n                this.writeTargetInternal\n            ];\n            this.poissonBlurQuad.material.uniforms[\"tDiffuse\"].value = this.readTargetInternal.texture;\n            this.poissonBlurQuad.material.uniforms[\"sceneDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture;\n            this.poissonBlurQuad.material.uniforms[\"projMat\"].value = this.camera.projectionMatrix;\n            this.poissonBlurQuad.material.uniforms[\"viewMat\"].value = this.camera.matrixWorldInverse;\n            this.poissonBlurQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n            this.poissonBlurQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n            this.poissonBlurQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n            this.poissonBlurQuad.material.uniforms[\"resolution\"].value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r;\n            this.poissonBlurQuad.material.uniforms[\"time\"].value = performance.now() / 1000;\n            this.poissonBlurQuad.material.uniforms[\"blueNoise\"].value = this.bluenoise;\n            this.poissonBlurQuad.material.uniforms[\"radius\"].value = this.configuration.denoiseRadius * (this.configuration.halfRes ? 0.5 : 1);\n            this.poissonBlurQuad.material.uniforms[\"worldRadius\"].value = trueRadius;\n            this.poissonBlurQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n            this.poissonBlurQuad.material.uniforms[\"index\"].value = i;\n            this.poissonBlurQuad.material.uniforms[\"poissonDisk\"].value = this.samplesDenoise;\n            this.poissonBlurQuad.material.uniforms[\"near\"].value = this.camera.near;\n            this.poissonBlurQuad.material.uniforms[\"far\"].value = this.camera.far;\n            this.poissonBlurQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n            this.poissonBlurQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n            renderer.setRenderTarget(this.writeTargetInternal);\n            this.poissonBlurQuad.render(renderer);\n        }\n        // Now, we have the blurred AO in writeTargetInternal\n        // End the blur\n        // Start the composition\n        if (this.configuration.transparencyAware) {\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWFalse\"].value = this.transparencyRenderTargetDWFalse.texture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWTrue\"].value = this.transparencyRenderTargetDWTrue.texture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWTrueDepth\"].value = this.transparencyRenderTargetDWTrue.depthTexture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyAware\"].value = true;\n        }\n        this.effectCompositerQuad.material.uniforms[\"sceneDiffuse\"].value = inputBuffer.texture;\n        this.effectCompositerQuad.material.uniforms[\"sceneDepth\"].value = this.depthTexture;\n        this.effectCompositerQuad.material.uniforms[\"near\"].value = this.camera.near;\n        this.effectCompositerQuad.material.uniforms[\"far\"].value = this.camera.far;\n        this.effectCompositerQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n        this.effectCompositerQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n        this.effectCompositerQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n        this.effectCompositerQuad.material.uniforms[\"ortho\"].value = this.camera.isOrthographicCamera;\n        this.effectCompositerQuad.material.uniforms[\"downsampledDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture;\n        this.effectCompositerQuad.material.uniforms[\"resolution\"].value = this._r;\n        this.effectCompositerQuad.material.uniforms[\"blueNoise\"].value = this.bluenoise;\n        this.effectCompositerQuad.material.uniforms[\"intensity\"].value = this.configuration.intensity;\n        this.effectCompositerQuad.material.uniforms[\"renderMode\"].value = this.configuration.renderMode;\n        this.effectCompositerQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n        this.effectCompositerQuad.material.uniforms[\"radius\"].value = trueRadius;\n        this.effectCompositerQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n        this.effectCompositerQuad.material.uniforms[\"gammaCorrection\"].value = this.autosetGamma ? this.renderToScreen : this.configuration.gammaCorrection;\n        this.effectCompositerQuad.material.uniforms[\"tDiffuse\"].value = this.writeTargetInternal.texture;\n        this.effectCompositerQuad.material.uniforms[\"color\"].value = this._c.copy(this.configuration.color).convertSRGBToLinear();\n        this.effectCompositerQuad.material.uniforms[\"colorMultiply\"].value = this.configuration.colorMultiply;\n        this.effectCompositerQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n        this.effectCompositerQuad.material.uniforms[\"fog\"].value = !!this.scene.fog;\n        if (this.scene.fog) {\n            if (this.scene.fog.isFog) {\n                this.effectCompositerQuad.material.uniforms[\"fogExp\"].value = false;\n                this.effectCompositerQuad.material.uniforms[\"fogNear\"].value = this.scene.fog.near;\n                this.effectCompositerQuad.material.uniforms[\"fogFar\"].value = this.scene.fog.far;\n            } else if (this.scene.fog.isFogExp2) {\n                this.effectCompositerQuad.material.uniforms[\"fogExp\"].value = true;\n                this.effectCompositerQuad.material.uniforms[\"fogDensity\"].value = this.scene.fog.density;\n            } else console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`);\n        }\n        renderer.setRenderTarget(/* this.renderToScreen ? null :\n                 outputBuffer*/ this.outputTargetInternal);\n        this.effectCompositerQuad.render(renderer);\n        renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n        this.copyQuad.material.uniforms[\"tDiffuse\"].value = this.outputTargetInternal.texture;\n        this.copyQuad.render(renderer);\n        if (this.debugMode) {\n            gl.endQuery(ext.TIME_ELAPSED_EXT);\n            $87431ee93b037844$var$checkTimerQuery(timerQuery, gl, this);\n        }\n        renderer.xr.enabled = xrEnabled;\n    }\n    /**\n         * Enables the debug mode of the AO, meaning the lastTime value will be updated.\n         */ enableDebugMode() {\n        this.debugMode = true;\n    }\n    /**\n         * Disables the debug mode of the AO, meaning the lastTime value will not be updated.\n         */ disableDebugMode() {\n        this.debugMode = false;\n    }\n    /**\n         * Sets the display mode of the AO\n         * @param {\"Combined\" | \"AO\" | \"No AO\" | \"Split\" | \"Split AO\"} mode - The display mode. \n         */ setDisplayMode(mode) {\n        this.configuration.renderMode = [\n            \"Combined\",\n            \"AO\",\n            \"No AO\",\n            \"Split\",\n            \"Split AO\"\n        ].indexOf(mode);\n    }\n    /**\n         * \n         * @param {\"Performance\" | \"Low\" | \"Medium\" | \"High\" | \"Ultra\"} mode \n         */ setQualityMode(mode) {\n        if (mode === \"Performance\") {\n            this.configuration.aoSamples = 8;\n            this.configuration.denoiseSamples = 4;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"Low\") {\n            this.configuration.aoSamples = 16;\n            this.configuration.denoiseSamples = 4;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"Medium\") {\n            this.configuration.aoSamples = 16;\n            this.configuration.denoiseSamples = 8;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"High\") {\n            this.configuration.aoSamples = 64;\n            this.configuration.denoiseSamples = 8;\n            this.configuration.denoiseRadius = 6;\n        } else if (mode === \"Ultra\") {\n            this.configuration.aoSamples = 64;\n            this.configuration.denoiseSamples = 16;\n            this.configuration.denoiseRadius = 6;\n        }\n    }\n}\n\n\n\nconst $05f6997e4b65da14$var$bluenoiseBits = Uint8Array.from(atob((0, $06269ad78f3c5fdf$export$2e2bcd8739ae039)), (c)=>c.charCodeAt(0));\n/**\n * \n * @param {*} timerQuery \n * @param {THREE.WebGLRenderer} gl \n * @param {N8AOPass} pass \n */ function $05f6997e4b65da14$var$checkTimerQuery(timerQuery, gl, pass) {\n    const available = gl.getQueryParameter(timerQuery, gl.QUERY_RESULT_AVAILABLE);\n    if (available) {\n        const elapsedTimeInNs = gl.getQueryParameter(timerQuery, gl.QUERY_RESULT);\n        const elapsedTimeInMs = elapsedTimeInNs / 1000000;\n        pass.lastTime = elapsedTimeInMs;\n    } else // If the result is not available yet, check again after a delay\n    setTimeout(()=>{\n        $05f6997e4b65da14$var$checkTimerQuery(timerQuery, gl, pass);\n    }, 1);\n}\nclass $05f6997e4b65da14$export$2d57db20b5eb5e0a extends (0, $5Whe3$Pass) {\n    /**\n     * \n     * @param {THREE.Scene} scene\n     * @param {THREE.Camera} camera \n     * @param {number} width \n     * @param {number} height\n     *  \n     * @property {THREE.Scene} scene\n     * @property {THREE.Camera} camera\n     * @property {number} width\n     * @property {number} height\n     */ constructor(scene, camera, width = 512, height = 512){\n        super();\n        this.width = width;\n        this.height = height;\n        this.clear = true;\n        this.camera = camera;\n        this.scene = scene;\n        /**\n         * @type {Proxy & {\n         * aoSamples: number,\n         * aoRadius: number,\n         * denoiseSamples: number,\n         * denoiseRadius: number,\n         * distanceFalloff: number,\n         * intensity: number,\n         * denoiseIterations: number,\n         * renderMode: 0 | 1 | 2 | 3 | 4,\n         * color: THREE.Color,\n         * gammaCorrection: boolean,\n         * logarithmicDepthBuffer: boolean\n         * screenSpaceRadius: boolean,\n         * halfRes: boolean,\n         * depthAwareUpsampling: boolean,\n         * autoRenderBeauty: boolean\n         * colorMultiply: boolean\n         * }\n         */ this.configuration = new Proxy({\n            aoSamples: 16,\n            aoRadius: 5.0,\n            denoiseSamples: 8,\n            denoiseRadius: 12,\n            distanceFalloff: 1.0,\n            intensity: 5,\n            denoiseIterations: 2.0,\n            renderMode: 0,\n            color: new $5Whe3$Color(0, 0, 0),\n            gammaCorrection: true,\n            logarithmicDepthBuffer: false,\n            screenSpaceRadius: false,\n            halfRes: false,\n            depthAwareUpsampling: true,\n            autoRenderBeauty: true,\n            colorMultiply: true,\n            transparencyAware: false,\n            stencil: false\n        }, {\n            set: (target, propName, value)=>{\n                const oldProp = target[propName];\n                target[propName] = value;\n                if (propName === \"aoSamples\" && oldProp !== value) this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"denoiseSamples\" && oldProp !== value) this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"halfRes\" && oldProp !== value) {\n                    this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n                    this.configureHalfResTargets();\n                    this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n                    this.setSize(this.width, this.height);\n                }\n                if (propName === \"depthAwareUpsampling\" && oldProp !== value) this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n                if (propName === \"transparencyAware\" && oldProp !== value) {\n                    this.autoDetectTransparency = false;\n                    this.configureTransparencyTarget();\n                }\n                if (propName === \"stencil\" && oldProp !== value) {\n                    /*  this.beautyRenderTarget.stencilBuffer = value;\n                      this.beautyRenderTarget.depthTexture.format = value ? THREE.DepthStencilFormat : THREE.DepthFormat;\n                      this.beautyRenderTarget.depthTexture.type = value ? THREE.UnsignedInt248Type : THREE.UnsignedIntType;\n                      this.beautyRenderTarget.depthTexture.needsUpdate = true;\n                      this.beautyRenderTarget.needsUpdate = true;*/ this.beautyRenderTarget.dispose();\n                    this.beautyRenderTarget = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n                        minFilter: $5Whe3$LinearFilter,\n                        magFilter: $5Whe3$NearestFilter,\n                        type: $5Whe3$HalfFloatType,\n                        format: $5Whe3$RGBAFormat,\n                        stencilBuffer: value\n                    });\n                    this.beautyRenderTarget.depthTexture = new $5Whe3$DepthTexture(this.width, this.height, value ? $5Whe3$UnsignedInt248Type : $5Whe3$UnsignedIntType);\n                    this.beautyRenderTarget.depthTexture.format = value ? $5Whe3$DepthStencilFormat : $5Whe3$DepthFormat;\n                }\n                return true;\n            }\n        });\n        /** @type {THREE.Vector3[]} */ this.samples = [];\n        /** @type {THREE.Vector2[]} */ this.samplesDenoise = [];\n        this.autoDetectTransparency = true;\n        this.beautyRenderTarget = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$NearestFilter,\n            type: $5Whe3$HalfFloatType,\n            format: $5Whe3$RGBAFormat,\n            stencilBuffer: false\n        });\n        this.beautyRenderTarget.depthTexture = new $5Whe3$DepthTexture(this.width, this.height, $5Whe3$UnsignedIntType);\n        this.beautyRenderTarget.depthTexture.format = $5Whe3$DepthFormat;\n        this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n        this.configureSampleDependentPasses();\n        this.configureHalfResTargets();\n        this.detectTransparency();\n        this.configureTransparencyTarget();\n        this.writeTargetInternal = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$LinearFilter,\n            depthBuffer: false\n        });\n        this.readTargetInternal = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n            minFilter: $5Whe3$LinearFilter,\n            magFilter: $5Whe3$LinearFilter,\n            depthBuffer: false\n        });\n        /** @type {THREE.DataTexture} */ this.bluenoise = new $5Whe3$DataTexture($05f6997e4b65da14$var$bluenoiseBits, 128, 128);\n        this.bluenoise.colorSpace = $5Whe3$NoColorSpace;\n        this.bluenoise.wrapS = $5Whe3$RepeatWrapping;\n        this.bluenoise.wrapT = $5Whe3$RepeatWrapping;\n        this.bluenoise.minFilter = $5Whe3$NearestFilter;\n        this.bluenoise.magFilter = $5Whe3$NearestFilter;\n        this.bluenoise.needsUpdate = true;\n        this.lastTime = 0;\n        this._r = new $5Whe3$Vector2();\n        this._c = new $5Whe3$Color();\n    }\n    configureHalfResTargets() {\n        if (this.configuration.halfRes) {\n            this.depthDownsampleTarget = /*new THREE.WebGLRenderTarget(this.width / 2, this.height / 2, {\n                               minFilter: THREE.NearestFilter,\n                               magFilter: THREE.NearestFilter,\n                               depthBuffer: false,\n                               format: THREE.RedFormat,\n                               type: THREE.FloatType\n                           });*/ new $5Whe3$WebGLMultipleRenderTargets(this.width / 2, this.height / 2, 2);\n            this.depthDownsampleTarget.texture[0].format = $5Whe3$RedFormat;\n            this.depthDownsampleTarget.texture[0].type = $5Whe3$FloatType;\n            this.depthDownsampleTarget.texture[0].minFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[0].magFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[0].depthBuffer = false;\n            this.depthDownsampleTarget.texture[1].format = $5Whe3$RGBAFormat;\n            this.depthDownsampleTarget.texture[1].type = $5Whe3$HalfFloatType;\n            this.depthDownsampleTarget.texture[1].minFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[1].magFilter = $5Whe3$NearestFilter;\n            this.depthDownsampleTarget.texture[1].depthBuffer = false;\n            this.depthDownsampleQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial((0, $26aca173e0984d99$export$1efdf491687cd442)));\n        } else {\n            if (this.depthDownsampleTarget) {\n                this.depthDownsampleTarget.dispose();\n                this.depthDownsampleTarget = null;\n            }\n            if (this.depthDownsampleQuad) {\n                this.depthDownsampleQuad.dispose();\n                this.depthDownsampleQuad = null;\n            }\n        }\n    }\n    detectTransparency() {\n        if (this.autoDetectTransparency) {\n            let isTransparency = false;\n            this.scene.traverse((obj)=>{\n                if (obj.material && obj.material.transparent) isTransparency = true;\n            });\n            this.configuration.transparencyAware = isTransparency;\n        }\n    }\n    configureTransparencyTarget() {\n        if (this.configuration.transparencyAware) {\n            this.transparencyRenderTargetDWFalse = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n                minFilter: $5Whe3$LinearFilter,\n                magFilter: $5Whe3$NearestFilter,\n                type: $5Whe3$HalfFloatType,\n                format: $5Whe3$RGBAFormat\n            });\n            this.transparencyRenderTargetDWTrue = new $5Whe3$WebGLRenderTarget(this.width, this.height, {\n                minFilter: $5Whe3$LinearFilter,\n                magFilter: $5Whe3$NearestFilter,\n                type: $5Whe3$HalfFloatType,\n                format: $5Whe3$RGBAFormat\n            });\n            this.transparencyRenderTargetDWTrue.depthTexture = new $5Whe3$DepthTexture(this.width, this.height, $5Whe3$UnsignedIntType);\n            this.depthCopyPass = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial({\n                uniforms: {\n                    depthTexture: {\n                        value: this.beautyRenderTarget.depthTexture\n                    }\n                },\n                vertexShader: /* glsl */ `\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }`,\n                fragmentShader: /* glsl */ `\n            uniform sampler2D depthTexture;\n            varying vec2 vUv;\n            void main() {\n               gl_FragDepth = texture2D(depthTexture, vUv).r + 0.00001;\n               gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n            }\n            `\n            }));\n        } else {\n            if (this.transparencyRenderTargetDWFalse) {\n                this.transparencyRenderTargetDWFalse.dispose();\n                this.transparencyRenderTargetDWFalse = null;\n            }\n            if (this.transparencyRenderTargetDWTrue) {\n                this.transparencyRenderTargetDWTrue.dispose();\n                this.transparencyRenderTargetDWTrue = null;\n            }\n            if (this.depthCopyPass) {\n                this.depthCopyPass.dispose();\n                this.depthCopyPass = null;\n            }\n        }\n    }\n    renderTransparency(renderer) {\n        const oldBackground = this.scene.background;\n        const oldClearColor = renderer.getClearColor(new $5Whe3$Color());\n        const oldClearAlpha = renderer.getClearAlpha();\n        const oldVisibility = new Map();\n        const oldAutoClearDepth = renderer.autoClearDepth;\n        this.scene.traverse((obj)=>{\n            oldVisibility.set(obj, obj.visible);\n        });\n        // Override the state\n        this.scene.background = null;\n        renderer.autoClearDepth = false;\n        renderer.setClearColor(new $5Whe3$Color(0, 0, 0), 0);\n        this.depthCopyPass.material.uniforms.depthTexture.value = this.beautyRenderTarget.depthTexture;\n        // Render out transparent objects WITHOUT depth write\n        renderer.setRenderTarget(this.transparencyRenderTargetDWFalse);\n        this.scene.traverse((obj)=>{\n            if (obj.material) obj.visible = oldVisibility.get(obj) && obj.material.transparent && !obj.material.depthWrite && !obj.userData.treatAsOpaque;\n        });\n        renderer.clear(true, true, true);\n        this.depthCopyPass.render(renderer);\n        renderer.render(this.scene, this.camera);\n        // Render out transparent objects WITH depth write\n        renderer.setRenderTarget(this.transparencyRenderTargetDWTrue);\n        this.scene.traverse((obj)=>{\n            if (obj.material) obj.visible = oldVisibility.get(obj) && obj.material.transparent && obj.material.depthWrite && !obj.userData.treatAsOpaque;\n        });\n        renderer.clear(true, true, true);\n        this.depthCopyPass.render(renderer);\n        renderer.render(this.scene, this.camera);\n        // Restore\n        this.scene.traverse((obj)=>{\n            obj.visible = oldVisibility.get(obj);\n        });\n        renderer.setClearColor(oldClearColor, oldClearAlpha);\n        this.scene.background = oldBackground;\n        renderer.autoClearDepth = oldAutoClearDepth;\n    }\n    configureSampleDependentPasses() {\n        this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n        this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n    }\n    configureAOPass(logarithmicDepthBuffer = false) {\n        this.samples = this.generateHemisphereSamples(this.configuration.aoSamples);\n        const e = {\n            ...(0, $1ed45968c1160c3c$export$c9b263b9a17dffd7)\n        };\n        e.fragmentShader = e.fragmentShader.replace(\"16\", this.configuration.aoSamples).replace(\"16.0\", this.configuration.aoSamples + \".0\");\n        if (logarithmicDepthBuffer) e.fragmentShader = \"#define LOGDEPTH\\n\" + e.fragmentShader;\n        if (this.configuration.halfRes) e.fragmentShader = \"#define HALFRES\\n\" + e.fragmentShader;\n        if (this.effectShaderQuad) {\n            this.effectShaderQuad.material.dispose();\n            this.effectShaderQuad.material = new $5Whe3$ShaderMaterial(e);\n        } else this.effectShaderQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(e));\n    }\n    configureDenoisePass(logarithmicDepthBuffer = false) {\n        this.samplesDenoise = this.generateDenoiseSamples(this.configuration.denoiseSamples, 11);\n        const p = {\n            ...(0, $e52378cd0f5a973d$export$57856b59f317262e)\n        };\n        p.fragmentShader = p.fragmentShader.replace(\"16\", this.configuration.denoiseSamples);\n        if (logarithmicDepthBuffer) p.fragmentShader = \"#define LOGDEPTH\\n\" + p.fragmentShader;\n        if (this.poissonBlurQuad) {\n            this.poissonBlurQuad.material.dispose();\n            this.poissonBlurQuad.material = new $5Whe3$ShaderMaterial(p);\n        } else this.poissonBlurQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(p));\n    }\n    configureEffectCompositer(logarithmicDepthBuffer = false) {\n        const e = {\n            ...(0, $12b21d24d1192a04$export$a815acccbd2c9a49)\n        };\n        if (logarithmicDepthBuffer) e.fragmentShader = \"#define LOGDEPTH\\n\" + e.fragmentShader;\n        if (this.configuration.halfRes && this.configuration.depthAwareUpsampling) e.fragmentShader = \"#define HALFRES\\n\" + e.fragmentShader;\n        if (this.effectCompositerQuad) {\n            this.effectCompositerQuad.material.dispose();\n            this.effectCompositerQuad.material = new $5Whe3$ShaderMaterial(e);\n        } else this.effectCompositerQuad = new (0, $e4ca8dcb0218f846$export$dcd670d73db751f5)(new $5Whe3$ShaderMaterial(e));\n    }\n    /**\n         * \n         * @param {Number} n \n         * @returns {THREE.Vector3[]}\n         */ generateHemisphereSamples(n) {\n        const points = [];\n        for(let k = 0; k < n; k++){\n            const theta = 2.399963 * k;\n            let r = Math.sqrt(k + 0.5) / Math.sqrt(n);\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            // Project to hemisphere\n            const z = Math.sqrt(1 - (x * x + y * y));\n            points.push(new $5Whe3$Vector3(x, y, z));\n        }\n        return points;\n    }\n    /**\n         * \n         * @param {number} numSamples \n         * @param {number} numRings \n         * @returns {THREE.Vector2[]}\n         */ generateDenoiseSamples(numSamples, numRings) {\n        const angleStep = 2 * Math.PI * numRings / numSamples;\n        const invNumSamples = 1.0 / numSamples;\n        const radiusStep = invNumSamples;\n        const samples = [];\n        let radius = invNumSamples;\n        let angle = 0;\n        for(let i = 0; i < numSamples; i++){\n            samples.push(new $5Whe3$Vector2(Math.cos(angle), Math.sin(angle)).multiplyScalar(Math.pow(radius, 0.75)));\n            radius += radiusStep;\n            angle += angleStep;\n        }\n        return samples;\n    }\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n        const c = this.configuration.halfRes ? 0.5 : 1;\n        this.beautyRenderTarget.setSize(width, height);\n        this.writeTargetInternal.setSize(width * c, height * c);\n        this.readTargetInternal.setSize(width * c, height * c);\n        if (this.configuration.halfRes) this.depthDownsampleTarget.setSize(width * c, height * c);\n        if (this.configuration.transparencyAware) {\n            this.transparencyRenderTargetDWFalse.setSize(width, height);\n            this.transparencyRenderTargetDWTrue.setSize(width, height);\n        }\n    }\n    render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n        if (renderer.capabilities.logarithmicDepthBuffer !== this.configuration.logarithmicDepthBuffer) {\n            this.configuration.logarithmicDepthBuffer = renderer.capabilities.logarithmicDepthBuffer;\n            this.configureAOPass(this.configuration.logarithmicDepthBuffer);\n            this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);\n            this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer);\n        }\n        this.detectTransparency();\n        let gl;\n        let ext;\n        let timerQuery;\n        if (this.debugMode) {\n            gl = renderer.getContext();\n            ext = gl.getExtension(\"EXT_disjoint_timer_query_webgl2\");\n            if (ext === null) {\n                console.error(\"EXT_disjoint_timer_query_webgl2 not available, disabling debug mode.\");\n                this.debugMode = false;\n            }\n        }\n        if (this.configuration.autoRenderBeauty) {\n            renderer.setRenderTarget(this.beautyRenderTarget);\n            renderer.render(this.scene, this.camera);\n            if (this.configuration.transparencyAware) this.renderTransparency(renderer);\n        }\n        if (this.debugMode) {\n            timerQuery = gl.createQuery();\n            gl.beginQuery(ext.TIME_ELAPSED_EXT, timerQuery);\n        }\n        const xrEnabled = renderer.xr.enabled;\n        renderer.xr.enabled = false;\n        this.camera.updateMatrixWorld();\n        this._r.set(this.width, this.height);\n        let trueRadius = this.configuration.aoRadius;\n        if (this.configuration.halfRes && this.configuration.screenSpaceRadius) trueRadius *= 0.5;\n        if (this.configuration.halfRes) {\n            renderer.setRenderTarget(this.depthDownsampleTarget);\n            this.depthDownsampleQuad.material.uniforms.sceneDepth.value = this.beautyRenderTarget.depthTexture;\n            this.depthDownsampleQuad.material.uniforms.resolution.value = this._r;\n            this.depthDownsampleQuad.material.uniforms[\"near\"].value = this.camera.near;\n            this.depthDownsampleQuad.material.uniforms[\"far\"].value = this.camera.far;\n            this.depthDownsampleQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n            this.depthDownsampleQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n            this.depthDownsampleQuad.material.uniforms[\"logDepth\"].value = this.configuration.logarithmicDepthBuffer;\n            this.depthDownsampleQuad.render(renderer);\n        }\n        this.effectShaderQuad.material.uniforms[\"sceneDiffuse\"].value = this.beautyRenderTarget.texture;\n        this.effectShaderQuad.material.uniforms[\"sceneDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.beautyRenderTarget.depthTexture;\n        this.effectShaderQuad.material.uniforms[\"sceneNormal\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[1] : null;\n        this.effectShaderQuad.material.uniforms[\"projMat\"].value = this.camera.projectionMatrix;\n        this.effectShaderQuad.material.uniforms[\"viewMat\"].value = this.camera.matrixWorldInverse;\n        this.effectShaderQuad.material.uniforms[\"projViewMat\"].value = this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone());\n        this.effectShaderQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n        this.effectShaderQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n        this.effectShaderQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n        this.effectShaderQuad.material.uniforms[\"resolution\"].value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r;\n        this.effectShaderQuad.material.uniforms[\"time\"].value = performance.now() / 1000;\n        this.effectShaderQuad.material.uniforms[\"samples\"].value = this.samples;\n        this.effectShaderQuad.material.uniforms[\"bluenoise\"].value = this.bluenoise;\n        this.effectShaderQuad.material.uniforms[\"radius\"].value = trueRadius;\n        this.effectShaderQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n        this.effectShaderQuad.material.uniforms[\"near\"].value = this.camera.near;\n        this.effectShaderQuad.material.uniforms[\"far\"].value = this.camera.far;\n        this.effectShaderQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n        this.effectShaderQuad.material.uniforms[\"ortho\"].value = this.camera.isOrthographicCamera;\n        this.effectShaderQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n        // Start the AO\n        renderer.setRenderTarget(this.writeTargetInternal);\n        this.effectShaderQuad.render(renderer);\n        // End the AO\n        // Start the blur\n        for(let i = 0; i < this.configuration.denoiseIterations; i++){\n            [this.writeTargetInternal, this.readTargetInternal] = [\n                this.readTargetInternal,\n                this.writeTargetInternal\n            ];\n            this.poissonBlurQuad.material.uniforms[\"tDiffuse\"].value = this.readTargetInternal.texture;\n            this.poissonBlurQuad.material.uniforms[\"sceneDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.beautyRenderTarget.depthTexture;\n            this.poissonBlurQuad.material.uniforms[\"projMat\"].value = this.camera.projectionMatrix;\n            this.poissonBlurQuad.material.uniforms[\"viewMat\"].value = this.camera.matrixWorldInverse;\n            this.poissonBlurQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n            this.poissonBlurQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n            this.poissonBlurQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n            this.poissonBlurQuad.material.uniforms[\"resolution\"].value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r;\n            this.poissonBlurQuad.material.uniforms[\"time\"].value = performance.now() / 1000;\n            this.poissonBlurQuad.material.uniforms[\"blueNoise\"].value = this.bluenoise;\n            this.poissonBlurQuad.material.uniforms[\"radius\"].value = this.configuration.denoiseRadius * (this.configuration.halfRes ? 0.5 : 1);\n            this.poissonBlurQuad.material.uniforms[\"worldRadius\"].value = trueRadius;\n            this.poissonBlurQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n            this.poissonBlurQuad.material.uniforms[\"index\"].value = i;\n            this.poissonBlurQuad.material.uniforms[\"poissonDisk\"].value = this.samplesDenoise;\n            this.poissonBlurQuad.material.uniforms[\"near\"].value = this.camera.near;\n            this.poissonBlurQuad.material.uniforms[\"far\"].value = this.camera.far;\n            this.poissonBlurQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n            this.poissonBlurQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n            renderer.setRenderTarget(this.writeTargetInternal);\n            this.poissonBlurQuad.render(renderer);\n        }\n        // Now, we have the blurred AO in writeTargetInternal\n        // End the blur\n        // Start the composition\n        if (this.configuration.transparencyAware) {\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWFalse\"].value = this.transparencyRenderTargetDWFalse.texture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWTrue\"].value = this.transparencyRenderTargetDWTrue.texture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyDWTrueDepth\"].value = this.transparencyRenderTargetDWTrue.depthTexture;\n            this.effectCompositerQuad.material.uniforms[\"transparencyAware\"].value = true;\n        }\n        this.effectCompositerQuad.material.uniforms[\"sceneDiffuse\"].value = this.beautyRenderTarget.texture;\n        this.effectCompositerQuad.material.uniforms[\"sceneDepth\"].value = this.beautyRenderTarget.depthTexture;\n        this.effectCompositerQuad.material.uniforms[\"near\"].value = this.camera.near;\n        this.effectCompositerQuad.material.uniforms[\"far\"].value = this.camera.far;\n        this.effectCompositerQuad.material.uniforms[\"projectionMatrixInv\"].value = this.camera.projectionMatrixInverse;\n        this.effectCompositerQuad.material.uniforms[\"viewMatrixInv\"].value = this.camera.matrixWorld;\n        this.effectCompositerQuad.material.uniforms[\"logDepth\"].value = renderer.capabilities.logarithmicDepthBuffer;\n        this.effectCompositerQuad.material.uniforms[\"ortho\"].value = this.camera.isOrthographicCamera;\n        this.effectCompositerQuad.material.uniforms[\"downsampledDepth\"].value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.beautyRenderTarget.depthTexture;\n        this.effectCompositerQuad.material.uniforms[\"resolution\"].value = this._r;\n        this.effectCompositerQuad.material.uniforms[\"blueNoise\"].value = this.bluenoise;\n        this.effectCompositerQuad.material.uniforms[\"intensity\"].value = this.configuration.intensity;\n        this.effectCompositerQuad.material.uniforms[\"renderMode\"].value = this.configuration.renderMode;\n        this.effectCompositerQuad.material.uniforms[\"screenSpaceRadius\"].value = this.configuration.screenSpaceRadius;\n        this.effectCompositerQuad.material.uniforms[\"radius\"].value = trueRadius;\n        this.effectCompositerQuad.material.uniforms[\"distanceFalloff\"].value = this.configuration.distanceFalloff;\n        this.effectCompositerQuad.material.uniforms[\"gammaCorrection\"].value = this.configuration.gammaCorrection;\n        this.effectCompositerQuad.material.uniforms[\"tDiffuse\"].value = this.writeTargetInternal.texture;\n        this.effectCompositerQuad.material.uniforms[\"color\"].value = this._c.copy(this.configuration.color).convertSRGBToLinear();\n        this.effectCompositerQuad.material.uniforms[\"colorMultiply\"].value = this.configuration.colorMultiply;\n        this.effectCompositerQuad.material.uniforms[\"cameraPos\"].value = this.camera.getWorldPosition(new $5Whe3$Vector3());\n        this.effectCompositerQuad.material.uniforms[\"fog\"].value = !!this.scene.fog;\n        if (this.scene.fog) {\n            if (this.scene.fog.isFog) {\n                this.effectCompositerQuad.material.uniforms[\"fogExp\"].value = false;\n                this.effectCompositerQuad.material.uniforms[\"fogNear\"].value = this.scene.fog.near;\n                this.effectCompositerQuad.material.uniforms[\"fogFar\"].value = this.scene.fog.far;\n            } else if (this.scene.fog.isFogExp2) {\n                this.effectCompositerQuad.material.uniforms[\"fogExp\"].value = true;\n                this.effectCompositerQuad.material.uniforms[\"fogDensity\"].value = this.scene.fog.density;\n            } else console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`);\n        }\n        renderer.setRenderTarget(this.renderToScreen ? null : writeBuffer);\n        this.effectCompositerQuad.render(renderer);\n        if (this.debugMode) {\n            gl.endQuery(ext.TIME_ELAPSED_EXT);\n            $05f6997e4b65da14$var$checkTimerQuery(timerQuery, gl, this);\n        }\n        renderer.xr.enabled = xrEnabled;\n    }\n    /**\n         * Enables the debug mode of the AO, meaning the lastTime value will be updated.\n         */ enableDebugMode() {\n        this.debugMode = true;\n    }\n    /**\n         * Disables the debug mode of the AO, meaning the lastTime value will not be updated.\n         */ disableDebugMode() {\n        this.debugMode = false;\n    }\n    /**\n         * Sets the display mode of the AO\n         * @param {\"Combined\" | \"AO\" | \"No AO\" | \"Split\" | \"Split AO\"} mode - The display mode. \n         */ setDisplayMode(mode) {\n        this.configuration.renderMode = [\n            \"Combined\",\n            \"AO\",\n            \"No AO\",\n            \"Split\",\n            \"Split AO\"\n        ].indexOf(mode);\n    }\n    /**\n         * \n         * @param {\"Performance\" | \"Low\" | \"Medium\" | \"High\" | \"Ultra\"} mode \n         */ setQualityMode(mode) {\n        if (mode === \"Performance\") {\n            this.configuration.aoSamples = 8;\n            this.configuration.denoiseSamples = 4;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"Low\") {\n            this.configuration.aoSamples = 16;\n            this.configuration.denoiseSamples = 4;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"Medium\") {\n            this.configuration.aoSamples = 16;\n            this.configuration.denoiseSamples = 8;\n            this.configuration.denoiseRadius = 12;\n        } else if (mode === \"High\") {\n            this.configuration.aoSamples = 64;\n            this.configuration.denoiseSamples = 8;\n            this.configuration.denoiseRadius = 6;\n        } else if (mode === \"Ultra\") {\n            this.configuration.aoSamples = 64;\n            this.configuration.denoiseSamples = 16;\n            this.configuration.denoiseRadius = 6;\n        }\n    }\n}\n\n\nexport {$05f6997e4b65da14$export$2d57db20b5eb5e0a as N8AOPass, $87431ee93b037844$export$2489f9981ab0fa82 as N8AOPostPass};\n//# sourceMappingURL=N8AO.js.map\n","import { SpotLight } from 'three';\n\nexport class PhysicalSpotLight extends SpotLight {\n\n\tconstructor( ...args ) {\n\n\t\tsuper( ...args );\n\n\t\tthis.iesTexture = null;\n\t\tthis.radius = 0;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.iesTexture = source.iesTexture;\n\t\tthis.radius = source.radius;\n\n\t\treturn this;\n\n\t}\n\n}\n","import { RectAreaLight } from 'three';\n\nexport class ShapedAreaLight extends RectAreaLight {\n\n\tconstructor( ...args ) {\n\n\t\tsuper( ...args );\n\t\tthis.isCircular = false;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.isCircular = source.isCircular;\n\n\t\treturn this;\n\n\t}\n\n}\n","import { LineBasicMaterial, BufferAttribute, Box3, Group, MeshBasicMaterial, Object3D, BufferGeometry } from 'three';\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\n\nconst boundingBox = /* @__PURE__ */ new Box3();\nclass MeshBVHRootVisualizer extends Object3D {\n\n\tget isMesh() {\n\n\t\treturn ! this.displayEdges;\n\n\t}\n\n\tget isLineSegments() {\n\n\t\treturn this.displayEdges;\n\n\t}\n\n\tget isLine() {\n\n\t\treturn this.displayEdges;\n\n\t}\n\n\tconstructor( mesh, material, depth = 10, group = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.geometry = new BufferGeometry();\n\t\tthis.name = 'MeshBVHRootVisualizer';\n\t\tthis.depth = depth;\n\t\tthis.displayParents = false;\n\t\tthis.mesh = mesh;\n\t\tthis.displayEdges = true;\n\t\tthis._group = group;\n\n\t}\n\n\traycast() {}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst boundsTree = this.mesh.geometry.boundsTree;\n\t\tconst group = this._group;\n\t\tgeometry.dispose();\n\t\tthis.visible = false;\n\t\tif ( boundsTree ) {\n\n\t\t\t// count the number of bounds required\n\t\t\tconst targetDepth = this.depth - 1;\n\t\t\tconst displayParents = this.displayParents;\n\t\t\tlet boundsCount = 0;\n\t\t\tboundsTree.traverse( ( depth, isLeaf ) => {\n\n\t\t\t\tif ( depth === targetDepth || isLeaf ) {\n\n\t\t\t\t\tboundsCount ++;\n\t\t\t\t\treturn true;\n\n\t\t\t\t} else if ( displayParents ) {\n\n\t\t\t\t\tboundsCount ++;\n\n\t\t\t\t}\n\n\t\t\t}, group );\n\n\t\t\t// fill in the position buffer with the bounds corners\n\t\t\tlet posIndex = 0;\n\t\t\tconst positionArray = new Float32Array( 8 * 3 * boundsCount );\n\t\t\tboundsTree.traverse( ( depth, isLeaf, boundingData ) => {\n\n\t\t\t\tconst terminate = depth === targetDepth || isLeaf;\n\t\t\t\tif ( terminate || displayParents ) {\n\n\t\t\t\t\tarrayToBox( 0, boundingData, boundingBox );\n\n\t\t\t\t\tconst { min, max } = boundingBox;\n\t\t\t\t\tfor ( let x = - 1; x <= 1; x += 2 ) {\n\n\t\t\t\t\t\tconst xVal = x < 0 ? min.x : max.x;\n\t\t\t\t\t\tfor ( let y = - 1; y <= 1; y += 2 ) {\n\n\t\t\t\t\t\t\tconst yVal = y < 0 ? min.y : max.y;\n\t\t\t\t\t\t\tfor ( let z = - 1; z <= 1; z += 2 ) {\n\n\t\t\t\t\t\t\t\tconst zVal = z < 0 ? min.z : max.z;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 0 ] = xVal;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 1 ] = yVal;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 2 ] = zVal;\n\n\t\t\t\t\t\t\t\tposIndex += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn terminate;\n\n\t\t\t\t}\n\n\t\t\t}, group );\n\n\t\t\tlet indexArray;\n\t\t\tlet indices;\n\t\t\tif ( this.displayEdges ) {\n\n\t\t\t\t// fill in the index buffer to point to the corner points\n\t\t\t\tindices = new Uint8Array( [\n\t\t\t\t\t// x axis\n\t\t\t\t\t0, 4,\n\t\t\t\t\t1, 5,\n\t\t\t\t\t2, 6,\n\t\t\t\t\t3, 7,\n\n\t\t\t\t\t// y axis\n\t\t\t\t\t0, 2,\n\t\t\t\t\t1, 3,\n\t\t\t\t\t4, 6,\n\t\t\t\t\t5, 7,\n\n\t\t\t\t\t// z axis\n\t\t\t\t\t0, 1,\n\t\t\t\t\t2, 3,\n\t\t\t\t\t4, 5,\n\t\t\t\t\t6, 7,\n\t\t\t\t] );\n\n\t\t\t} else {\n\n\t\t\t\tindices = new Uint8Array( [\n\n\t\t\t\t\t// X-, X+\n\t\t\t\t\t0, 1, 2,\n\t\t\t\t\t2, 1, 3,\n\n\t\t\t\t\t4, 6, 5,\n\t\t\t\t\t6, 7, 5,\n\n\t\t\t\t\t// Y-, Y+\n\t\t\t\t\t1, 4, 5,\n\t\t\t\t\t0, 4, 1,\n\n\t\t\t\t\t2, 3, 6,\n\t\t\t\t\t3, 7, 6,\n\n\t\t\t\t\t// Z-, Z+\n\t\t\t\t\t0, 2, 4,\n\t\t\t\t\t2, 6, 4,\n\n\t\t\t\t\t1, 5, 3,\n\t\t\t\t\t3, 5, 7,\n\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( positionArray.length > 65535 ) {\n\n\t\t\t\tindexArray = new Uint32Array( indices.length * boundsCount );\n\n\t\t\t} else {\n\n\t\t\t\tindexArray = new Uint16Array( indices.length * boundsCount );\n\n\t\t\t}\n\n\t\t\tconst indexLength = indices.length;\n\t\t\tfor ( let i = 0; i < boundsCount; i ++ ) {\n\n\t\t\t\tconst posOffset = i * 8;\n\t\t\t\tconst indexOffset = i * indexLength;\n\t\t\t\tfor ( let j = 0; j < indexLength; j ++ ) {\n\n\t\t\t\t\tindexArray[ indexOffset + j ] = posOffset + indices[ j ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// update the geometry\n\t\t\tgeometry.setIndex(\n\t\t\t\tnew BufferAttribute( indexArray, 1, false ),\n\t\t\t);\n\t\t\tgeometry.setAttribute(\n\t\t\t\t'position',\n\t\t\t\tnew BufferAttribute( positionArray, 3, false ),\n\t\t\t);\n\t\t\tthis.visible = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass MeshBVHVisualizer extends Group {\n\n\tget color() {\n\n\t\treturn this.edgeMaterial.color;\n\n\t}\n\n\tget opacity() {\n\n\t\treturn this.edgeMaterial.opacity;\n\n\t}\n\n\tset opacity( v ) {\n\n\t\tthis.edgeMaterial.opacity = v;\n\t\tthis.meshMaterial.opacity = v;\n\n\t}\n\n\tconstructor( mesh, depth = 10 ) {\n\n\t\tsuper();\n\n\t\tthis.name = 'MeshBVHVisualizer';\n\t\tthis.depth = depth;\n\t\tthis.mesh = mesh;\n\t\tthis.displayParents = false;\n\t\tthis.displayEdges = true;\n\t\tthis._roots = [];\n\n\t\tconst edgeMaterial = new LineBasicMaterial( {\n\t\t\tcolor: 0x00FF88,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.3,\n\t\t\tdepthWrite: false,\n\t\t} );\n\n\t\tconst meshMaterial = new MeshBasicMaterial( {\n\t\t\tcolor: 0x00FF88,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.3,\n\t\t\tdepthWrite: false,\n\t\t} );\n\n\t\tmeshMaterial.color = edgeMaterial.color;\n\n\t\tthis.edgeMaterial = edgeMaterial;\n\t\tthis.meshMaterial = meshMaterial;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst bvh = this.mesh.geometry.boundsTree;\n\t\tconst totalRoots = bvh ? bvh._roots.length : 0;\n\t\twhile ( this._roots.length > totalRoots ) {\n\n\t\t\tconst root = this._roots.pop();\n\t\t\troot.geometry.dispose();\n\t\t\tthis.remove( root );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < totalRoots; i ++ ) {\n\n\t\t\tif ( i >= this._roots.length ) {\n\n\t\t\t\tconst root = new MeshBVHRootVisualizer( this.mesh, this.edgeMaterial, this.depth, i );\n\t\t\t\tthis.add( root );\n\t\t\t\tthis._roots.push( root );\n\n\t\t\t}\n\n\t\t\tconst root = this._roots[ i ];\n\t\t\troot.depth = this.depth;\n\t\t\troot.mesh = this.mesh;\n\t\t\troot.displayParents = this.displayParents;\n\t\t\troot.displayEdges = this.displayEdges;\n\t\t\troot.material = this.displayEdges ? this.edgeMaterial : this.meshMaterial;\n\t\t\troot.update();\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( ...args ) {\n\n\t\tthis.position.copy( this.mesh.position );\n\t\tthis.rotation.copy( this.mesh.rotation );\n\t\tthis.scale.copy( this.mesh.scale );\n\n\t\tsuper.updateMatrixWorld( ...args );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.depth = source.depth;\n\t\tthis.mesh = source.mesh;\n\n\t}\n\n\tclone() {\n\n\t\treturn new MeshBVHVisualizer( this.mesh, this.depth );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.edgeMaterial.dispose();\n\t\tthis.meshMaterial.dispose();\n\n\t\tconst children = this.children;\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].geometry.dispose();\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { MeshBVHVisualizer };\n","/**\n * @description Loop Subdivision Surface\n * @about       Smooth subdivision surface modifier for use with three.js BufferGeometry.\n * @author      Stephens Nunnally <@stevinz>\n * @license     MIT - Copyright (c) 2022 Stephens Nunnally\n * @source      https://github.com/stevinz/three-subdivide\n */\n/////////////////////////////////////////////////////////////////////////////////////\n//\n//  Functions\n//      modify              Applies Loop subdivision to BufferGeometry, returns new BufferGeometry\n//      edgeSplit           Splits all triangles at edges shared by coplanar triangles\n//      flat                One iteration of Loop subdivision, without point averaging\n//      smooth              One iteration of Loop subdivision, with point averaging\n//\n//  Info\n//      This modifier uses the Loop (Charles Loop, 1987) subdivision surface algorithm to smooth\n//      modern three.js BufferGeometry.\n//\n//      At one point, three.js included a subdivision surface modifier in the extended examples (see bottom\n//      of file for links), it was removed in r125. The modifier was originally based on the Catmull-Clark\n//      algorithm, which works best for geometry with convex coplanar n-gon faces. In three.js r60 the modifier\n//      was changed to utilize the Loop algorithm. The Loop algorithm was designed to work better with triangle\n//      based meshes.\n//\n//      The Loop algorithm, however, doesn't always provide uniform results as the vertices are\n//      skewed toward the most used vertex positions. A triangle based box (e.g. BoxGeometry for example) will\n//      tend to favor the corners. To alleviate this issue, this implementation includes an initial pass to split\n//      coplanar faces at their shared edges. It starts by splitting along the longest shared edge first, and then\n//      from that midpoint it splits to any remaining coplanar shared edges.\n//\n//      Also by default, this implementation inserts new uv coordinates, but does not average them using the Loop\n//      algorithm. In some cases (often in flat geometries) this will produce undesired results, a\n//      noticeable tearing will occur. In such cases, try passing 'uvSmooth' as true to enable uv averaging.\n//\n//  Note(s)\n//      - This modifier returns a new BufferGeometry instance, it does not dispose() of the old geometry.\n//\n//      - This modifier returns a NonIndexed geometry. An Indexed geometry can be created by using the\n//        BufferGeometryUtils.mergeVertices() function, see:\n//        https://threejs.org/docs/?q=buffer#examples/en/utils/BufferGeometryUtils.mergeVertices\n//\n//      - This modifier works best with geometry whose triangles share edges AND edge vertices. See diagram below.\n//\n//          OKAY          NOT OKAY\n//            O              O\n//           /|\\            / \\\n//          / | \\          /   \\\n//         /  |  \\        /     \\\n//        O---O---O      O---O---O\n//         \\  |  /        \\  |  /\n//          \\ | /          \\ | /\n//           \\|/            \\|/\n//            O              O\n//\n//  Reference(s)\n//      - Subdivision Surfaces\n//          https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/thesis-10.pdf\n//          https://en.wikipedia.org/wiki/Loop_subdivision_surface\n//          https://cseweb.ucsd.edu/~alchern/teaching/cse167_fa21/6-3Surfaces.pdf\n//\n//      - Original three.js SubdivisionModifier, r124 (Loop)\n//          https://github.com/mrdoob/three.js/blob/r124/examples/jsm/modifiers/SubdivisionModifier.js\n//\n//      - Original three.js SubdivisionModifier, r59 (Catmull-Clark)\n//          https://github.com/mrdoob/three.js/blob/r59/examples/js/modifiers/SubdivisionModifier.js\n//\n/////////////////////////////////////////////////////////////////////////////////////\n\nimport * as THREE from 'three';\n\n///// Constants\n\nconst POSITION_DECIMALS = 2;\n\n///// Local Variables\n\nconst _average = new THREE.Vector3();\nconst _center = new THREE.Vector3();\nconst _midpoint = new THREE.Vector3();\nconst _normal = new THREE.Vector3();\nconst _temp = new THREE.Vector3();\n\nconst _vector0 = new THREE.Vector3(); // .Vector4();\nconst _vector1 = new THREE.Vector3(); // .Vector4();\nconst _vector2 = new THREE.Vector3(); // .Vector4();\nconst _vec0to1 = new THREE.Vector3();\nconst _vec1to2 = new THREE.Vector3();\nconst _vec2to0 = new THREE.Vector3();\n\nconst _position = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n];\n\nconst _vertex = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n];\n\nconst _triangle = new THREE.Triangle();\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Loop Subdivision Surface\n/////////////////////////////////////////////////////////////////////////////////////\n\n/** Loop subdivision surface modifier for use with modern three.js BufferGeometry */\nexport class LoopSubdivision {\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Modify\n    ////////////////////\n\n    /**\n     * Applies Loop subdivision modifier to geometry\n     *\n     * @param {Object} bufferGeometry - Three.js geometry to be subdivided\n     * @param {Number} iterations - How many times to run subdividion\n     * @param {Object} params - Optional parameters object, see below\n     * @returns {Object} Returns new, subdivided, three.js BufferGeometry object\n     *\n     * Optional Parameters Object\n     * @param {Boolean} split - Should coplanar faces be divided along shared edges before running Loop subdivision?\n     * @param {Boolean} uvSmooth - Should UV values be averaged during subdivision?\n     * @param {Boolean} preserveEdges - Should edges / breaks in geometry be ignored during subdivision?\n     * @param {Boolean} flatOnly - If true, subdivision generates triangles, but does not modify positions\n     * @param {Number} maxTriangles - If geometry contains more than this many triangles, subdivision will not continue\n     * @param {Number} weight - How much to weigh favoring heavy corners vs favoring Loop's formula\n     */\n    static modify(bufferGeometry, iterations = 1, params = {}) {\n        if (arguments.length > 3) console.warn(`LoopSubdivision.modify() now uses a parameter object. See readme for more info!`);\n\n        if (typeof params !== 'object') params = {};\n\n        ///// Parameters\n        if (params.split === undefined) params.split = true;\n        if (params.uvSmooth === undefined) params.uvSmooth = false;\n        if (params.preserveEdges === undefined) params.preserveEdges = false;\n        if (params.flatOnly === undefined) params.flatOnly = false;\n        if (params.maxTriangles === undefined) params.maxTriangles = Infinity;\n        if (params.weight === undefined) params.weight = 1;\n        if (isNaN(params.weight) || !isFinite(params.weight)) params.weight = 1;\n        params.weight = Math.max(0, (Math.min(1, params.weight)));\n\n        ///// Geometries\n        if (! verifyGeometry(bufferGeometry)) return bufferGeometry;\n        let modifiedGeometry = bufferGeometry.clone();\n\n        ///// Presplit\n        if (params.split) {\n            const splitGeometry = LoopSubdivision.edgeSplit(modifiedGeometry)\n            modifiedGeometry.dispose();\n            modifiedGeometry = splitGeometry;\n        }\n\n        ///// Apply Subdivision\n        for (let i = 0; i < iterations; i++) {\n            let currentTriangles = modifiedGeometry.attributes.position.count / 3;\n            if (currentTriangles < params.maxTriangles) {\n                let subdividedGeometry;\n\n                // Subdivide\n                if (params.flatOnly) {\n                    subdividedGeometry = LoopSubdivision.flat(modifiedGeometry, params);\n                } else {\n                    subdividedGeometry = LoopSubdivision.smooth(modifiedGeometry, params);\n                }\n\n                // Copy and Resize Groups\n                modifiedGeometry.groups.forEach((group) => {\n                    subdividedGeometry.addGroup(group.start * 4, group.count * 4, group.materialIndex);\n                });\n\n                // Clean Up\n                modifiedGeometry.dispose();\n                modifiedGeometry = subdividedGeometry;\n            }\n        }\n\n        ///// Return New Geometry\n        return modifiedGeometry;\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Split Hypotenuse\n    ////////////////////\n\n    /**\n     * Applies one iteration of split subdivision. Splits all triangles at edges shared by coplanar triangles.\n     * Starts by splitting at longest shared edge, followed by splitting from that new center edge point to the\n     * center of any other shared edges.\n     */\n    static edgeSplit(geometry) {\n\n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const split = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n        const posAttribute = existing.getAttribute('position');\n        const norAttribute = existing.getAttribute('normal');\n        const edgeHashToTriangle = {};\n        const triangleEdgeHashes = [];\n        const edgeLength = {};\n        const triangleExist = [];\n\n        ///// Edges\n        for (let i = 0; i < vertexCount; i += 3) {\n\n            // Positions\n            _vector0.fromBufferAttribute(posAttribute, i + 0);\n            _vector1.fromBufferAttribute(posAttribute, i + 1);\n            _vector2.fromBufferAttribute(posAttribute, i + 2);\n            _normal.fromBufferAttribute(norAttribute, i);\n            const vecHash0 = hashFromVector(_vector0);\n            const vecHash1 = hashFromVector(_vector1);\n            const vecHash2 = hashFromVector(_vector2);\n\n            // Verify Area\n            const triangleSize = _triangle.set(_vector0, _vector1, _vector2).getArea();\n            triangleExist.push(! fuzzy(triangleSize, 0));\n            if (! triangleExist[i / 3]) {\n                triangleEdgeHashes.push([]);\n                continue;\n            }\n\n            // Calculate Normals\n            calcNormal(_normal, _vector0, _vector1, _vector2);\n            const normalHash = hashFromVector(_normal);\n\n            // Vertex Hashes\n            const hashes = [\n                `${vecHash0}_${vecHash1}_${normalHash}`, // [0]: 0to1\n                `${vecHash1}_${vecHash0}_${normalHash}`, // [1]: 1to0\n                `${vecHash1}_${vecHash2}_${normalHash}`, // [2]: 1to2\n                `${vecHash2}_${vecHash1}_${normalHash}`, // [3]: 2to1\n                `${vecHash2}_${vecHash0}_${normalHash}`, // [4]: 2to0\n                `${vecHash0}_${vecHash2}_${normalHash}`, // [5]: 0to2\n            ];\n\n            // Store Edge Hashes\n            const index = i / 3;\n            for (let j = 0; j < hashes.length; j++) {\n                // Attach Triangle Index to Edge Hash\n                if (! edgeHashToTriangle[hashes[j]]) edgeHashToTriangle[hashes[j]] = [];\n                edgeHashToTriangle[hashes[j]].push(index);\n\n                // Edge Length\n                if (! edgeLength[hashes[j]]) {\n                    if (j === 0 || j === 1) edgeLength[hashes[j]] = _vector0.distanceTo(_vector1);\n                    if (j === 2 || j === 3) edgeLength[hashes[j]] = _vector1.distanceTo(_vector2);\n                    if (j === 4 || j === 5) edgeLength[hashes[j]] = _vector2.distanceTo(_vector0);\n                }\n            }\n\n            // Triangle Edge Reference\n            triangleEdgeHashes.push([ hashes[0], hashes[2], hashes[4] ]);\n        }\n\n        ///// Build Geometry, Set Attributes\n        attributeList.forEach((attributeName) => {\n            const attribute = existing.getAttribute(attributeName);\n            if (! attribute) return;\n            const floatArray = splitAttribute(attribute, attributeName);\n            split.setAttribute(attributeName, new THREE.BufferAttribute(floatArray, attribute.itemSize));\n        });\n\n        ///// Morph Attributes\n        const morphAttributes = existing.morphAttributes;\n        for (const attributeName in morphAttributes) {\n            const array = [];\n            const morphAttribute = morphAttributes[attributeName];\n\n            // Process Array of Float32BufferAttributes\n            for (let i = 0, l = morphAttribute.length; i < l; i++) {\n                if (morphAttribute[i].count !== vertexCount) continue;\n                const floatArray = splitAttribute(morphAttribute[i], attributeName, true);\n                array.push(new THREE.BufferAttribute(floatArray, morphAttribute[i].itemSize));\n            }\n            split.morphAttributes[attributeName] = array;\n        }\n        split.morphTargetsRelative = existing.morphTargetsRelative;\n\n        // Clean Up, Return New Geometry\n        existing.dispose();\n        return split;\n\n        // Loop Subdivide Function\n        function splitAttribute(attribute, attributeName, morph = false) {\n            const newTriangles = 4; /* maximum number of new triangles */\n            const arrayLength = (vertexCount * attribute.itemSize) * newTriangles;\n            const floatArray = new attribute.array.constructor(arrayLength);\n\n            const processGroups = (attributeName === 'position' && ! morph && existing.groups.length > 0);\n            let groupStart = undefined, groupMaterial = undefined;\n\n            let index = 0;\n            let skipped = 0;\n            let step = attribute.itemSize;\n            for (let i = 0; i < vertexCount; i += 3) {\n\n                // Verify Triangle is Valid\n                if (! triangleExist[i / 3]) {\n                    skipped += 3;\n                    continue;\n                }\n\n                // Get Triangle Points\n                _vector0.fromBufferAttribute(attribute, i + 0);\n                _vector1.fromBufferAttribute(attribute, i + 1);\n                _vector2.fromBufferAttribute(attribute, i + 2);\n\n                // Check for Shared Edges\n                const existingIndex = i / 3;\n                const edgeHash0to1 = triangleEdgeHashes[existingIndex][0];\n                const edgeHash1to2 = triangleEdgeHashes[existingIndex][1];\n                const edgeHash2to0 = triangleEdgeHashes[existingIndex][2];\n\n                const edgeCount0to1 = edgeHashToTriangle[edgeHash0to1].length;\n                const edgeCount1to2 = edgeHashToTriangle[edgeHash1to2].length;\n                const edgeCount2to0 = edgeHashToTriangle[edgeHash2to0].length;\n                const sharedCount = (edgeCount0to1 + edgeCount1to2 + edgeCount2to0) - 3;\n\n                // New Index (Before New Triangles, used for Groups)\n                const loopStartIndex = ((index * 3) / step) / 3;\n\n                // No Shared Edges\n                if (sharedCount === 0) {\n                    setTriangle(floatArray, index, step, _vector0, _vector1, _vector2); index += (step * 3);\n\n                // Shared Edges\n                } else {\n                    const length0to1 = edgeLength[edgeHash0to1];\n                    const length1to2 = edgeLength[edgeHash1to2];\n                    const length2to0 = edgeLength[edgeHash2to0];\n\n                    // Add New Triangle Positions\n                    if ((length0to1 > length1to2 || edgeCount1to2 <= 1) &&\n                        (length0to1 > length2to0 || edgeCount2to0 <= 1) && edgeCount0to1 > 1) {\n                        _center.copy(_vector0).add(_vector1).divideScalar(2.0);\n                        if (edgeCount2to0 > 1) {\n                            _midpoint.copy(_vector2).add(_vector0).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector0, _center, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _center, _vector2, _midpoint); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector0, _center, _vector2); index += (step * 3);\n                        }\n                        if (edgeCount1to2 > 1) {\n                            _midpoint.copy(_vector1).add(_vector2).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _vector1, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector2, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector1, _vector2, _center); index += (step * 3);\n                        }\n\n                    } else if ((length1to2 > length2to0 || edgeCount2to0 <= 1) && edgeCount1to2 > 1) {\n                        _center.copy(_vector1).add(_vector2).divideScalar(2.0);\n                        if (edgeCount0to1 > 1) {\n                            _midpoint.copy(_vector0).add(_vector1).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _midpoint, _vector1); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _center, _vector0); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector1, _center, _vector0); index += (step * 3);\n                        }\n                        if (edgeCount2to0 > 1) {\n                            _midpoint.copy(_vector2).add(_vector0).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _vector2, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector0, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector2, _vector0, _center); index += (step * 3);\n                        }\n\n                    } else if (edgeCount2to0 > 1) {\n                        _center.copy(_vector2).add(_vector0).divideScalar(2.0);\n                        if (edgeCount1to2 > 1) {\n                            _midpoint.copy(_vector1).add(_vector2).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector2, _center, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _center, _vector1, _midpoint); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector2, _center, _vector1); index += (step * 3);\n                        }\n                        if (edgeCount0to1 > 1) {\n                            _midpoint.copy(_vector0).add(_vector1).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector0, _midpoint, _center); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector1, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector0, _vector1, _center); index += (step * 3);\n                        }\n\n                    } else {\n                        setTriangle(floatArray, index, step, _vector0, _vector1, _vector2); index += (step * 3);\n                    }\n                }\n\n                // Process Groups\n                if (processGroups) {\n                    existing.groups.forEach((group) => {\n                        if (group.start === (i - skipped)) {\n                            if (groupStart !== undefined && groupMaterial !== undefined) {\n                                split.addGroup(groupStart, loopStartIndex - groupStart, groupMaterial);\n                            }\n                            groupStart = loopStartIndex;\n                            groupMaterial = group.materialIndex;\n                        }\n                    });\n                }\n\n                // Reset Skipped Triangle Counter\n                skipped = 0;\n            }\n\n            // Resize Array\n            const reducedCount = (index * 3) / step;\n            const reducedArray = new attribute.array.constructor(reducedCount);\n            for (let i = 0; i < reducedCount; i++) {\n                reducedArray[i] = floatArray[i];\n            }\n\n            // Final Group\n            if (processGroups && groupStart !== undefined && groupMaterial !== undefined) {\n                split.addGroup(groupStart, (((index * 3) / step) / 3) - groupStart, groupMaterial);\n            }\n\n            return reducedArray;\n        }\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Flat\n    ////////////////////\n\n    /** Applies one iteration of Loop (flat) subdivision (1 triangle split into 4 triangles) */\n    static flat(geometry, params = {}) {\n\n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const loop = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n\n        ///// Build Geometry\n        attributeList.forEach((attributeName) => {\n            const attribute = existing.getAttribute(attributeName);\n            if (! attribute) return;\n\n            loop.setAttribute(attributeName, LoopSubdivision.flatAttribute(attribute, vertexCount, params));\n        });\n\n        ///// Morph Attributes\n        const morphAttributes = existing.morphAttributes;\n        for (const attributeName in morphAttributes) {\n            const array = [];\n            const morphAttribute = morphAttributes[attributeName];\n\n            // Process Array of Float32BufferAttributes\n\t\t\tfor (let i = 0, l = morphAttribute.length; i < l; i++) {\n                if (morphAttribute[i].count !== vertexCount) continue;\n                array.push(LoopSubdivision.flatAttribute(morphAttribute[i], vertexCount, params));\n            }\n            loop.morphAttributes[attributeName] = array;\n        }\n        loop.morphTargetsRelative = existing.morphTargetsRelative;\n\n        ///// Clean Up\n        existing.dispose();\n        return loop;\n    }\n\n    static flatAttribute(attribute, vertexCount, params = {}) {\n        const newTriangles = 4;\n        const arrayLength = (vertexCount * attribute.itemSize) * newTriangles;\n        const floatArray = new attribute.array.constructor(arrayLength);\n\n        let index = 0;\n        let step = attribute.itemSize;\n        for (let i = 0; i < vertexCount; i += 3) {\n\n            // Original Vertices\n            _vector0.fromBufferAttribute(attribute, i + 0);\n            _vector1.fromBufferAttribute(attribute, i + 1);\n            _vector2.fromBufferAttribute(attribute, i + 2);\n\n            // Midpoints\n            _vec0to1.copy(_vector0).add(_vector1).divideScalar(2.0);\n            _vec1to2.copy(_vector1).add(_vector2).divideScalar(2.0);\n            _vec2to0.copy(_vector2).add(_vector0).divideScalar(2.0);\n\n            // Add New Triangle Positions\n            setTriangle(floatArray, index, step, _vector0, _vec0to1, _vec2to0); index += (step * 3);\n            setTriangle(floatArray, index, step, _vector1, _vec1to2, _vec0to1); index += (step * 3);\n            setTriangle(floatArray, index, step, _vector2, _vec2to0, _vec1to2); index += (step * 3);\n            setTriangle(floatArray, index, step, _vec0to1, _vec1to2, _vec2to0); index += (step * 3);\n        }\n\n        return new THREE.BufferAttribute(floatArray, attribute.itemSize);\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Smooth\n    ////////////////////\n\n    /** Applies one iteration of Loop (smooth) subdivision (1 triangle split into 4 triangles) */\n    static smooth(geometry, params = {}) {\n\n        if (typeof params !== 'object') params = {};\n\n        ///// Parameters\n        if (params.uvSmooth === undefined) params.uvSmooth = false;\n        if (params.preserveEdges === undefined) params.preserveEdges = false;\n\n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const flat = LoopSubdivision.flat(existing, params);\n        const loop = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n        const posAttribute = existing.getAttribute('position');\n        const flatPosition = flat.getAttribute('position');\n        const hashToIndex = {};             // Position hash mapped to index values of same position\n        const existingNeighbors = {};       // Position hash mapped to existing vertex neighbors\n        const flatOpposites = {};           // Position hash mapped to new edge point opposites\n        const existingEdges = {};\n\n        function addNeighbor(posHash, neighborHash, index) {\n            if (! existingNeighbors[posHash]) existingNeighbors[posHash] = {};\n            if (! existingNeighbors[posHash][neighborHash]) existingNeighbors[posHash][neighborHash] = [];\n            existingNeighbors[posHash][neighborHash].push(index);\n        }\n\n        function addOpposite(posHash, index) {\n            if (! flatOpposites[posHash]) flatOpposites[posHash] = [];\n            flatOpposites[posHash].push(index);\n        }\n\n        function addEdgePoint(posHash, edgeHash) {\n            if (! existingEdges[posHash]) existingEdges[posHash] = new Set();\n            existingEdges[posHash].add(edgeHash);\n        }\n\n        ///// Existing Vertex Hashes\n        for (let i = 0; i < vertexCount; i += 3) {\n            const posHash0 = hashFromVector(_vertex[0].fromBufferAttribute(posAttribute, i + 0));\n            const posHash1 = hashFromVector(_vertex[1].fromBufferAttribute(posAttribute, i + 1));\n            const posHash2 = hashFromVector(_vertex[2].fromBufferAttribute(posAttribute, i + 2));\n\n            // Neighbors (of Existing Geometry)\n            addNeighbor(posHash0, posHash1, i + 1);\n            addNeighbor(posHash0, posHash2, i + 2);\n            addNeighbor(posHash1, posHash0, i + 0);\n            addNeighbor(posHash1, posHash2, i + 2);\n            addNeighbor(posHash2, posHash0, i + 0);\n            addNeighbor(posHash2, posHash1, i + 1);\n\n            // Opposites (of new FlatSubdivided vertices)\n            _vec0to1.copy(_vertex[0]).add(_vertex[1]).divideScalar(2.0);\n            _vec1to2.copy(_vertex[1]).add(_vertex[2]).divideScalar(2.0);\n            _vec2to0.copy(_vertex[2]).add(_vertex[0]).divideScalar(2.0);\n            const hash0to1 = hashFromVector(_vec0to1);\n            const hash1to2 = hashFromVector(_vec1to2);\n            const hash2to0 = hashFromVector(_vec2to0);\n            addOpposite(hash0to1, i + 2);\n            addOpposite(hash1to2, i + 0);\n            addOpposite(hash2to0, i + 1);\n\n            // Track Edges for 'edgePreserve'\n            addEdgePoint(posHash0, hash0to1);\n            addEdgePoint(posHash0, hash2to0);\n            addEdgePoint(posHash1, hash0to1);\n            addEdgePoint(posHash1, hash1to2);\n            addEdgePoint(posHash2, hash1to2);\n            addEdgePoint(posHash2, hash2to0);\n        }\n\n        ///// Flat Position to Index Map\n        for (let i = 0; i < flat.attributes.position.count; i++) {\n            const posHash = hashFromVector(_temp.fromBufferAttribute(flatPosition, i));\n            if (! hashToIndex[posHash]) hashToIndex[posHash] = [];\n            hashToIndex[posHash].push(i);\n        }\n\n        ///// Build Geometry, Set Attributes\n        attributeList.forEach((attributeName) => {\n            const existingAttribute = existing.getAttribute(attributeName);\n            const flattenedAttribute = flat.getAttribute(attributeName);\n            if (existingAttribute === undefined || flattenedAttribute === undefined) return;\n\n            const floatArray = subdivideAttribute(attributeName, existingAttribute, flattenedAttribute);\n            loop.setAttribute(attributeName, new THREE.BufferAttribute(floatArray, flattenedAttribute.itemSize));\n        });\n\n        ///// Morph Attributes\n        const morphAttributes = existing.morphAttributes;\n        for (const attributeName in morphAttributes) {\n            const array = [];\n            const morphAttribute = morphAttributes[attributeName];\n\n            // Process Array of Float32BufferAttributes\n            for (let i = 0, l = morphAttribute.length; i < l; i++) {\n                if (morphAttribute[i].count !== vertexCount) continue;\n                const existingAttribute = morphAttribute[i];\n                const flattenedAttribute = LoopSubdivision.flatAttribute(morphAttribute[i], morphAttribute[i].count, params)\n\n                const floatArray = subdivideAttribute(attributeName, existingAttribute, flattenedAttribute);\n                array.push(new THREE.BufferAttribute(floatArray, flattenedAttribute.itemSize));\n            }\n            loop.morphAttributes[attributeName] = array;\n        }\n        loop.morphTargetsRelative = existing.morphTargetsRelative;\n\n        ///// Clean Up\n        flat.dispose();\n        existing.dispose();\n        return loop;\n\n        //////////\n\n        // Loop Subdivide Function\n        function subdivideAttribute(attributeName, existingAttribute, flattenedAttribute) {\n            const arrayLength = (flat.attributes.position.count * flattenedAttribute.itemSize);\n            const floatArray = new existingAttribute.array.constructor(arrayLength);\n\n            // Process Triangles\n            let index = 0;\n            for (let i = 0; i < flat.attributes.position.count; i += 3) {\n\n                // Process Triangle Points\n                for (let v = 0; v < 3; v++) {\n\n                    if (attributeName === 'uv' && ! params.uvSmooth) {\n\n                        _vertex[v].fromBufferAttribute(flattenedAttribute, i + v);\n\n                    } else if (attributeName === 'normal') { // && params.normalSmooth) {\n\n                        _position[v].fromBufferAttribute(flatPosition, i + v);\n                        const positionHash = hashFromVector(_position[v]);\n                        const positions = hashToIndex[positionHash];\n\n                        const k = Object.keys(positions).length;\n                        const beta = 0.75 / k;\n                        const startWeight = 1.0 - (beta * k);\n\n                        _vertex[v].fromBufferAttribute(flattenedAttribute, i + v);\n                        _vertex[v].multiplyScalar(startWeight);\n\n                        positions.forEach(positionIndex => {\n                            _average.fromBufferAttribute(flattenedAttribute, positionIndex);\n                            _average.multiplyScalar(beta);\n                            _vertex[v].add(_average);\n                        });\n\n\n                    } else { // 'position', 'color', etc...\n\n                        _vertex[v].fromBufferAttribute(flattenedAttribute, i + v);\n                        _position[v].fromBufferAttribute(flatPosition, i + v);\n\n                        const positionHash = hashFromVector(_position[v]);\n                        const neighbors = existingNeighbors[positionHash];\n                        const opposites = flatOpposites[positionHash];\n\n                        ///// Adjust Source Vertex\n                        if (neighbors) {\n\n                            // Check Edges have even Opposite Points\n                            if (params.preserveEdges) {\n                                const edgeSet = existingEdges[positionHash];\n                                let hasPair = true;\n                                for (const edgeHash of edgeSet) {\n                                    if (flatOpposites[edgeHash].length % 2 !== 0) hasPair = false;\n                                }\n                                if (! hasPair) continue;\n                            }\n\n                            // Number of Neighbors\n                            const k = Object.keys(neighbors).length;\n\n                            ///// Loop's Formula\n                            const beta = 1 / k * ((5/8) - Math.pow((3/8) + (1/4) * Math.cos(2 * Math.PI / k), 2));\n\n                            ///// Warren's Formula\n                            // const beta = (k > 3) ? 3 / (8 * k) : ((k === 3) ? 3 / 16 : 0);\n\n                            ///// Stevinz' Formula\n                            // const beta = 0.5 / k;\n\n                            ///// Corners\n                            const heavy = (1 / k) / k;\n\n                            ///// Interpolate Beta -> Heavy\n                            const weight = lerp(heavy, beta, params.weight);\n\n                            ///// Average with Neighbors\n                            const startWeight = 1.0 - (weight * k);\n                            _vertex[v].multiplyScalar(startWeight);\n\n                            for (let neighborHash in neighbors) {\n                                const neighborIndices = neighbors[neighborHash];\n\n                                _average.set(0, 0, 0);\n                                for (let j = 0; j < neighborIndices.length; j++) {\n                                    _average.add(_temp.fromBufferAttribute(existingAttribute, neighborIndices[j]));\n                                }\n                                _average.divideScalar(neighborIndices.length);\n\n                                _average.multiplyScalar(weight);\n                                _vertex[v].add(_average);\n                            }\n\n                        ///// Newly Added Edge Vertex\n                        } else if (opposites && opposites.length === 2) {\n                            const k = opposites.length;\n                            const beta = 0.125; /* 1/8 */\n                            const startWeight = 1.0 - (beta * k);\n                            _vertex[v].multiplyScalar(startWeight);\n\n                            opposites.forEach(oppositeIndex => {\n                                _average.fromBufferAttribute(existingAttribute, oppositeIndex);\n                                _average.multiplyScalar(beta);\n                                _vertex[v].add(_average);\n                            });\n                        }\n                    }\n                }\n\n                // Add New Triangle Position\n                setTriangle(floatArray, index, flattenedAttribute.itemSize, _vertex[0], _vertex[1], _vertex[2]);\n                index += (flattenedAttribute.itemSize * 3);\n            }\n\n            return floatArray;\n        }\n\n    }\n\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Local Functions, Hash\n/////////////////////////////////////////////////////////////////////////////////////\n\nconst _positionShift = Math.pow(10, POSITION_DECIMALS);\n\n/** Compares two numbers to see if they're almost the same */\nfunction fuzzy(a, b, tolerance = 0.00001) {\n    return ((a < (b + tolerance)) && (a > (b - tolerance)));\n}\n\n/** Generates hash strong from Number */\nfunction hashFromNumber(num, shift = _positionShift) {\n    let roundedNumber = round(num * shift);\n    if (roundedNumber == 0) roundedNumber = 0; /* prevent -0 (signed 0 can effect Math.atan2(), etc.) */\n    return `${roundedNumber}`;\n}\n\n/** Generates hash strong from Vector3 */\nfunction hashFromVector(vector, shift = _positionShift) {\n    return `${hashFromNumber(vector.x, shift)},${hashFromNumber(vector.y, shift)},${hashFromNumber(vector.z, shift)}`;\n}\n\nfunction lerp(x, y, t) {\n    return (1 - t) * x + t * y;\n}\n\nfunction round(x) {\n    return (x + ((x > 0) ? 0.5 : -0.5)) << 0;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Local Functions, Geometry\n/////////////////////////////////////////////////////////////////////////////////////\n\nfunction calcNormal(target, vec1, vec2, vec3) {\n    _temp.subVectors(vec1, vec2);\n    target.subVectors(vec2, vec3);\n    target.cross(_temp).normalize();\n}\n\nfunction gatherAttributes(geometry) {\n    const desired = [ 'position', 'normal', 'uv' ];\n    const contains = Object.keys(geometry.attributes);\n    const attributeList = Array.from(new Set(desired.concat(contains)));\n    return attributeList;\n}\n\nfunction setTriangle(positions, index, step, vec0, vec1, vec2) {\n    if (step >= 1) {\n        positions[index + 0 + (step * 0)] = vec0.x;\n        positions[index + 0 + (step * 1)] = vec1.x;\n        positions[index + 0 + (step * 2)] = vec2.x;\n    }\n    if (step >= 2) {\n        positions[index + 1 + (step * 0)] = vec0.y;\n        positions[index + 1 + (step * 1)] = vec1.y;\n        positions[index + 1 + (step * 2)] = vec2.y;\n    }\n    if (step >= 3) {\n        positions[index + 2 + (step * 0)] = vec0.z;\n        positions[index + 2 + (step * 1)] = vec1.z;\n        positions[index + 2 + (step * 2)] = vec2.z;\n    }\n    if (step >= 4) {\n        positions[index + 3 + (step * 0)] = vec0.w;\n        positions[index + 3 + (step * 1)] = vec1.w;\n        positions[index + 3 + (step * 2)] = vec2.w;\n    }\n}\n\nfunction verifyGeometry(geometry) {\n    if (geometry === undefined) {\n        console.warn(`LoopSubdivision: Geometry provided is undefined`);\n        return false;\n    }\n\n    if (! geometry.isBufferGeometry) {\n        console.warn(`LoopSubdivision: Geometry provided is not 'BufferGeometry' type`);\n        return false;\n    }\n\n    if (geometry.attributes.position === undefined) {\n        console.warn(`LoopSubdivision: Geometry provided missing required 'position' attribute`);\n        return false;\n    }\n\n    if (geometry.attributes.normal === undefined) {\n        geometry.computeVertexNormals();\n    }\n    return true;\n}\n","export { LoopSubdivision } from './LoopSubdivision.js';","import {\n\tLine3,\n\tPlane,\n\tTriangle,\n\tVector3\n} from 'three';\n\n/**\n * Ported from: https://github.com/maurizzzio/quickhull3d/ by Mauricio Poppe (https://github.com/maurizzzio)\n */\n\nconst Visible = 0;\nconst Deleted = 1;\n\nconst _v1 = new Vector3();\nconst _line3 = new Line3();\nconst _plane = new Plane();\nconst _closestPoint = new Vector3();\nconst _triangle = new Triangle();\n\nclass ConvexHull {\n\n\tconstructor() {\n\n\t\tthis.tolerance = - 1;\n\n\t\tthis.faces = []; // the generated faces of the convex hull\n\t\tthis.newFaces = []; // this array holds the faces that are generated within a single iteration\n\n\t\t// the vertex lists work as follows:\n\t\t//\n\t\t// let 'a' and 'b' be 'Face' instances\n\t\t// let 'v' be points wrapped as instance of 'Vertex'\n\t\t//\n\t\t//     [v, v, ..., v, v, v, ...]\n\t\t//      ^             ^\n\t\t//      |             |\n\t\t//  a.outside     b.outside\n\t\t//\n\t\tthis.assigned = new VertexList();\n\t\tthis.unassigned = new VertexList();\n\n\t\tthis.vertices = []; \t// vertices of the hull (internal representation of given geometry data)\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\t// The algorithm needs at least four points.\n\n\t\tif ( points.length >= 4 ) {\n\n\t\t\tthis.makeEmpty();\n\n\t\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tthis.vertices.push( new VertexNode( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.compute();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tconst points = [];\n\n\t\tobject.updateMatrixWorld( true );\n\n\t\tobject.traverse( function ( node ) {\n\n\t\t\tconst geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tconst attribute = geometry.attributes.position;\n\n\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst point = new Vector3();\n\n\t\t\t\t\t\tpoint.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tpoints.push( point );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst faces = this.faces;\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// compute signed distance and check on what half space the point lies\n\n\t\t\tif ( face.distanceToPoint( point ) > this.tolerance ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectRay( ray, target ) {\n\n\t\t// based on \"Fast Ray-Convex Polyhedron Intersection\" by Eric Haines, GRAPHICS GEMS II\n\n\t\tconst faces = this.faces;\n\n\t\tlet tNear = - Infinity;\n\t\tlet tFar = Infinity;\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// interpret faces as planes for the further computation\n\n\t\t\tconst vN = face.distanceToPoint( ray.origin );\n\t\t\tconst vD = face.normal.dot( ray.direction );\n\n\t\t\t// if the origin is on the positive side of a plane (so the plane can \"see\" the origin) and\n\t\t\t// the ray is turned away or parallel to the plane, there is no intersection\n\n\t\t\tif ( vN > 0 && vD >= 0 ) return null;\n\n\t\t\t// compute the distance from the ray’s origin to the intersection with the plane\n\n\t\t\tconst t = ( vD !== 0 ) ? ( - vN / vD ) : 0;\n\n\t\t\t// only proceed if the distance is positive. a negative distance means the intersection point\n\t\t\t// lies \"behind\" the origin\n\n\t\t\tif ( t <= 0 ) continue;\n\n\t\t\t// now categorized plane as front-facing or back-facing\n\n\t\t\tif ( vD > 0 ) {\n\n\t\t\t\t// plane faces away from the ray, so this plane is a back-face\n\n\t\t\t\ttFar = Math.min( t, tFar );\n\n\t\t\t} else {\n\n\t\t\t\t// front-face\n\n\t\t\t\ttNear = Math.max( t, tNear );\n\n\t\t\t}\n\n\t\t\tif ( tNear > tFar ) {\n\n\t\t\t\t// if tNear ever is greater than tFar, the ray must miss the convex hull\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// evaluate intersection point\n\n\t\t// always try tNear first since its the closer intersection point\n\n\t\tif ( tNear !== - Infinity ) {\n\n\t\t\tray.at( tNear, target );\n\n\t\t} else {\n\n\t\t\tray.at( tFar, target );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tintersectsRay( ray ) {\n\n\t\treturn this.intersectRay( ray, _v1 ) !== null;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.faces = [];\n\t\tthis.vertices = [];\n\n\t\treturn this;\n\n\t}\n\n\t// Adds a vertex to the 'assigned' list of vertices and assigns it to the given face\n\n\taddVertexToFace( vertex, face ) {\n\n\t\tvertex.face = face;\n\n\t\tif ( face.outside === null ) {\n\n\t\t\tthis.assigned.append( vertex );\n\n\t\t} else {\n\n\t\t\tthis.assigned.insertBefore( face.outside, vertex );\n\n\t\t}\n\n\t\tface.outside = vertex;\n\n\t\treturn this;\n\n\t}\n\n\t// Removes a vertex from the 'assigned' list of vertices and from the given face\n\n\tremoveVertexFromFace( vertex, face ) {\n\n\t\tif ( vertex === face.outside ) {\n\n\t\t\t// fix face.outside link\n\n\t\t\tif ( vertex.next !== null && vertex.next.face === face ) {\n\n\t\t\t\t// face has at least 2 outside vertices, move the 'outside' reference\n\n\t\t\t\tface.outside = vertex.next;\n\n\t\t\t} else {\n\n\t\t\t\t// vertex was the only outside vertex that face had\n\n\t\t\t\tface.outside = null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.assigned.remove( vertex );\n\n\t\treturn this;\n\n\t}\n\n\t// Removes all the visible vertices that a given face is able to see which are stored in the 'assigned' vertex list\n\n\tremoveAllVerticesFromFace( face ) {\n\n\t\tif ( face.outside !== null ) {\n\n\t\t\t// reference to the first and last vertex of this face\n\n\t\t\tconst start = face.outside;\n\t\t\tlet end = face.outside;\n\n\t\t\twhile ( end.next !== null && end.next.face === face ) {\n\n\t\t\t\tend = end.next;\n\n\t\t\t}\n\n\t\t\tthis.assigned.removeSubList( start, end );\n\n\t\t\t// fix references\n\n\t\t\tstart.prev = end.next = null;\n\t\t\tface.outside = null;\n\n\t\t\treturn start;\n\n\t\t}\n\n\t}\n\n\t// Removes all the visible vertices that 'face' is able to see\n\n\tdeleteFaceVertices( face, absorbingFace ) {\n\n\t\tconst faceVertices = this.removeAllVerticesFromFace( face );\n\n\t\tif ( faceVertices !== undefined ) {\n\n\t\t\tif ( absorbingFace === undefined ) {\n\n\t\t\t\t// mark the vertices to be reassigned to some other face\n\n\t\t\t\tthis.unassigned.appendChain( faceVertices );\n\n\n\t\t\t} else {\n\n\t\t\t\t// if there's an absorbing face try to assign as many vertices as possible to it\n\n\t\t\t\tlet vertex = faceVertices;\n\n\t\t\t\tdo {\n\n\t\t\t\t\t// we need to buffer the subsequent vertex at this point because the 'vertex.next' reference\n\t\t\t\t\t// will be changed by upcoming method calls\n\n\t\t\t\t\tconst nextVertex = vertex.next;\n\n\t\t\t\t\tconst distance = absorbingFace.distanceToPoint( vertex.point );\n\n\t\t\t\t\t// check if 'vertex' is able to see 'absorbingFace'\n\n\t\t\t\t\tif ( distance > this.tolerance ) {\n\n\t\t\t\t\t\tthis.addVertexToFace( vertex, absorbingFace );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.unassigned.append( vertex );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// now assign next vertex\n\n\t\t\t\t\tvertex = nextVertex;\n\n\t\t\t\t} while ( vertex !== null );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Reassigns as many vertices as possible from the unassigned list to the new faces\n\n\tresolveUnassignedPoints( newFaces ) {\n\n\t\tif ( this.unassigned.isEmpty() === false ) {\n\n\t\t\tlet vertex = this.unassigned.first();\n\n\t\t\tdo {\n\n\t\t\t\t// buffer 'next' reference, see .deleteFaceVertices()\n\n\t\t\t\tconst nextVertex = vertex.next;\n\n\t\t\t\tlet maxDistance = this.tolerance;\n\n\t\t\t\tlet maxFace = null;\n\n\t\t\t\tfor ( let i = 0; i < newFaces.length; i ++ ) {\n\n\t\t\t\t\tconst face = newFaces[ i ];\n\n\t\t\t\t\tif ( face.mark === Visible ) {\n\n\t\t\t\t\t\tconst distance = face.distanceToPoint( vertex.point );\n\n\t\t\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\t\t\tmaxFace = face;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( maxDistance > 1000 * this.tolerance ) break;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// 'maxFace' can be null e.g. if there are identical vertices\n\n\t\t\t\tif ( maxFace !== null ) {\n\n\t\t\t\t\tthis.addVertexToFace( vertex, maxFace );\n\n\t\t\t\t}\n\n\t\t\t\tvertex = nextVertex;\n\n\t\t\t} while ( vertex !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Computes the extremes of a simplex which will be the initial hull\n\n\tcomputeExtremes() {\n\n\t\tconst min = new Vector3();\n\t\tconst max = new Vector3();\n\n\t\tconst minVertices = [];\n\t\tconst maxVertices = [];\n\n\t\t// initially assume that the first vertex is the min/max\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tminVertices[ i ] = maxVertices[ i ] = this.vertices[ 0 ];\n\n\t\t}\n\n\t\tmin.copy( this.vertices[ 0 ].point );\n\t\tmax.copy( this.vertices[ 0 ].point );\n\n\t\t// compute the min/max vertex on all six directions\n\n\t\tfor ( let i = 0, l = this.vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tconst point = vertex.point;\n\n\t\t\t// update the min coordinates\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tif ( point.getComponent( j ) < min.getComponent( j ) ) {\n\n\t\t\t\t\tmin.setComponent( j, point.getComponent( j ) );\n\t\t\t\t\tminVertices[ j ] = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// update the max coordinates\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tif ( point.getComponent( j ) > max.getComponent( j ) ) {\n\n\t\t\t\t\tmax.setComponent( j, point.getComponent( j ) );\n\t\t\t\t\tmaxVertices[ j ] = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use min/max vectors to compute an optimal epsilon\n\n\t\tthis.tolerance = 3 * Number.EPSILON * (\n\t\t\tMath.max( Math.abs( min.x ), Math.abs( max.x ) ) +\n\t\t\tMath.max( Math.abs( min.y ), Math.abs( max.y ) ) +\n\t\t\tMath.max( Math.abs( min.z ), Math.abs( max.z ) )\n\t\t);\n\n\t\treturn { min: minVertices, max: maxVertices };\n\n\t}\n\n\t// Computes the initial simplex assigning to its faces all the points\n\t// that are candidates to form part of the hull\n\n\tcomputeInitialHull() {\n\n\t\tconst vertices = this.vertices;\n\t\tconst extremes = this.computeExtremes();\n\t\tconst min = extremes.min;\n\t\tconst max = extremes.max;\n\n\t\t// 1. Find the two vertices 'v0' and 'v1' with the greatest 1d separation\n\t\t// (max.x - min.x)\n\t\t// (max.y - min.y)\n\t\t// (max.z - min.z)\n\n\t\tlet maxDistance = 0;\n\t\tlet index = 0;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst distance = max[ i ].point.getComponent( i ) - min[ i ].point.getComponent( i );\n\n\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\tmaxDistance = distance;\n\t\t\t\tindex = i;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst v0 = min[ index ];\n\t\tconst v1 = max[ index ];\n\t\tlet v2;\n\t\tlet v3;\n\n\t\t// 2. The next vertex 'v2' is the one farthest to the line formed by 'v0' and 'v1'\n\n\t\tmaxDistance = 0;\n\t\t_line3.set( v0.point, v1.point );\n\n\t\tfor ( let i = 0, l = this.vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 ) {\n\n\t\t\t\t_line3.closestPointToPoint( vertex.point, true, _closestPoint );\n\n\t\t\t\tconst distance = _closestPoint.distanceToSquared( vertex.point );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\tv2 = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 3. The next vertex 'v3' is the one farthest to the plane 'v0', 'v1', 'v2'\n\n\t\tmaxDistance = - 1;\n\t\t_plane.setFromCoplanarPoints( v0.point, v1.point, v2.point );\n\n\t\tfor ( let i = 0, l = this.vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 && vertex !== v2 ) {\n\n\t\t\t\tconst distance = Math.abs( _plane.distanceToPoint( vertex.point ) );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\tv3 = vertex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst faces = [];\n\n\t\tif ( _plane.distanceToPoint( v3.point ) < 0 ) {\n\n\t\t\t// the face is not able to see the point so 'plane.normal' is pointing outside the tetrahedron\n\n\t\t\tfaces.push(\n\t\t\t\tFace.create( v0, v1, v2 ),\n\t\t\t\tFace.create( v3, v1, v0 ),\n\t\t\t\tFace.create( v3, v2, v1 ),\n\t\t\t\tFace.create( v3, v0, v2 )\n\t\t\t);\n\n\t\t\t// set the twin edge\n\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\tconst j = ( i + 1 ) % 3;\n\n\t\t\t\t// join face[ i ] i > 0, with the first face\n\n\t\t\t\tfaces[ i + 1 ].getEdge( 2 ).setTwin( faces[ 0 ].getEdge( j ) );\n\n\t\t\t\t// join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n\t\t\t\tfaces[ i + 1 ].getEdge( 1 ).setTwin( faces[ j + 1 ].getEdge( 0 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// the face is able to see the point so 'plane.normal' is pointing inside the tetrahedron\n\n\t\t\tfaces.push(\n\t\t\t\tFace.create( v0, v2, v1 ),\n\t\t\t\tFace.create( v3, v0, v1 ),\n\t\t\t\tFace.create( v3, v1, v2 ),\n\t\t\t\tFace.create( v3, v2, v0 )\n\t\t\t);\n\n\t\t\t// set the twin edge\n\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\tconst j = ( i + 1 ) % 3;\n\n\t\t\t\t// join face[ i ] i > 0, with the first face\n\n\t\t\t\tfaces[ i + 1 ].getEdge( 2 ).setTwin( faces[ 0 ].getEdge( ( 3 - i ) % 3 ) );\n\n\t\t\t\t// join face[ i ] with face[ i + 1 ]\n\n\t\t\t\tfaces[ i + 1 ].getEdge( 0 ).setTwin( faces[ j + 1 ].getEdge( 1 ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// the initial hull is the tetrahedron\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ] );\n\n\t\t}\n\n\t\t// initial assignment of vertices to the faces of the tetrahedron\n\n\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = vertices[ i ];\n\n\t\t\tif ( vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3 ) {\n\n\t\t\t\tmaxDistance = this.tolerance;\n\t\t\t\tlet maxFace = null;\n\n\t\t\t\tfor ( let j = 0; j < 4; j ++ ) {\n\n\t\t\t\t\tconst distance = this.faces[ j ].distanceToPoint( vertex.point );\n\n\t\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\t\tmaxFace = this.faces[ j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( maxFace !== null ) {\n\n\t\t\t\t\tthis.addVertexToFace( vertex, maxFace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Removes inactive faces\n\n\treindexFaces() {\n\n\t\tconst activeFaces = [];\n\n\t\tfor ( let i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tif ( face.mark === Visible ) {\n\n\t\t\t\tactiveFaces.push( face );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.faces = activeFaces;\n\n\t\treturn this;\n\n\t}\n\n\t// Finds the next vertex to create faces with the current hull\n\n\tnextVertexToAdd() {\n\n\t\t// if the 'assigned' list of vertices is empty, no vertices are left. return with 'undefined'\n\n\t\tif ( this.assigned.isEmpty() === false ) {\n\n\t\t\tlet eyeVertex, maxDistance = 0;\n\n\t\t\t// grap the first available face and start with the first visible vertex of that face\n\n\t\t\tconst eyeFace = this.assigned.first().face;\n\t\t\tlet vertex = eyeFace.outside;\n\n\t\t\t// now calculate the farthest vertex that face can see\n\n\t\t\tdo {\n\n\t\t\t\tconst distance = eyeFace.distanceToPoint( vertex.point );\n\n\t\t\t\tif ( distance > maxDistance ) {\n\n\t\t\t\t\tmaxDistance = distance;\n\t\t\t\t\teyeVertex = vertex;\n\n\t\t\t\t}\n\n\t\t\t\tvertex = vertex.next;\n\n\t\t\t} while ( vertex !== null && vertex.face === eyeFace );\n\n\t\t\treturn eyeVertex;\n\n\t\t}\n\n\t}\n\n\t// Computes a chain of half edges in CCW order called the 'horizon'.\n\t// For an edge to be part of the horizon it must join a face that can see\n\t// 'eyePoint' and a face that cannot see 'eyePoint'.\n\n\tcomputeHorizon( eyePoint, crossEdge, face, horizon ) {\n\n\t\t// moves face's vertices to the 'unassigned' vertex list\n\n\t\tthis.deleteFaceVertices( face );\n\n\t\tface.mark = Deleted;\n\n\t\tlet edge;\n\n\t\tif ( crossEdge === null ) {\n\n\t\t\tedge = crossEdge = face.getEdge( 0 );\n\n\t\t} else {\n\n\t\t\t// start from the next edge since 'crossEdge' was already analyzed\n\t\t\t// (actually 'crossEdge.twin' was the edge who called this method recursively)\n\n\t\t\tedge = crossEdge.next;\n\n\t\t}\n\n\t\tdo {\n\n\t\t\tconst twinEdge = edge.twin;\n\t\t\tconst oppositeFace = twinEdge.face;\n\n\t\t\tif ( oppositeFace.mark === Visible ) {\n\n\t\t\t\tif ( oppositeFace.distanceToPoint( eyePoint ) > this.tolerance ) {\n\n\t\t\t\t\t// the opposite face can see the vertex, so proceed with next edge\n\n\t\t\t\t\tthis.computeHorizon( eyePoint, twinEdge, oppositeFace, horizon );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// the opposite face can't see the vertex, so this edge is part of the horizon\n\n\t\t\t\t\thorizon.push( edge );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tedge = edge.next;\n\n\t\t} while ( edge !== crossEdge );\n\n\t\treturn this;\n\n\t}\n\n\t// Creates a face with the vertices 'eyeVertex.point', 'horizonEdge.tail' and 'horizonEdge.head' in CCW order\n\n\taddAdjoiningFace( eyeVertex, horizonEdge ) {\n\n\t\t// all the half edges are created in ccw order thus the face is always pointing outside the hull\n\n\t\tconst face = Face.create( eyeVertex, horizonEdge.tail(), horizonEdge.head() );\n\n\t\tthis.faces.push( face );\n\n\t\t// join face.getEdge( - 1 ) with the horizon's opposite edge face.getEdge( - 1 ) = face.getEdge( 2 )\n\n\t\tface.getEdge( - 1 ).setTwin( horizonEdge.twin );\n\n\t\treturn face.getEdge( 0 ); // the half edge whose vertex is the eyeVertex\n\n\n\t}\n\n\t//  Adds 'horizon.length' faces to the hull, each face will be linked with the\n\t//  horizon opposite face and the face on the left/right\n\n\taddNewFaces( eyeVertex, horizon ) {\n\n\t\tthis.newFaces = [];\n\n\t\tlet firstSideEdge = null;\n\t\tlet previousSideEdge = null;\n\n\t\tfor ( let i = 0; i < horizon.length; i ++ ) {\n\n\t\t\tconst horizonEdge = horizon[ i ];\n\n\t\t\t// returns the right side edge\n\n\t\t\tconst sideEdge = this.addAdjoiningFace( eyeVertex, horizonEdge );\n\n\t\t\tif ( firstSideEdge === null ) {\n\n\t\t\t\tfirstSideEdge = sideEdge;\n\n\t\t\t} else {\n\n\t\t\t\t// joins face.getEdge( 1 ) with previousFace.getEdge( 0 )\n\n\t\t\t\tsideEdge.next.setTwin( previousSideEdge );\n\n\t\t\t}\n\n\t\t\tthis.newFaces.push( sideEdge.face );\n\t\t\tpreviousSideEdge = sideEdge;\n\n\t\t}\n\n\t\t// perform final join of new faces\n\n\t\tfirstSideEdge.next.setTwin( previousSideEdge );\n\n\t\treturn this;\n\n\t}\n\n\t// Adds a vertex to the hull\n\n\taddVertexToHull( eyeVertex ) {\n\n\t\tconst horizon = [];\n\n\t\tthis.unassigned.clear();\n\n\t\t// remove 'eyeVertex' from 'eyeVertex.face' so that it can't be added to the 'unassigned' vertex list\n\n\t\tthis.removeVertexFromFace( eyeVertex, eyeVertex.face );\n\n\t\tthis.computeHorizon( eyeVertex.point, null, eyeVertex.face, horizon );\n\n\t\tthis.addNewFaces( eyeVertex, horizon );\n\n\t\t// reassign 'unassigned' vertices to the new faces\n\n\t\tthis.resolveUnassignedPoints( this.newFaces );\n\n\t\treturn\tthis;\n\n\t}\n\n\tcleanup() {\n\n\t\tthis.assigned.clear();\n\t\tthis.unassigned.clear();\n\t\tthis.newFaces = [];\n\n\t\treturn this;\n\n\t}\n\n\tcompute() {\n\n\t\tlet vertex;\n\n\t\tthis.computeInitialHull();\n\n\t\t// add all available vertices gradually to the hull\n\n\t\twhile ( ( vertex = this.nextVertexToAdd() ) !== undefined ) {\n\n\t\t\tthis.addVertexToHull( vertex );\n\n\t\t}\n\n\t\tthis.reindexFaces();\n\n\t\tthis.cleanup();\n\n\t\treturn this;\n\n\t}\n\n}\n\n//\n\nclass Face {\n\n\tconstructor() {\n\n\t\tthis.normal = new Vector3();\n\t\tthis.midpoint = new Vector3();\n\t\tthis.area = 0;\n\n\t\tthis.constant = 0; // signed distance from face to the origin\n\t\tthis.outside = null; // reference to a vertex in a vertex list this face can see\n\t\tthis.mark = Visible;\n\t\tthis.edge = null;\n\n\t}\n\n\tstatic create( a, b, c ) {\n\n\t\tconst face = new Face();\n\n\t\tconst e0 = new HalfEdge( a, face );\n\t\tconst e1 = new HalfEdge( b, face );\n\t\tconst e2 = new HalfEdge( c, face );\n\n\t\t// join edges\n\n\t\te0.next = e2.prev = e1;\n\t\te1.next = e0.prev = e2;\n\t\te2.next = e1.prev = e0;\n\n\t\t// main half edge reference\n\n\t\tface.edge = e0;\n\n\t\treturn face.compute();\n\n\t}\n\n\tgetEdge( i ) {\n\n\t\tlet edge = this.edge;\n\n\t\twhile ( i > 0 ) {\n\n\t\t\tedge = edge.next;\n\t\t\ti --;\n\n\t\t}\n\n\t\twhile ( i < 0 ) {\n\n\t\t\tedge = edge.prev;\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn edge;\n\n\t}\n\n\tcompute() {\n\n\t\tconst a = this.edge.tail();\n\t\tconst b = this.edge.head();\n\t\tconst c = this.edge.next.head();\n\n\t\t_triangle.set( a.point, b.point, c.point );\n\n\t\t_triangle.getNormal( this.normal );\n\t\t_triangle.getMidpoint( this.midpoint );\n\t\tthis.area = _triangle.getArea();\n\n\t\tthis.constant = this.normal.dot( this.midpoint );\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) - this.constant;\n\n\t}\n\n}\n\n// Entity for a Doubly-Connected Edge List (DCEL).\n\nclass HalfEdge {\n\n\n\tconstructor( vertex, face ) {\n\n\t\tthis.vertex = vertex;\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t\tthis.twin = null;\n\t\tthis.face = face;\n\n\t}\n\n\thead() {\n\n\t\treturn this.vertex;\n\n\t}\n\n\ttail() {\n\n\t\treturn this.prev ? this.prev.vertex : null;\n\n\t}\n\n\tlength() {\n\n\t\tconst head = this.head();\n\t\tconst tail = this.tail();\n\n\t\tif ( tail !== null ) {\n\n\t\t\treturn tail.point.distanceTo( head.point );\n\n\t\t}\n\n\t\treturn - 1;\n\n\t}\n\n\tlengthSquared() {\n\n\t\tconst head = this.head();\n\t\tconst tail = this.tail();\n\n\t\tif ( tail !== null ) {\n\n\t\t\treturn tail.point.distanceToSquared( head.point );\n\n\t\t}\n\n\t\treturn - 1;\n\n\t}\n\n\tsetTwin( edge ) {\n\n\t\tthis.twin = edge;\n\t\tedge.twin = this;\n\n\t\treturn this;\n\n\t}\n\n}\n\n// A vertex as a double linked list node.\n\nclass VertexNode {\n\n\tconstructor( point ) {\n\n\t\tthis.point = point;\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t\tthis.face = null; // the face that is able to see this vertex\n\n\t}\n\n}\n\n// A double linked list that contains vertex nodes.\n\nclass VertexList {\n\n\tconstructor() {\n\n\t\tthis.head = null;\n\t\tthis.tail = null;\n\n\t}\n\n\tfirst() {\n\n\t\treturn this.head;\n\n\t}\n\n\tlast() {\n\n\t\treturn this.tail;\n\n\t}\n\n\tclear() {\n\n\t\tthis.head = this.tail = null;\n\n\t\treturn this;\n\n\t}\n\n\t// Inserts a vertex before the target vertex\n\n\tinsertBefore( target, vertex ) {\n\n\t\tvertex.prev = target.prev;\n\t\tvertex.next = target;\n\n\t\tif ( vertex.prev === null ) {\n\n\t\t\tthis.head = vertex;\n\n\t\t} else {\n\n\t\t\tvertex.prev.next = vertex;\n\n\t\t}\n\n\t\ttarget.prev = vertex;\n\n\t\treturn this;\n\n\t}\n\n\t// Inserts a vertex after the target vertex\n\n\tinsertAfter( target, vertex ) {\n\n\t\tvertex.prev = target;\n\t\tvertex.next = target.next;\n\n\t\tif ( vertex.next === null ) {\n\n\t\t\tthis.tail = vertex;\n\n\t\t} else {\n\n\t\t\tvertex.next.prev = vertex;\n\n\t\t}\n\n\t\ttarget.next = vertex;\n\n\t\treturn this;\n\n\t}\n\n\t// Appends a vertex to the end of the linked list\n\n\tappend( vertex ) {\n\n\t\tif ( this.head === null ) {\n\n\t\t\tthis.head = vertex;\n\n\t\t} else {\n\n\t\t\tthis.tail.next = vertex;\n\n\t\t}\n\n\t\tvertex.prev = this.tail;\n\t\tvertex.next = null; // the tail has no subsequent vertex\n\n\t\tthis.tail = vertex;\n\n\t\treturn this;\n\n\t}\n\n\t// Appends a chain of vertices where 'vertex' is the head.\n\n\tappendChain( vertex ) {\n\n\t\tif ( this.head === null ) {\n\n\t\t\tthis.head = vertex;\n\n\t\t} else {\n\n\t\t\tthis.tail.next = vertex;\n\n\t\t}\n\n\t\tvertex.prev = this.tail;\n\n\t\t// ensure that the 'tail' reference points to the last vertex of the chain\n\n\t\twhile ( vertex.next !== null ) {\n\n\t\t\tvertex = vertex.next;\n\n\t\t}\n\n\t\tthis.tail = vertex;\n\n\t\treturn this;\n\n\t}\n\n\t// Removes a vertex from the linked list\n\n\tremove( vertex ) {\n\n\t\tif ( vertex.prev === null ) {\n\n\t\t\tthis.head = vertex.next;\n\n\t\t} else {\n\n\t\t\tvertex.prev.next = vertex.next;\n\n\t\t}\n\n\t\tif ( vertex.next === null ) {\n\n\t\t\tthis.tail = vertex.prev;\n\n\t\t} else {\n\n\t\t\tvertex.next.prev = vertex.prev;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Removes a list of vertices whose 'head' is 'a' and whose 'tail' is b\n\n\tremoveSubList( a, b ) {\n\n\t\tif ( a.prev === null ) {\n\n\t\t\tthis.head = b.next;\n\n\t\t} else {\n\n\t\t\ta.prev.next = b.next;\n\n\t\t}\n\n\t\tif ( b.next === null ) {\n\n\t\t\tthis.tail = a.prev;\n\n\t\t} else {\n\n\t\t\tb.next.prev = a.prev;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn this.head === null;\n\n\t}\n\n}\n\nexport { ConvexHull, Face, HalfEdge, VertexNode, VertexList };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute\n} from 'three';\nimport { ConvexHull } from '../math/ConvexHull.js';\n\nclass ConvexGeometry extends BufferGeometry {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\t// buffers\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\n\t\tconst convexHull = new ConvexHull().setFromPoints( points );\n\n\t\t// generate vertices and normals\n\n\t\tconst faces = convexHull.faces;\n\n\t\tfor ( let i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\t\t\tlet edge = face.edge;\n\n\t\t\t// we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n\t\t\tdo {\n\n\t\t\t\tconst point = edge.head().point;\n\n\t\t\t\tvertices.push( point.x, point.y, point.z );\n\t\t\t\tnormals.push( face.normal.x, face.normal.y, face.normal.z );\n\n\t\t\t\tedge = edge.next;\n\n\t\t\t} while ( edge !== face.edge );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t}\n\n}\n\nexport { ConvexGeometry };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tMatrix4,\n\tVector3\n} from 'three';\n\n/**\n * You can use this geometry to create a decal mesh, that serves different kinds of purposes.\n * e.g. adding unique details to models, performing dynamic visual environmental changes or covering seams.\n *\n * Constructor parameter:\n *\n * mesh — Any mesh object\n * position — Position of the decal projector\n * orientation — Orientation of the decal projector\n * size — Size of the decal projector\n *\n * reference: http://blog.wolfire.com/2009/06/how-to-project-decals/\n *\n */\n\nclass DecalGeometry extends BufferGeometry {\n\n\tconstructor( mesh, position, orientation, size ) {\n\n\t\tsuper();\n\n\t\t// buffers\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helpers\n\n\t\tconst plane = new Vector3();\n\n\t\t// this matrix represents the transformation of the decal projector\n\n\t\tconst projectorMatrix = new Matrix4();\n\t\tprojectorMatrix.makeRotationFromEuler( orientation );\n\t\tprojectorMatrix.setPosition( position );\n\n\t\tconst projectorMatrixInverse = new Matrix4();\n\t\tprojectorMatrixInverse.copy( projectorMatrix ).invert();\n\n\t\t// generate buffers\n\n\t\tgenerate();\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generate() {\n\n\t\t\tlet decalVertices = [];\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3();\n\n\t\t\t// handle different geometry types\n\n\t\t\tconst geometry = mesh.geometry;\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst normalAttribute = geometry.attributes.normal;\n\n\t\t\t// first, create an array of 'DecalVertex' objects\n\t\t\t// three consecutive 'DecalVertex' objects represent a single face\n\t\t\t//\n\t\t\t// this data structure will be later used to perform the clipping\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst index = geometry.index;\n\n\t\t\t\tfor ( let i = 0; i < index.count; i ++ ) {\n\n\t\t\t\t\tvertex.fromBufferAttribute( positionAttribute, index.getX( i ) );\n\t\t\t\t\tnormal.fromBufferAttribute( normalAttribute, index.getX( i ) );\n\n\t\t\t\t\tpushDecalVertex( decalVertices, vertex, normal );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tfor ( let i = 0; i < positionAttribute.count; i ++ ) {\n\n\t\t\t\t\tvertex.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tnormal.fromBufferAttribute( normalAttribute, i );\n\n\t\t\t\t\tpushDecalVertex( decalVertices, vertex, normal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// second, clip the geometry so that it doesn't extend out from the projector\n\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 1, 0, 0 ) );\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( - 1, 0, 0 ) );\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 1, 0 ) );\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, - 1, 0 ) );\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 0, 1 ) );\n\t\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 0, - 1 ) );\n\n\t\t\t// third, generate final vertices, normals and uvs\n\n\t\t\tfor ( let i = 0; i < decalVertices.length; i ++ ) {\n\n\t\t\t\tconst decalVertex = decalVertices[ i ];\n\n\t\t\t\t// create texture coordinates (we are still in projector space)\n\n\t\t\t\tuvs.push(\n\t\t\t\t\t0.5 + ( decalVertex.position.x / size.x ),\n\t\t\t\t\t0.5 + ( decalVertex.position.y / size.y )\n\t\t\t\t);\n\n\t\t\t\t// transform the vertex back to world space\n\n\t\t\t\tdecalVertex.position.applyMatrix4( projectorMatrix );\n\n\t\t\t\t// now create vertex and normal buffer data\n\n\t\t\t\tvertices.push( decalVertex.position.x, decalVertex.position.y, decalVertex.position.z );\n\t\t\t\tnormals.push( decalVertex.normal.x, decalVertex.normal.y, decalVertex.normal.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushDecalVertex( decalVertices, vertex, normal ) {\n\n\t\t\t// transform the vertex to world space, then to projector space\n\n\t\t\tvertex.applyMatrix4( mesh.matrixWorld );\n\t\t\tvertex.applyMatrix4( projectorMatrixInverse );\n\n\t\t\tnormal.transformDirection( mesh.matrixWorld );\n\n\t\t\tdecalVertices.push( new DecalVertex( vertex.clone(), normal.clone() ) );\n\n\t\t}\n\n\t\tfunction clipGeometry( inVertices, plane ) {\n\n\t\t\tconst outVertices = [];\n\n\t\t\tconst s = 0.5 * Math.abs( size.dot( plane ) );\n\n\t\t\t// a single iteration clips one face,\n\t\t\t// which consists of three consecutive 'DecalVertex' objects\n\n\t\t\tfor ( let i = 0; i < inVertices.length; i += 3 ) {\n\n\t\t\t\tlet total = 0;\n\t\t\t\tlet nV1;\n\t\t\t\tlet nV2;\n\t\t\t\tlet nV3;\n\t\t\t\tlet nV4;\n\n\t\t\t\tconst d1 = inVertices[ i + 0 ].position.dot( plane ) - s;\n\t\t\t\tconst d2 = inVertices[ i + 1 ].position.dot( plane ) - s;\n\t\t\t\tconst d3 = inVertices[ i + 2 ].position.dot( plane ) - s;\n\n\t\t\t\tconst v1Out = d1 > 0;\n\t\t\t\tconst v2Out = d2 > 0;\n\t\t\t\tconst v3Out = d3 > 0;\n\n\t\t\t\t// calculate, how many vertices of the face lie outside of the clipping plane\n\n\t\t\t\ttotal = ( v1Out ? 1 : 0 ) + ( v2Out ? 1 : 0 ) + ( v3Out ? 1 : 0 );\n\n\t\t\t\tswitch ( total ) {\n\n\t\t\t\t\tcase 0: {\n\n\t\t\t\t\t\t// the entire face lies inside of the plane, no clipping needed\n\n\t\t\t\t\t\toutVertices.push( inVertices[ i ] );\n\t\t\t\t\t\toutVertices.push( inVertices[ i + 1 ] );\n\t\t\t\t\t\toutVertices.push( inVertices[ i + 2 ] );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 1: {\n\n\t\t\t\t\t\t// one vertex lies outside of the plane, perform clipping\n\n\t\t\t\t\t\tif ( v1Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i + 1 ];\n\t\t\t\t\t\t\tnV2 = inVertices[ i + 2 ];\n\t\t\t\t\t\t\tnV3 = clip( inVertices[ i ], nV1, plane, s );\n\t\t\t\t\t\t\tnV4 = clip( inVertices[ i ], nV2, plane, s );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( v2Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i ];\n\t\t\t\t\t\t\tnV2 = inVertices[ i + 2 ];\n\t\t\t\t\t\t\tnV3 = clip( inVertices[ i + 1 ], nV1, plane, s );\n\t\t\t\t\t\t\tnV4 = clip( inVertices[ i + 1 ], nV2, plane, s );\n\n\t\t\t\t\t\t\toutVertices.push( nV3 );\n\t\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\t\t\toutVertices.push( nV1.clone() );\n\n\t\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\t\t\toutVertices.push( nV3.clone() );\n\t\t\t\t\t\t\toutVertices.push( nV4 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( v3Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i ];\n\t\t\t\t\t\t\tnV2 = inVertices[ i + 1 ];\n\t\t\t\t\t\t\tnV3 = clip( inVertices[ i + 2 ], nV1, plane, s );\n\t\t\t\t\t\t\tnV4 = clip( inVertices[ i + 2 ], nV2, plane, s );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toutVertices.push( nV1.clone() );\n\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t\toutVertices.push( nV4 );\n\t\t\t\t\t\toutVertices.push( nV3.clone() );\n\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 2: {\n\n\t\t\t\t\t\t// two vertices lies outside of the plane, perform clipping\n\n\t\t\t\t\t\tif ( ! v1Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i ].clone();\n\t\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i + 1 ], plane, s );\n\t\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i + 2 ], plane, s );\n\t\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( ! v2Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i + 1 ].clone();\n\t\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i + 2 ], plane, s );\n\t\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i ], plane, s );\n\t\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( ! v3Out ) {\n\n\t\t\t\t\t\t\tnV1 = inVertices[ i + 2 ].clone();\n\t\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i ], plane, s );\n\t\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i + 1 ], plane, s );\n\t\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 3: {\n\n\t\t\t\t\t\t// the entire face lies outside of the plane, so let's discard the corresponding vertices\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn outVertices;\n\n\t\t}\n\n\t\tfunction clip( v0, v1, p, s ) {\n\n\t\t\tconst d0 = v0.position.dot( p ) - s;\n\t\t\tconst d1 = v1.position.dot( p ) - s;\n\n\t\t\tconst s0 = d0 / ( d0 - d1 );\n\n\t\t\tconst v = new DecalVertex(\n\t\t\t\tnew Vector3(\n\t\t\t\t\tv0.position.x + s0 * ( v1.position.x - v0.position.x ),\n\t\t\t\t\tv0.position.y + s0 * ( v1.position.y - v0.position.y ),\n\t\t\t\t\tv0.position.z + s0 * ( v1.position.z - v0.position.z )\n\t\t\t\t),\n\t\t\t\tnew Vector3(\n\t\t\t\t\tv0.normal.x + s0 * ( v1.normal.x - v0.normal.x ),\n\t\t\t\t\tv0.normal.y + s0 * ( v1.normal.y - v0.normal.y ),\n\t\t\t\t\tv0.normal.z + s0 * ( v1.normal.z - v0.normal.z )\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// need to clip more values (texture coordinates)? do it this way:\n\t\t\t// intersectpoint.value = a.value + s * ( b.value - a.value );\n\n\t\t\treturn v;\n\n\t\t}\n\n\t}\n\n}\n\n// helper\n\nclass DecalVertex {\n\n\tconstructor( position, normal ) {\n\n\t\tthis.position = position;\n\t\tthis.normal = normal;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.position.clone(), this.normal.clone() );\n\n\t}\n\n}\n\nexport { DecalGeometry, DecalVertex };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLineSegments,\n\tLineBasicMaterial,\n\tMatrix3,\n\tVector3\n} from 'three';\n\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\nconst _normalMatrix = new Matrix3();\n\nclass VertexNormalsHelper extends LineSegments {\n\n\tconstructor( object, size = 1, color = 0xff0000 ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst nNormals = object.geometry.attributes.normal.count;\n\t\tconst positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\t\tgeometry.setAttribute( 'position', positions );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.size = size;\n\t\tthis.type = 'VertexNormalsHelper';\n\n\t\t//\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\t_normalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tconst matrixWorld = this.object.matrixWorld;\n\n\t\tconst position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tconst objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry ) {\n\n\t\t\tconst objPos = objGeometry.attributes.position;\n\n\t\t\tconst objNorm = objGeometry.attributes.normal;\n\n\t\t\tlet idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( let j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\t_v1.fromBufferAttribute( objPos, j ).applyMatrix4( matrixWorld );\n\n\t\t\t\t_v2.fromBufferAttribute( objNorm, j );\n\n\t\t\t\t_v2.applyMatrix3( _normalMatrix ).normalize().multiplyScalar( this.size ).add( _v1 );\n\n\t\t\t\tposition.setXYZ( idx, _v1.x, _v1.y, _v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, _v2.x, _v2.y, _v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nexport { VertexNormalsHelper };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLineSegments,\n\tLineBasicMaterial,\n\tVector3\n} from 'three';\n\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\n\nclass VertexTangentsHelper extends LineSegments {\n\n\tconstructor( object, size = 1, color = 0x00ffff ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst nTangents = object.geometry.attributes.tangent.count;\n\t\tconst positions = new Float32BufferAttribute( nTangents * 2 * 3, 3 );\n\n\t\tgeometry.setAttribute( 'position', positions );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.size = size;\n\t\tthis.type = 'VertexTangentsHelper';\n\n\t\t//\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tconst matrixWorld = this.object.matrixWorld;\n\n\t\tconst position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tconst objGeometry = this.object.geometry;\n\n\t\tconst objPos = objGeometry.attributes.position;\n\n\t\tconst objTan = objGeometry.attributes.tangent;\n\n\t\tlet idx = 0;\n\n\t\t// for simplicity, ignore index and drawcalls, and render every tangent\n\n\t\tfor ( let j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t_v1.fromBufferAttribute( objPos, j ).applyMatrix4( matrixWorld );\n\n\t\t\t_v2.fromBufferAttribute( objTan, j );\n\n\t\t\t_v2.transformDirection( matrixWorld ).multiplyScalar( this.size ).add( _v1 );\n\n\t\t\tposition.setXYZ( idx, _v1.x, _v1.y, _v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, _v2.x, _v2.y, _v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nexport { VertexTangentsHelper };\n","import {\n\tAdditiveBlending,\n\tBufferGeometry,\n\tColor,\n\tDoubleSide,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLoader,\n\tLoaderUtils,\n\tMatrix4,\n\tMesh,\n\tMeshPhongMaterial,\n\tTextureLoader\n} from 'three';\n\n/**\n * Autodesk 3DS three.js file loader, based on lib3ds.\n *\n * Loads geometry with uv and materials basic properties with texture support.\n *\n * @class TDSLoader\n * @constructor\n */\n\nclass TDSLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.debug = false;\n\n\t\tthis.group = null;\n\n\t\tthis.materials = [];\n\t\tthis.meshes = [];\n\n\t}\n\n\t/**\n\t * Load 3ds file from url.\n\t *\n\t * @method load\n\t * @param {[type]} url URL for the file.\n\t * @param {Function} onLoad onLoad callback, receives group Object3D as argument.\n\t * @param {Function} onProgress onProgress callback.\n\t * @param {Function} onError onError callback.\n\t */\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( data, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Parse arraybuffer data and load 3ds file.\n\t *\n\t * @method parse\n\t * @param {ArrayBuffer} arraybuffer Arraybuffer data to be loaded.\n\t * @param {String} path Path for external resources.\n\t * @return {Group} Group loaded from 3ds file.\n\t */\n\tparse( arraybuffer, path ) {\n\n\t\tthis.group = new Group();\n\t\tthis.materials = [];\n\t\tthis.meshes = [];\n\n\t\tthis.readFile( arraybuffer, path );\n\n\t\tfor ( let i = 0; i < this.meshes.length; i ++ ) {\n\n\t\t\tthis.group.add( this.meshes[ i ] );\n\n\t\t}\n\n\t\treturn this.group;\n\n\t}\n\n\t/**\n\t * Decode file content to read 3ds data.\n\t *\n\t * @method readFile\n\t * @param {ArrayBuffer} arraybuffer Arraybuffer data to be loaded.\n\t * @param {String} path Path for external resources.\n\t */\n\treadFile( arraybuffer, path ) {\n\n\t\tconst data = new DataView( arraybuffer );\n\t\tconst chunk = new Chunk( data, 0, this.debugMessage );\n\n\t\tif ( chunk.id === MLIBMAGIC || chunk.id === CMAGIC || chunk.id === M3DMAGIC ) {\n\n\t\t\tlet next = chunk.readChunk();\n\n\t\t\twhile ( next ) {\n\n\t\t\t\tif ( next.id === M3D_VERSION ) {\n\n\t\t\t\t\tconst version = next.readDWord();\n\t\t\t\t\tthis.debugMessage( '3DS file version: ' + version );\n\n\t\t\t\t} else if ( next.id === MDATA ) {\n\n\t\t\t\t\tthis.readMeshData( next, path );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.debugMessage( 'Unknown main chunk: ' + next.hexId );\n\n\t\t\t\t}\n\n\t\t\t\tnext = chunk.readChunk();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.debugMessage( 'Parsed ' + this.meshes.length + ' meshes' );\n\n\t}\n\n\t/**\n\t * Read mesh data chunk.\n\t *\n\t * @method readMeshData\n\t * @param {Chunk} chunk to read mesh from\n\t * @param {String} path Path for external resources.\n\t */\n\treadMeshData( chunk, path ) {\n\n\t\tlet next = chunk.readChunk();\n\n\t\twhile ( next ) {\n\n\t\t\tif ( next.id === MESH_VERSION ) {\n\n\t\t\t\tconst version = + next.readDWord();\n\t\t\t\tthis.debugMessage( 'Mesh Version: ' + version );\n\n\t\t\t} else if ( next.id === MASTER_SCALE ) {\n\n\t\t\t\tconst scale = next.readFloat();\n\t\t\t\tthis.debugMessage( 'Master scale: ' + scale );\n\t\t\t\tthis.group.scale.set( scale, scale, scale );\n\n\t\t\t} else if ( next.id === NAMED_OBJECT ) {\n\n\t\t\t\tthis.debugMessage( 'Named Object' );\n\t\t\t\tthis.readNamedObject( next );\n\n\t\t\t} else if ( next.id === MAT_ENTRY ) {\n\n\t\t\t\tthis.debugMessage( 'Material' );\n\t\t\t\tthis.readMaterialEntry( next, path );\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( 'Unknown MDATA chunk: ' + next.hexId );\n\n\t\t\t}\n\n\t\t\tnext = chunk.readChunk();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Read named object chunk.\n\t *\n\t * @method readNamedObject\n\t * @param {Chunk} chunk Chunk in use.\n\t */\n\treadNamedObject( chunk ) {\n\n\t\tconst name = chunk.readString();\n\n\t\tlet next = chunk.readChunk();\n\t\twhile ( next ) {\n\n\t\t\tif ( next.id === N_TRI_OBJECT ) {\n\n\t\t\t\tconst mesh = this.readMesh( next );\n\t\t\t\tmesh.name = name;\n\t\t\t\tthis.meshes.push( mesh );\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( 'Unknown named object chunk: ' + next.hexId );\n\n\t\t\t}\n\n\t\t\tnext = chunk.readChunk( );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Read material data chunk and add it to the material list.\n\t *\n\t * @method readMaterialEntry\n\t * @param {Chunk} chunk Chunk in use.\n\t * @param {String} path Path for external resources.\n\t */\n\treadMaterialEntry( chunk, path ) {\n\n\t\tlet next = chunk.readChunk();\n\t\tconst material = new MeshPhongMaterial();\n\n\t\twhile ( next ) {\n\n\t\t\tif ( next.id === MAT_NAME ) {\n\n\t\t\t\tmaterial.name = next.readString();\n\t\t\t\tthis.debugMessage( '   Name: ' + material.name );\n\n\t\t\t} else if ( next.id === MAT_WIRE ) {\n\n\t\t\t\tthis.debugMessage( '   Wireframe' );\n\t\t\t\tmaterial.wireframe = true;\n\n\t\t\t} else if ( next.id === MAT_WIRE_SIZE ) {\n\n\t\t\t\tconst value = next.readByte();\n\t\t\t\tmaterial.wireframeLinewidth = value;\n\t\t\t\tthis.debugMessage( '   Wireframe Thickness: ' + value );\n\n\t\t\t} else if ( next.id === MAT_TWO_SIDE ) {\n\n\t\t\t\tmaterial.side = DoubleSide;\n\t\t\t\tthis.debugMessage( '   DoubleSided' );\n\n\t\t\t} else if ( next.id === MAT_ADDITIVE ) {\n\n\t\t\t\tthis.debugMessage( '   Additive Blending' );\n\t\t\t\tmaterial.blending = AdditiveBlending;\n\n\t\t\t} else if ( next.id === MAT_DIFFUSE ) {\n\n\t\t\t\tthis.debugMessage( '   Diffuse Color' );\n\t\t\t\tmaterial.color = this.readColor( next );\n\n\t\t\t} else if ( next.id === MAT_SPECULAR ) {\n\n\t\t\t\tthis.debugMessage( '   Specular Color' );\n\t\t\t\tmaterial.specular = this.readColor( next );\n\n\t\t\t} else if ( next.id === MAT_AMBIENT ) {\n\n\t\t\t\tthis.debugMessage( '   Ambient color' );\n\t\t\t\tmaterial.color = this.readColor( next );\n\n\t\t\t} else if ( next.id === MAT_SHININESS ) {\n\n\t\t\t\tconst shininess = this.readPercentage( next );\n\t\t\t\tmaterial.shininess = shininess * 100;\n\t\t\t\tthis.debugMessage( '   Shininess : ' + shininess );\n\n\t\t\t} else if ( next.id === MAT_TRANSPARENCY ) {\n\n\t\t\t\tconst transparency = this.readPercentage( next );\n\t\t\t\tmaterial.opacity = 1 - transparency;\n\t\t\t\tthis.debugMessage( '  Transparency : ' + transparency );\n\t\t\t\tmaterial.transparent = material.opacity < 1 ? true : false;\n\n\t\t\t} else if ( next.id === MAT_TEXMAP ) {\n\n\t\t\t\tthis.debugMessage( '   ColorMap' );\n\t\t\t\tmaterial.map = this.readMap( next, path );\n\n\t\t\t} else if ( next.id === MAT_BUMPMAP ) {\n\n\t\t\t\tthis.debugMessage( '   BumpMap' );\n\t\t\t\tmaterial.bumpMap = this.readMap( next, path );\n\n\t\t\t} else if ( next.id === MAT_OPACMAP ) {\n\n\t\t\t\tthis.debugMessage( '   OpacityMap' );\n\t\t\t\tmaterial.alphaMap = this.readMap( next, path );\n\n\t\t\t} else if ( next.id === MAT_SPECMAP ) {\n\n\t\t\t\tthis.debugMessage( '   SpecularMap' );\n\t\t\t\tmaterial.specularMap = this.readMap( next, path );\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( '   Unknown material chunk: ' + next.hexId );\n\n\t\t\t}\n\n\t\t\tnext = chunk.readChunk();\n\n\t\t}\n\n\t\tthis.materials[ material.name ] = material;\n\n\t}\n\n\t/**\n\t * Read mesh data chunk.\n\t *\n\t * @method readMesh\n\t * @param {Chunk} chunk Chunk in use.\n\t * @return {Mesh} The parsed mesh.\n\t */\n\treadMesh( chunk ) {\n\n\t\tlet next = chunk.readChunk( );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst material = new MeshPhongMaterial();\n\t\tconst mesh = new Mesh( geometry, material );\n\t\tmesh.name = 'mesh';\n\n\t\twhile ( next ) {\n\n\t\t\tif ( next.id === POINT_ARRAY ) {\n\n\t\t\t\tconst points = next.readWord( );\n\n\t\t\t\tthis.debugMessage( '   Vertex: ' + points );\n\n\t\t\t\t//BufferGeometry\n\n\t\t\t\tconst vertices = [];\n\n\t\t\t\tfor ( let i = 0; i < points; i ++ )\t\t{\n\n\t\t\t\t\tvertices.push( next.readFloat( ) );\n\t\t\t\t\tvertices.push( next.readFloat( ) );\n\t\t\t\t\tvertices.push( next.readFloat( ) );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t\t} else if ( next.id === FACE_ARRAY ) {\n\n\t\t\t\tthis.readFaceArray( next, mesh );\n\n\t\t\t} else if ( next.id === TEX_VERTS ) {\n\n\t\t\t\tconst texels = next.readWord( );\n\n\t\t\t\tthis.debugMessage( '   UV: ' + texels );\n\n\t\t\t\t//BufferGeometry\n\n\t\t\t\tconst uvs = [];\n\n\t\t\t\tfor ( let i = 0; i < texels; i ++ ) {\n\n\t\t\t\t\tuvs.push( next.readFloat( ) );\n\t\t\t\t\tuvs.push( next.readFloat( ) );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t\t} else if ( next.id === MESH_MATRIX ) {\n\n\t\t\t\tthis.debugMessage( '   Tranformation Matrix (TODO)' );\n\n\t\t\t\tconst values = [];\n\t\t\t\tfor ( let i = 0; i < 12; i ++ ) {\n\n\t\t\t\t\tvalues[ i ] = next.readFloat( );\n\n\t\t\t\t}\n\n\t\t\t\tconst matrix = new Matrix4();\n\n\t\t\t\t//X Line\n\t\t\t\tmatrix.elements[ 0 ] = values[ 0 ];\n\t\t\t\tmatrix.elements[ 1 ] = values[ 6 ];\n\t\t\t\tmatrix.elements[ 2 ] = values[ 3 ];\n\t\t\t\tmatrix.elements[ 3 ] = values[ 9 ];\n\n\t\t\t\t//Y Line\n\t\t\t\tmatrix.elements[ 4 ] = values[ 2 ];\n\t\t\t\tmatrix.elements[ 5 ] = values[ 8 ];\n\t\t\t\tmatrix.elements[ 6 ] = values[ 5 ];\n\t\t\t\tmatrix.elements[ 7 ] = values[ 11 ];\n\n\t\t\t\t//Z Line\n\t\t\t\tmatrix.elements[ 8 ] = values[ 1 ];\n\t\t\t\tmatrix.elements[ 9 ] = values[ 7 ];\n\t\t\t\tmatrix.elements[ 10 ] = values[ 4 ];\n\t\t\t\tmatrix.elements[ 11 ] = values[ 10 ];\n\n\t\t\t\t//W Line\n\t\t\t\tmatrix.elements[ 12 ] = 0;\n\t\t\t\tmatrix.elements[ 13 ] = 0;\n\t\t\t\tmatrix.elements[ 14 ] = 0;\n\t\t\t\tmatrix.elements[ 15 ] = 1;\n\n\t\t\t\tmatrix.transpose();\n\n\t\t\t\tconst inverse = new Matrix4();\n\t\t\t\tinverse.copy( matrix ).invert();\n\t\t\t\tgeometry.applyMatrix4( inverse );\n\n\t\t\t\tmatrix.decompose( mesh.position, mesh.quaternion, mesh.scale );\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( '   Unknown mesh chunk: ' + next.hexId );\n\n\t\t\t}\n\n\t\t\tnext = chunk.readChunk( );\n\n\t\t}\n\n\t\tgeometry.computeVertexNormals();\n\n\t\treturn mesh;\n\n\t}\n\n\t/**\n\t * Read face array data chunk.\n\t *\n\t * @method readFaceArray\n\t * @param {Chunk} chunk Chunk in use.\n\t * @param {Mesh} mesh Mesh to be filled with the data read.\n\t */\n\treadFaceArray( chunk, mesh ) {\n\n\t\tconst faces = chunk.readWord( );\n\n\t\tthis.debugMessage( '   Faces: ' + faces );\n\n\t\tconst index = [];\n\n\t\tfor ( let i = 0; i < faces; ++ i ) {\n\n\t\t\tindex.push( chunk.readWord( ), chunk.readWord( ), chunk.readWord( ) );\n\n\t\t\tchunk.readWord( ); // visibility\n\n\t\t}\n\n\t\tmesh.geometry.setIndex( index );\n\n\t\t//The rest of the FACE_ARRAY chunk is subchunks\n\n\t\tlet materialIndex = 0;\n\t\tlet start = 0;\n\n\t\twhile ( ! chunk.endOfChunk ) {\n\n\t\t\tconst subchunk = chunk.readChunk( );\n\n\t\t\tif ( subchunk.id === MSH_MAT_GROUP ) {\n\n\t\t\t\tthis.debugMessage( '      Material Group' );\n\n\t\t\t\tconst group = this.readMaterialGroup( subchunk );\n\t\t\t\tconst count = group.index.length * 3; // assuming successive indices\n\n\t\t\t\tmesh.geometry.addGroup( start, count, materialIndex );\n\n\t\t\t\tstart += count;\n\t\t\t\tmaterialIndex ++;\n\n\t\t\t\tconst material = this.materials[ group.name ];\n\n\t\t\t\tif ( Array.isArray( mesh.material ) === false ) mesh.material = [];\n\n\t\t\t\tif ( material !== undefined )\t{\n\n\t\t\t\t\tmesh.material.push( material );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( '      Unknown face array chunk: ' + subchunk.hexId );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( mesh.material.length === 1 ) mesh.material = mesh.material[ 0 ]; // for backwards compatibility\n\n\t}\n\n\t/**\n\t * Read texture map data chunk.\n\t *\n\t * @method readMap\n\t * @param {Chunk} chunk Chunk in use.\n\t * @param {String} path Path for external resources.\n\t * @return {Texture} Texture read from this data chunk.\n\t */\n\treadMap( chunk, path ) {\n\n\t\tlet next = chunk.readChunk( );\n\t\tlet texture = {};\n\n\t\tconst loader = new TextureLoader( this.manager );\n\t\tloader.setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\twhile ( next ) {\n\n\t\t\tif ( next.id === MAT_MAPNAME ) {\n\n\t\t\t\tconst name = next.readString();\n\t\t\t\ttexture = loader.load( name );\n\n\t\t\t\tthis.debugMessage( '      File: ' + path + name );\n\n\t\t\t} else if ( next.id === MAT_MAP_UOFFSET ) {\n\n\t\t\t\ttexture.offset.x = next.readFloat( );\n\t\t\t\tthis.debugMessage( '      OffsetX: ' + texture.offset.x );\n\n\t\t\t} else if ( next.id === MAT_MAP_VOFFSET ) {\n\n\t\t\t\ttexture.offset.y = next.readFloat( );\n\t\t\t\tthis.debugMessage( '      OffsetY: ' + texture.offset.y );\n\n\t\t\t} else if ( next.id === MAT_MAP_USCALE ) {\n\n\t\t\t\ttexture.repeat.x = next.readFloat( );\n\t\t\t\tthis.debugMessage( '      RepeatX: ' + texture.repeat.x );\n\n\t\t\t} else if ( next.id === MAT_MAP_VSCALE ) {\n\n\t\t\t\ttexture.repeat.y = next.readFloat( );\n\t\t\t\tthis.debugMessage( '      RepeatY: ' + texture.repeat.y );\n\n\t\t\t} else {\n\n\t\t\t\tthis.debugMessage( '      Unknown map chunk: ' + next.hexId );\n\n\t\t\t}\n\n\t\t\tnext = chunk.readChunk( );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\t/**\n\t * Read material group data chunk.\n\t *\n\t * @method readMaterialGroup\n\t * @param {Chunk} chunk Chunk in use.\n\t * @return {Object} Object with name and index of the object.\n\t */\n\treadMaterialGroup( chunk ) {\n\n\t\tconst name = chunk.readString();\n\t\tconst numFaces = chunk.readWord();\n\n\t\tthis.debugMessage( '         Name: ' + name );\n\t\tthis.debugMessage( '         Faces: ' + numFaces );\n\n\t\tconst index = [];\n\t\tfor ( let i = 0; i < numFaces; ++ i ) {\n\n\t\t\tindex.push( chunk.readWord( ) );\n\n\t\t}\n\n\t\treturn { name: name, index: index };\n\n\t}\n\n\t/**\n\t * Read a color value.\n\t *\n\t * @method readColor\n\t * @param {Chunk} chunk Chunk.\n\t * @return {Color} Color value read..\n\t */\n\treadColor( chunk ) {\n\n\t\tconst subChunk = chunk.readChunk( );\n\t\tconst color = new Color();\n\n\t\tif ( subChunk.id === COLOR_24 || subChunk.id === LIN_COLOR_24 ) {\n\n\t\t\tconst r = subChunk.readByte( );\n\t\t\tconst g = subChunk.readByte( );\n\t\t\tconst b = subChunk.readByte( );\n\n\t\t\tcolor.setRGB( r / 255, g / 255, b / 255 );\n\n\t\t\tthis.debugMessage( '      Color: ' + color.r + ', ' + color.g + ', ' + color.b );\n\n\t\t}\telse if ( subChunk.id === COLOR_F || subChunk.id === LIN_COLOR_F ) {\n\n\t\t\tconst r = subChunk.readFloat( );\n\t\t\tconst g = subChunk.readFloat( );\n\t\t\tconst b = subChunk.readFloat( );\n\n\t\t\tcolor.setRGB( r, g, b );\n\n\t\t\tthis.debugMessage( '      Color: ' + color.r + ', ' + color.g + ', ' + color.b );\n\n\t\t}\telse {\n\n\t\t\tthis.debugMessage( '      Unknown color chunk: ' + subChunk.hexId );\n\n\t\t}\n\n\t\treturn color;\n\n\t}\n\n\t/**\n\t * Read percentage value.\n\t *\n\t * @method readPercentage\n\t * @param {Chunk} chunk Chunk to read data from.\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadPercentage( chunk ) {\n\n\t\tconst subChunk = chunk.readChunk( );\n\n\t\tswitch ( subChunk.id ) {\n\n\t\t\tcase INT_PERCENTAGE:\n\t\t\t\treturn ( subChunk.readShort( ) / 100 );\n\t\t\t\tbreak;\n\n\t\t\tcase FLOAT_PERCENTAGE:\n\t\t\t\treturn subChunk.readFloat( );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.debugMessage( '      Unknown percentage chunk: ' + subChunk.hexId );\n\t\t\t\treturn 0;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Print debug message to the console.\n\t *\n\t * Is controlled by a flag to show or hide debug messages.\n\t *\n\t * @method debugMessage\n\t * @param {Object} message Debug message to print to the console.\n\t */\n\tdebugMessage( message ) {\n\n\t\tif ( this.debug ) {\n\n\t\t\tconsole.log( message );\n\n\t\t}\n\n\t}\n\n}\n\n\n/** Read data/sub-chunks from chunk */\nclass Chunk {\n\n\t/**\n\t * Create a new chunk\n\t *\n\t * @class Chunk\n\t * @param {DataView} data DataView to read from.\n\t * @param {Number} position in data.\n\t * @param {Function} debugMessage logging callback.\n\t */\n\tconstructor( data, position, debugMessage ) {\n\n\t\tthis.data = data;\n\t\t// the offset to the begin of this chunk\n\t\tthis.offset = position;\n\t\t// the current reading position\n\t\tthis.position = position;\n\t\tthis.debugMessage = debugMessage;\n\n\t\tif ( this.debugMessage instanceof Function ) {\n\n\t\t\tthis.debugMessage = function () {};\n\n\t\t}\n\n\t\tthis.id = this.readWord();\n\t\tthis.size = this.readDWord();\n\t\tthis.end = this.offset + this.size;\n\n\t\tif ( this.end > data.byteLength ) {\n\n\t\t\tthis.debugMessage( 'Bad chunk size for chunk at ' + position );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * read a sub cchunk.\n\t *\n\t * @method readChunk\n\t * @return {Chunk | null} next sub chunk\n\t */\n\treadChunk() {\n\n\t\tif ( this.endOfChunk ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\ttry {\n\n\t\t\tconst next = new Chunk( this.data, this.position, this.debugMessage );\n\t\t\tthis.position += next.size;\n\t\t\treturn next;\n\n\t\t}\tcatch ( e ) {\n\n\t\t\tthis.debugMessage( 'Unable to read chunk at ' + this.position );\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * return the ID of this chunk as Hex\n\t *\n\t * @method idToString\n\t * @return {String} hex-string of id\n\t */\n\tget hexId() {\n\n\t\treturn this.id.toString( 16 );\n\n\t}\n\n\tget endOfChunk() {\n\n\t\treturn this.position >= this.end;\n\n\t}\n\n\t/**\n\t * Read byte value.\n\t *\n\t * @method readByte\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadByte() {\n\n\t\tconst v = this.data.getUint8( this.position, true );\n\t\tthis.position += 1;\n\t\treturn v;\n\n\t}\n\n\t/**\n\t * Read 32 bit float value.\n\t *\n\t * @method readFloat\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadFloat() {\n\n\t\ttry {\n\n\t\t\tconst v = this.data.getFloat32( this.position, true );\n\t\t\tthis.position += 4;\n\t\t\treturn v;\n\n\t\t}\tcatch ( e ) {\n\n\t\t\tthis.debugMessage( e + ' ' + this.position + ' ' + this.data.byteLength );\n\t\t\treturn 0;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Read 32 bit signed integer value.\n\t *\n\t * @method readInt\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadInt() {\n\n\t\tconst v = this.data.getInt32( this.position, true );\n\t\tthis.position += 4;\n\t\treturn v;\n\n\t}\n\n\t/**\n\t * Read 16 bit signed integer value.\n\t *\n\t * @method readShort\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadShort() {\n\n\t\tconst v = this.data.getInt16( this.position, true );\n\t\tthis.position += 2;\n\t\treturn v;\n\n\t}\n\n\t/**\n\t * Read 64 bit unsigned integer value.\n\t *\n\t * @method readDWord\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadDWord() {\n\n\t\tconst v = this.data.getUint32( this.position, true );\n\t\tthis.position += 4;\n\t\treturn v;\n\n\t}\n\n\t/**\n\t * Read 32 bit unsigned integer value.\n\t *\n\t * @method readWord\n\t * @return {Number} Data read from the dataview.\n\t */\n\treadWord() {\n\n\t\tconst v = this.data.getUint16( this.position, true );\n\t\tthis.position += 2;\n\t\treturn v;\n\n\t}\n\n\t/**\n\t * Read NULL terminated ASCII string value from chunk-pos.\n\t *\n\t * @method readString\n\t * @return {String} Data read from the dataview.\n\t */\n\treadString() {\n\n\t\tlet s = '';\n\t\tlet c = this.readByte();\n\t\twhile ( c ) {\n\n\t\t\ts += String.fromCharCode( c );\n\t\t\tc = this.readByte();\n\n\t\t}\n\n\t\treturn s;\n\n\t}\n\n}\n\n// const NULL_CHUNK = 0x0000;\nconst M3DMAGIC = 0x4D4D;\n// const SMAGIC = 0x2D2D;\n// const LMAGIC = 0x2D3D;\nconst MLIBMAGIC = 0x3DAA;\n// const MATMAGIC = 0x3DFF;\nconst CMAGIC = 0xC23D;\nconst M3D_VERSION = 0x0002;\n// const M3D_KFVERSION = 0x0005;\nconst COLOR_F = 0x0010;\nconst COLOR_24 = 0x0011;\nconst LIN_COLOR_24 = 0x0012;\nconst LIN_COLOR_F = 0x0013;\nconst INT_PERCENTAGE = 0x0030;\nconst FLOAT_PERCENTAGE = 0x0031;\nconst MDATA = 0x3D3D;\nconst MESH_VERSION = 0x3D3E;\nconst MASTER_SCALE = 0x0100;\n// const LO_SHADOW_BIAS = 0x1400;\n// const HI_SHADOW_BIAS = 0x1410;\n// const SHADOW_MAP_SIZE = 0x1420;\n// const SHADOW_SAMPLES = 0x1430;\n// const SHADOW_RANGE = 0x1440;\n// const SHADOW_FILTER = 0x1450;\n// const RAY_BIAS = 0x1460;\n// const O_CONSTS = 0x1500;\n// const AMBIENT_LIGHT = 0x2100;\n// const BIT_MAP = 0x1100;\n// const SOLID_BGND = 0x1200;\n// const V_GRADIENT = 0x1300;\n// const USE_BIT_MAP = 0x1101;\n// const USE_SOLID_BGND = 0x1201;\n// const USE_V_GRADIENT = 0x1301;\n// const FOG = 0x2200;\n// const FOG_BGND = 0x2210;\n// const LAYER_FOG = 0x2302;\n// const DISTANCE_CUE = 0x2300;\n// const DCUE_BGND = 0x2310;\n// const USE_FOG = 0x2201;\n// const USE_LAYER_FOG = 0x2303;\n// const USE_DISTANCE_CUE = 0x2301;\nconst MAT_ENTRY = 0xAFFF;\nconst MAT_NAME = 0xA000;\nconst MAT_AMBIENT = 0xA010;\nconst MAT_DIFFUSE = 0xA020;\nconst MAT_SPECULAR = 0xA030;\nconst MAT_SHININESS = 0xA040;\n// const MAT_SHIN2PCT = 0xA041;\nconst MAT_TRANSPARENCY = 0xA050;\n// const MAT_XPFALL = 0xA052;\n// const MAT_USE_XPFALL = 0xA240;\n// const MAT_REFBLUR = 0xA053;\n// const MAT_SHADING = 0xA100;\n// const MAT_USE_REFBLUR = 0xA250;\n// const MAT_SELF_ILLUM = 0xA084;\nconst MAT_TWO_SIDE = 0xA081;\n// const MAT_DECAL = 0xA082;\nconst MAT_ADDITIVE = 0xA083;\nconst MAT_WIRE = 0xA085;\n// const MAT_FACEMAP = 0xA088;\n// const MAT_TRANSFALLOFF_IN = 0xA08A;\n// const MAT_PHONGSOFT = 0xA08C;\n// const MAT_WIREABS = 0xA08E;\nconst MAT_WIRE_SIZE = 0xA087;\nconst MAT_TEXMAP = 0xA200;\n// const MAT_SXP_TEXT_DATA = 0xA320;\n// const MAT_TEXMASK = 0xA33E;\n// const MAT_SXP_TEXTMASK_DATA = 0xA32A;\n// const MAT_TEX2MAP = 0xA33A;\n// const MAT_SXP_TEXT2_DATA = 0xA321;\n// const MAT_TEX2MASK = 0xA340;\n// const MAT_SXP_TEXT2MASK_DATA = 0xA32C;\nconst MAT_OPACMAP = 0xA210;\n// const MAT_SXP_OPAC_DATA = 0xA322;\n// const MAT_OPACMASK = 0xA342;\n// const MAT_SXP_OPACMASK_DATA = 0xA32E;\nconst MAT_BUMPMAP = 0xA230;\n// const MAT_SXP_BUMP_DATA = 0xA324;\n// const MAT_BUMPMASK = 0xA344;\n// const MAT_SXP_BUMPMASK_DATA = 0xA330;\nconst MAT_SPECMAP = 0xA204;\n// const MAT_SXP_SPEC_DATA = 0xA325;\n// const MAT_SPECMASK = 0xA348;\n// const MAT_SXP_SPECMASK_DATA = 0xA332;\n// const MAT_SHINMAP = 0xA33C;\n// const MAT_SXP_SHIN_DATA = 0xA326;\n// const MAT_SHINMASK = 0xA346;\n// const MAT_SXP_SHINMASK_DATA = 0xA334;\n// const MAT_SELFIMAP = 0xA33D;\n// const MAT_SXP_SELFI_DATA = 0xA328;\n// const MAT_SELFIMASK = 0xA34A;\n// const MAT_SXP_SELFIMASK_DATA = 0xA336;\n// const MAT_REFLMAP = 0xA220;\n// const MAT_REFLMASK = 0xA34C;\n// const MAT_SXP_REFLMASK_DATA = 0xA338;\n// const MAT_ACUBIC = 0xA310;\nconst MAT_MAPNAME = 0xA300;\n// const MAT_MAP_TILING = 0xA351;\n// const MAT_MAP_TEXBLUR = 0xA353;\nconst MAT_MAP_USCALE = 0xA354;\nconst MAT_MAP_VSCALE = 0xA356;\nconst MAT_MAP_UOFFSET = 0xA358;\nconst MAT_MAP_VOFFSET = 0xA35A;\n// const MAT_MAP_ANG = 0xA35C;\n// const MAT_MAP_COL1 = 0xA360;\n// const MAT_MAP_COL2 = 0xA362;\n// const MAT_MAP_RCOL = 0xA364;\n// const MAT_MAP_GCOL = 0xA366;\n// const MAT_MAP_BCOL = 0xA368;\nconst NAMED_OBJECT = 0x4000;\n// const N_DIRECT_LIGHT = 0x4600;\n// const DL_OFF = 0x4620;\n// const DL_OUTER_RANGE = 0x465A;\n// const DL_INNER_RANGE = 0x4659;\n// const DL_MULTIPLIER = 0x465B;\n// const DL_EXCLUDE = 0x4654;\n// const DL_ATTENUATE = 0x4625;\n// const DL_SPOTLIGHT = 0x4610;\n// const DL_SPOT_ROLL = 0x4656;\n// const DL_SHADOWED = 0x4630;\n// const DL_LOCAL_SHADOW2 = 0x4641;\n// const DL_SEE_CONE = 0x4650;\n// const DL_SPOT_RECTANGULAR = 0x4651;\n// const DL_SPOT_ASPECT = 0x4657;\n// const DL_SPOT_PROJECTOR = 0x4653;\n// const DL_SPOT_OVERSHOOT = 0x4652;\n// const DL_RAY_BIAS = 0x4658;\n// const DL_RAYSHAD = 0x4627;\n// const N_CAMERA = 0x4700;\n// const CAM_SEE_CONE = 0x4710;\n// const CAM_RANGES = 0x4720;\n// const OBJ_HIDDEN = 0x4010;\n// const OBJ_VIS_LOFTER = 0x4011;\n// const OBJ_DOESNT_CAST = 0x4012;\n// const OBJ_DONT_RECVSHADOW = 0x4017;\n// const OBJ_MATTE = 0x4013;\n// const OBJ_FAST = 0x4014;\n// const OBJ_PROCEDURAL = 0x4015;\n// const OBJ_FROZEN = 0x4016;\nconst N_TRI_OBJECT = 0x4100;\nconst POINT_ARRAY = 0x4110;\n// const POINT_FLAG_ARRAY = 0x4111;\nconst FACE_ARRAY = 0x4120;\nconst MSH_MAT_GROUP = 0x4130;\n// const SMOOTH_GROUP = 0x4150;\n// const MSH_BOXMAP = 0x4190;\nconst TEX_VERTS = 0x4140;\nconst MESH_MATRIX = 0x4160;\n// const MESH_COLOR = 0x4165;\n// const MESH_TEXTURE_INFO = 0x4170;\n// const KFDATA = 0xB000;\n// const KFHDR = 0xB00A;\n// const KFSEG = 0xB008;\n// const KFCURTIME = 0xB009;\n// const AMBIENT_NODE_TAG = 0xB001;\n// const OBJECT_NODE_TAG = 0xB002;\n// const CAMERA_NODE_TAG = 0xB003;\n// const TARGET_NODE_TAG = 0xB004;\n// const LIGHT_NODE_TAG = 0xB005;\n// const L_TARGET_NODE_TAG = 0xB006;\n// const SPOTLIGHT_NODE_TAG = 0xB007;\n// const NODE_ID = 0xB030;\n// const NODE_HDR = 0xB010;\n// const PIVOT = 0xB013;\n// const INSTANCE_NAME = 0xB011;\n// const MORPH_SMOOTH = 0xB015;\n// const BOUNDBOX = 0xB014;\n// const POS_TRACK_TAG = 0xB020;\n// const COL_TRACK_TAG = 0xB025;\n// const ROT_TRACK_TAG = 0xB021;\n// const SCL_TRACK_TAG = 0xB022;\n// const MORPH_TRACK_TAG = 0xB026;\n// const FOV_TRACK_TAG = 0xB023;\n// const ROLL_TRACK_TAG = 0xB024;\n// const HOT_TRACK_TAG = 0xB027;\n// const FALL_TRACK_TAG = 0xB028;\n// const HIDE_TRACK_TAG = 0xB029;\n// const POLY_2D = 0x5000;\n// const SHAPE_OK = 0x5010;\n// const SHAPE_NOT_OK = 0x5011;\n// const SHAPE_HOOK = 0x5020;\n// const PATH_3D = 0x6000;\n// const PATH_MATRIX = 0x6005;\n// const SHAPE_2D = 0x6010;\n// const M_SCALE = 0x6020;\n// const M_TWIST = 0x6030;\n// const M_TEETER = 0x6040;\n// const M_FIT = 0x6050;\n// const M_BEVEL = 0x6060;\n// const XZ_CURVE = 0x6070;\n// const YZ_CURVE = 0x6080;\n// const INTERPCT = 0x6090;\n// const DEFORM_LIMIT = 0x60A0;\n// const USE_CONTOUR = 0x6100;\n// const USE_TWEEN = 0x6110;\n// const USE_SCALE = 0x6120;\n// const USE_TWIST = 0x6130;\n// const USE_TEETER = 0x6140;\n// const USE_FIT = 0x6150;\n// const USE_BEVEL = 0x6160;\n// const DEFAULT_VIEW = 0x3000;\n// const VIEW_TOP = 0x3010;\n// const VIEW_BOTTOM = 0x3020;\n// const VIEW_LEFT = 0x3030;\n// const VIEW_RIGHT = 0x3040;\n// const VIEW_FRONT = 0x3050;\n// const VIEW_BACK = 0x3060;\n// const VIEW_USER = 0x3070;\n// const VIEW_CAMERA = 0x3080;\n// const VIEW_WINDOW = 0x3090;\n// const VIEWPORT_LAYOUT_OLD = 0x7000;\n// const VIEWPORT_DATA_OLD = 0x7010;\n// const VIEWPORT_LAYOUT = 0x7001;\n// const VIEWPORT_DATA = 0x7011;\n// const VIEWPORT_DATA_3 = 0x7012;\n// const VIEWPORT_SIZE = 0x7020;\n// const NETWORK_VIEW = 0x7030;\n\nexport { TDSLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tFileLoader,\n\tGroup,\n\tNoColorSpace,\n\tLoader,\n\tMesh,\n\tMeshPhysicalMaterial,\n\tMirroredRepeatWrapping,\n\tRepeatWrapping,\n\tSRGBColorSpace,\n\tTextureLoader,\n\tObject3D,\n\tVector2\n} from 'three';\n\nimport * as fflate from '../libs/fflate.module.js';\n\nclass USDAParser {\n\n\tparse( text ) {\n\n\t\tconst data = {};\n\n\t\tconst lines = text.split( '\\n' );\n\n\t\tlet string = null;\n\t\tlet target = data;\n\n\t\tconst stack = [ data ];\n\n\t\t// debugger;\n\n\t\tfor ( const line of lines ) {\n\n\t\t\t// console.log( line );\n\n\t\t\tif ( line.includes( '=' ) ) {\n\n\t\t\t\tconst assignment = line.split( '=' );\n\n\t\t\t\tconst lhs = assignment[ 0 ].trim();\n\t\t\t\tconst rhs = assignment[ 1 ].trim();\n\n\t\t\t\tif ( rhs.endsWith( '{' ) ) {\n\n\t\t\t\t\tconst group = {};\n\t\t\t\t\tstack.push( group );\n\n\t\t\t\t\ttarget[ lhs ] = group;\n\t\t\t\t\ttarget = group;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttarget[ lhs ] = rhs;\n\n\t\t\t\t}\n\n\t\t\t} else if ( line.endsWith( '{' ) ) {\n\n\t\t\t\tconst group = target[ string ] || {};\n\t\t\t\tstack.push( group );\n\n\t\t\t\ttarget[ string ] = group;\n\t\t\t\ttarget = group;\n\n\t\t\t} else if ( line.endsWith( '}' ) ) {\n\n\t\t\t\tstack.pop();\n\n\t\t\t\tif ( stack.length === 0 ) continue;\n\n\t\t\t\ttarget = stack[ stack.length - 1 ];\n\n\t\t\t} else if ( line.endsWith( '(' ) ) {\n\n\t\t\t\tconst meta = {};\n\t\t\t\tstack.push( meta );\n\n\t\t\t\tstring = line.split( '(' )[ 0 ].trim() || string;\n\n\t\t\t\ttarget[ string ] = meta;\n\t\t\t\ttarget = meta;\n\n\t\t\t} else if ( line.endsWith( ')' ) ) {\n\n\t\t\t\tstack.pop();\n\n\t\t\t\ttarget = stack[ stack.length - 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tstring = line.trim();\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass USDZLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( buffer ) {\n\n\t\tconst parser = new USDAParser();\n\n\t\tfunction parseAssets( zip ) {\n\n\t\t\tconst data = {};\n\t\t\tconst loader = new FileLoader();\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tfor ( const filename in zip ) {\n\n\t\t\t\tif ( filename.endsWith( 'png' ) ) {\n\n\t\t\t\t\tconst blob = new Blob( [ zip[ filename ] ], { type: { type: 'image/png' } } );\n\t\t\t\t\tdata[ filename ] = URL.createObjectURL( blob );\n\n\t\t\t\t}\n\n\t\t\t\tif ( filename.endsWith( 'usd' ) || filename.endsWith( 'usda' ) ) {\n\n\t\t\t\t\tif ( isCrateFile( zip[ filename ] ) ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.USDZLoader: Crate files (.usdc or binary .usd) are not supported.' );\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst text = fflate.strFromU8( zip[ filename ] );\n\t\t\t\t\tdata[ filename ] = parser.parse( text );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction isCrateFile( buffer ) {\n\n\t\t\t// Check if this a crate file. First 7 bytes of a crate file are \"PXR-USDC\".\n\t\t\tconst fileHeader = buffer.slice( 0, 7 );\n\t\t\tconst crateHeader = new Uint8Array( [ 0x50, 0x58, 0x52, 0x2D, 0x55, 0x53, 0x44, 0x43 ] );\n\n\t\t\t// If this is not a crate file, we assume it is a plain USDA file.\n\t\t\treturn fileHeader.every( ( value, index ) => value === crateHeader[ index ] );\n\n\t\t}\n\n\t\tfunction findUSD( zip ) {\n\n\t\t\tif ( zip.length < 1 ) return undefined;\n\n\t\t\tconst firstFileName = Object.keys( zip )[ 0 ];\n\t\t\tlet isCrate = false;\n\n\t\t\t// As per the USD specification, the first entry in the zip archive is used as the main file (\"UsdStage\").\n\t\t\t// ASCII files can end in either .usda or .usd.\n\t\t\t// See https://openusd.org/release/spec_usdz.html#layout\n\t\t\tif ( firstFileName.endsWith( 'usda' ) ) return zip[ firstFileName ];\n\n\t\t\tif ( firstFileName.endsWith( 'usdc' ) ) {\n\n\t\t\t\tisCrate = true;\n\n\t\t\t} else if ( firstFileName.endsWith( 'usd' ) ) {\n\n\t\t\t\t// If this is not a crate file, we assume it is a plain USDA file.\n\t\t\t\tif ( ! isCrateFile( zip[ firstFileName ] ) ) {\n\n\t\t\t\t\treturn zip[ firstFileName ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tisCrate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( isCrate ) {\n\n\t\t\t\tconsole.warn( 'THREE.USDZLoader: Crate files (.usdc or binary .usd) are not supported.' );\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tconst zip = fflate.unzipSync( new Uint8Array( buffer ) );\n\n\t\t// console.log( zip );\n\n\t\tconst assets = parseAssets( zip );\n\n\t\t// console.log( assets )\n\n\t\tconst file = findUSD( zip );\n\n\t\tif ( file === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.USDZLoader: No usda file found.' );\n\n\t\t\treturn new Group();\n\n\t\t}\n\n\n\t\t// Parse file\n\n\t\tconst text = fflate.strFromU8( file );\n\t\tconst root = parser.parse( text );\n\n\t\t// Build scene\n\n\t\tfunction findMeshGeometry( data ) {\n\n\t\t\tif ( ! data ) return undefined;\n\n\t\t\tif ( 'prepend references' in data ) {\n\n\t\t\t\tconst reference = data[ 'prepend references' ];\n\t\t\t\tconst parts = reference.split( '@' );\n\t\t\t\tconst path = parts[ 1 ].replace( /^.\\//, '' );\n\t\t\t\tconst id = parts[ 2 ].replace( /^<\\//, '' ).replace( />$/, '' );\n\n\t\t\t\treturn findGeometry( assets[ path ], id );\n\n\t\t\t}\n\n\t\t\treturn findGeometry( data );\n\n\t\t}\n\n\t\tfunction findGeometry( data, id ) {\n\n\t\t\tif ( ! data ) return undefined;\n\n\t\t\tif ( id !== undefined ) {\n\n\t\t\t\tconst def = `def Mesh \"${id}\"`;\n\n\t\t\t\tif ( def in data ) {\n\n\t\t\t\t\treturn data[ def ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tconst object = data[ name ];\n\n\t\t\t\tif ( name.startsWith( 'def Mesh' ) ) {\n\n\t\t\t\t\t// Move points to Mesh\n\n\t\t\t\t\tif ( 'point3f[] points' in data ) {\n\n\t\t\t\t\t\tobject[ 'point3f[] points' ] = data[ 'point3f[] points' ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move st to Mesh\n\n\t\t\t\t\tif ( 'texCoord2f[] primvars:st' in data ) {\n\n\t\t\t\t\t\tobject[ 'texCoord2f[] primvars:st' ] = data[ 'texCoord2f[] primvars:st' ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move st indices to Mesh\n\n\t\t\t\t\tif ( 'int[] primvars:st:indices' in data ) {\n\n\t\t\t\t\t\tobject[ 'int[] primvars:st:indices' ] = data[ 'int[] primvars:st:indices' ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn object;\n\n\t\t\t\t}\n\n\n\t\t\t\tif ( typeof object === 'object' ) {\n\n\t\t\t\t\tconst geometry = findGeometry( object );\n\n\t\t\t\t\tif ( geometry ) return geometry;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildGeometry( data ) {\n\n\t\t\tif ( ! data ) return undefined;\n\n\t\t\tlet geometry = new BufferGeometry();\n\n\t\t\tif ( 'int[] faceVertexIndices' in data ) {\n\n\t\t\t\tconst indices = JSON.parse( data[ 'int[] faceVertexIndices' ] );\n\t\t\t\tgeometry.setIndex( indices );\n\n\t\t\t}\n\n\t\t\tif ( 'point3f[] points' in data ) {\n\n\t\t\t\tconst positions = JSON.parse( data[ 'point3f[] points' ].replace( /[()]*/g, '' ) );\n\t\t\t\tconst attribute = new BufferAttribute( new Float32Array( positions ), 3 );\n\t\t\t\tgeometry.setAttribute( 'position', attribute );\n\n\t\t\t}\n\n\t\t\tif ( 'normal3f[] normals' in data ) {\n\n\t\t\t\tconst normals = JSON.parse( data[ 'normal3f[] normals' ].replace( /[()]*/g, '' ) );\n\t\t\t\tconst attribute = new BufferAttribute( new Float32Array( normals ), 3 );\n\t\t\t\tgeometry.setAttribute( 'normal', attribute );\n\n\t\t\t} else {\n\n\t\t\t\tgeometry.computeVertexNormals();\n\n\t\t\t}\n\n\t\t\tif ( 'float2[] primvars:st' in data ) {\n\n\t\t\t\tdata[ 'texCoord2f[] primvars:st' ] = data[ 'float2[] primvars:st' ];\n\n\t\t\t}\n\n\t\t\tif ( 'texCoord2f[] primvars:st' in data ) {\n\n\t\t\t\tconst uvs = JSON.parse( data[ 'texCoord2f[] primvars:st' ].replace( /[()]*/g, '' ) );\n\t\t\t\tconst attribute = new BufferAttribute( new Float32Array( uvs ), 2 );\n\n\t\t\t\tif ( 'int[] primvars:st:indices' in data ) {\n\n\t\t\t\t\tgeometry = geometry.toNonIndexed();\n\n\t\t\t\t\tconst indices = JSON.parse( data[ 'int[] primvars:st:indices' ] );\n\t\t\t\t\tgeometry.setAttribute( 'uv', toFlatBufferAttribute( attribute, indices ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgeometry.setAttribute( 'uv', attribute );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction toFlatBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\tfunction findMeshMaterial( data ) {\n\n\t\t\tif ( ! data ) return undefined;\n\n\t\t\tif ( 'rel material:binding' in data ) {\n\n\t\t\t\tconst reference = data[ 'rel material:binding' ];\n\t\t\t\tconst id = reference.replace( /^<\\//, '' ).replace( />$/, '' );\n\t\t\t\tconst parts = id.split( '/' );\n\n\t\t\t\treturn findMaterial( root, ` \"${ parts[ 1 ] }\"` );\n\n\t\t\t}\n\n\t\t\treturn findMaterial( data );\n\n\t\t}\n\n\t\tfunction findMaterial( data, id = '' ) {\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tconst object = data[ name ];\n\n\t\t\t\tif ( name.startsWith( 'def Material' + id ) ) {\n\n\t\t\t\t\treturn object;\n\n\t\t\t\t}\n\n\t\t\t\tif ( typeof object === 'object' ) {\n\n\t\t\t\t\tconst material = findMaterial( object, id );\n\n\t\t\t\t\tif ( material ) return material;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setTextureParams( map, data_value ) {\n\n\t\t\t// rotation, scale and translation\n\n\t\t\tif ( data_value[ 'float inputs:rotation' ] ) {\n\n\t\t\t\tmap.rotation = parseFloat( data_value[ 'float inputs:rotation' ] );\n\n\t\t\t}\n\n\t\t\tif ( data_value[ 'float2 inputs:scale' ] ) {\n\n\t\t\t\tmap.repeat = new Vector2().fromArray( JSON.parse( '[' + data_value[ 'float2 inputs:scale' ].replace( /[()]*/g, '' ) + ']' ) );\n\n\t\t\t}\n\n\t\t\tif ( data_value[ 'float2 inputs:translation' ] ) {\n\n\t\t\t\tmap.offset = new Vector2().fromArray( JSON.parse( '[' + data_value[ 'float2 inputs:translation' ].replace( /[()]*/g, '' ) + ']' ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildMaterial( data ) {\n\n\t\t\tconst material = new MeshPhysicalMaterial();\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\tif ( 'def Shader \"PreviewSurface\"' in data ) {\n\n\t\t\t\t\tconst surface = data[ 'def Shader \"PreviewSurface\"' ];\n\n\t\t\t\t\tif ( 'color3f inputs:diffuseColor.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'color3f inputs:diffuseColor.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.map = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.map.colorSpace = SRGBColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_diffuse\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.map, data[ 'def Shader \"Transform2d_diffuse\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'color3f inputs:diffuseColor' in surface ) {\n\n\t\t\t\t\t\tconst color = surface[ 'color3f inputs:diffuseColor' ].replace( /[()]*/g, '' );\n\t\t\t\t\t\tmaterial.color.fromArray( JSON.parse( '[' + color + ']' ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'color3f inputs:emissiveColor.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'color3f inputs:emissiveColor.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.emissiveMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.emissiveMap.colorSpace = SRGBColorSpace;\n\t\t\t\t\t\tmaterial.emissive.set( 0xffffff );\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_emissive\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.emissiveMap, data[ 'def Shader \"Transform2d_emissive\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'color3f inputs:emissiveColor' in surface ) {\n\n\t\t\t\t\t\tconst color = surface[ 'color3f inputs:emissiveColor' ].replace( /[()]*/g, '' );\n\t\t\t\t\t\tmaterial.emissive.fromArray( JSON.parse( '[' + color + ']' ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'normal3f inputs:normal.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'normal3f inputs:normal.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.normalMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.normalMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_normal\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.normalMap, data[ 'def Shader \"Transform2d_normal\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:roughness.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'float inputs:roughness.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.roughness = 1.0;\n\t\t\t\t\t\tmaterial.roughnessMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.roughnessMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_roughness\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.roughnessMap, data[ 'def Shader \"Transform2d_roughness\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'float inputs:roughness' in surface ) {\n\n\t\t\t\t\t\tmaterial.roughness = parseFloat( surface[ 'float inputs:roughness' ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:metallic.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'float inputs:metallic.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.metalness = 1.0;\n\t\t\t\t\t\tmaterial.metalnessMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.metalnessMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_metallic\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.metalnessMap, data[ 'def Shader \"Transform2d_metallic\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'float inputs:metallic' in surface ) {\n\n\t\t\t\t\t\tmaterial.metalness = parseFloat( surface[ 'float inputs:metallic' ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:clearcoat.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'float inputs:clearcoat.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.clearcoat = 1.0;\n\t\t\t\t\t\tmaterial.clearcoatMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.clearcoatMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_clearcoat\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.clearcoatMap, data[ 'def Shader \"Transform2d_clearcoat\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'float inputs:clearcoat' in surface ) {\n\n\t\t\t\t\t\tmaterial.clearcoat = parseFloat( surface[ 'float inputs:clearcoat' ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:clearcoatRoughness.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'float inputs:clearcoatRoughness.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.clearcoatRoughness = 1.0;\n\t\t\t\t\t\tmaterial.clearcoatRoughnessMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.clearcoatRoughnessMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_clearcoatRoughness\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.clearcoatRoughnessMap, data[ 'def Shader \"Transform2d_clearcoatRoughness\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( 'float inputs:clearcoatRoughness' in surface ) {\n\n\t\t\t\t\t\tmaterial.clearcoatRoughness = parseFloat( surface[ 'float inputs:clearcoatRoughness' ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:ior' in surface ) {\n\n\t\t\t\t\t\tmaterial.ior = parseFloat( surface[ 'float inputs:ior' ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'float inputs:occlusion.connect' in surface ) {\n\n\t\t\t\t\t\tconst path = surface[ 'float inputs:occlusion.connect' ];\n\t\t\t\t\t\tconst sampler = findTexture( root, /(\\w+).output/.exec( path )[ 1 ] );\n\n\t\t\t\t\t\tmaterial.aoMap = buildTexture( sampler );\n\t\t\t\t\t\tmaterial.aoMap.colorSpace = NoColorSpace;\n\n\t\t\t\t\t\tif ( 'def Shader \"Transform2d_occlusion\"' in data ) {\n\n\t\t\t\t\t\t\tsetTextureParams( material.aoMap, data[ 'def Shader \"Transform2d_occlusion\"' ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( 'def Shader \"diffuseColor_texture\"' in data ) {\n\n\t\t\t\t\tconst sampler = data[ 'def Shader \"diffuseColor_texture\"' ];\n\n\t\t\t\t\tmaterial.map = buildTexture( sampler );\n\t\t\t\t\tmaterial.map.colorSpace = SRGBColorSpace;\n\n\t\t\t\t}\n\n\t\t\t\tif ( 'def Shader \"normal_texture\"' in data ) {\n\n\t\t\t\t\tconst sampler = data[ 'def Shader \"normal_texture\"' ];\n\n\t\t\t\t\tmaterial.normalMap = buildTexture( sampler );\n\t\t\t\t\tmaterial.normalMap.colorSpace = NoColorSpace;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn material;\n\n\t\t}\n\n\t\tfunction findTexture( data, id ) {\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tconst object = data[ name ];\n\n\t\t\t\tif ( name.startsWith( `def Shader \"${ id }\"` ) ) {\n\n\t\t\t\t\treturn object;\n\n\t\t\t\t}\n\n\t\t\t\tif ( typeof object === 'object' ) {\n\n\t\t\t\t\tconst texture = findTexture( object, id );\n\n\t\t\t\t\tif ( texture ) return texture;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildTexture( data ) {\n\n\t\t\tif ( 'asset inputs:file' in data ) {\n\n\t\t\t\tconst path = data[ 'asset inputs:file' ].replace( /@*/g, '' );\n\n\t\t\t\tconst loader = new TextureLoader();\n\n\t\t\t\tconst texture = loader.load( assets[ path ] );\n\n\t\t\t\tconst map = {\n\t\t\t\t\t'\"clamp\"': ClampToEdgeWrapping,\n\t\t\t\t\t'\"mirror\"': MirroredRepeatWrapping,\n\t\t\t\t\t'\"repeat\"': RepeatWrapping\n\t\t\t\t};\n\n\t\t\t\tif ( 'token inputs:wrapS' in data ) {\n\n\t\t\t\t\ttexture.wrapS = map[ data[ 'token inputs:wrapS' ] ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( 'token inputs:wrapT' in data ) {\n\n\t\t\t\t\ttexture.wrapT = map[ data[ 'token inputs:wrapT' ] ];\n\n\t\t\t\t}\n\n\t\t\t\treturn texture;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction buildObject( data ) {\n\n\t\t\tconst geometry = buildGeometry( findMeshGeometry( data ) );\n\t\t\tconst material = buildMaterial( findMeshMaterial( data ) );\n\n\t\t\tconst mesh = geometry ? new Mesh( geometry, material ) : new Object3D();\n\n\t\t\tif ( 'matrix4d xformOp:transform' in data ) {\n\n\t\t\t\tconst array = JSON.parse( '[' + data[ 'matrix4d xformOp:transform' ].replace( /[()]*/g, '' ) + ']' );\n\n\t\t\t\tmesh.matrix.fromArray( array );\n\t\t\t\tmesh.matrix.decompose( mesh.position, mesh.quaternion, mesh.scale );\n\n\t\t\t}\n\n\t\t\treturn mesh;\n\n\t\t}\n\n\t\tfunction buildHierarchy( data, group ) {\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tif ( name.startsWith( 'def Scope' ) ) {\n\n\t\t\t\t\tbuildHierarchy( data[ name ], group );\n\n\t\t\t\t} else if ( name.startsWith( 'def Xform' ) ) {\n\n\t\t\t\t\tconst mesh = buildObject( data[ name ] );\n\n\t\t\t\t\tif ( /def Xform \"(\\w+)\"/.test( name ) ) {\n\n\t\t\t\t\t\tmesh.name = /def Xform \"(\\w+)\"/.exec( name )[ 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgroup.add( mesh );\n\n\t\t\t\t\tbuildHierarchy( data[ name ], mesh );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst group = new Group();\n\n\t\tbuildHierarchy( root, group );\n\n\t\treturn group;\n\n\t}\n\n}\n\nexport { USDZLoader };\n","// https://cs.nyu.edu/~perlin/noise/\n\nconst _p = [ 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10,\n\t 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87,\n\t 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\n\t 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208,\n\t 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5,\n\t 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119,\n\t 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\n\t 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249,\n\t 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205,\n\t 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180 ];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_p[ 256 + i ] = _p[ i ];\n\n}\n\nfunction fade( t ) {\n\n\treturn t * t * t * ( t * ( t * 6 - 15 ) + 10 );\n\n}\n\nfunction lerp( t, a, b ) {\n\n\treturn a + t * ( b - a );\n\n}\n\nfunction grad( hash, x, y, z ) {\n\n\tconst h = hash & 15;\n\tconst u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\n\treturn ( ( h & 1 ) == 0 ? u : - u ) + ( ( h & 2 ) == 0 ? v : - v );\n\n}\n\nclass ImprovedNoise {\n\n\tnoise( x, y, z ) {\n\n\t\tconst floorX = Math.floor( x ), floorY = Math.floor( y ), floorZ = Math.floor( z );\n\n\t\tconst X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\n\n\t\tx -= floorX;\n\t\ty -= floorY;\n\t\tz -= floorZ;\n\n\t\tconst xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\n\n\t\tconst u = fade( x ), v = fade( y ), w = fade( z );\n\n\t\tconst A = _p[ X ] + Y, AA = _p[ A ] + Z, AB = _p[ A + 1 ] + Z, B = _p[ X + 1 ] + Y, BA = _p[ B ] + Z, BB = _p[ B + 1 ] + Z;\n\n\t\treturn lerp( w, lerp( v, lerp( u, grad( _p[ AA ], x, y, z ),\n\t\t\tgrad( _p[ BA ], xMinus1, y, z ) ),\n\t\tlerp( u, grad( _p[ AB ], x, yMinus1, z ),\n\t\t\tgrad( _p[ BB ], xMinus1, yMinus1, z ) ) ),\n\t\tlerp( v, lerp( u, grad( _p[ AA + 1 ], x, y, zMinus1 ),\n\t\t\tgrad( _p[ BA + 1 ], xMinus1, y, zMinus1 ) ),\n\t\tlerp( u, grad( _p[ AB + 1 ], x, yMinus1, zMinus1 ),\n\t\t\tgrad( _p[ BB + 1 ], xMinus1, yMinus1, zMinus1 ) ) ) );\n\n\t}\n\n}\n\nexport { ImprovedNoise };\n","import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3\n} from 'three';\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://simonwallner.at/project/atmospheric-scattering/\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nclass Sky extends Mesh {\n\n\tconstructor() {\n\n\t\tconst shader = Sky.SkyShader;\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: shader.name,\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false\n\t\t} );\n\n\t\tsuper( new BoxGeometry( 1, 1, 1 ), material );\n\n\t\tthis.isSky = true;\n\n\t}\n\n}\n\nSky.SkyShader = {\n\n\tname: 'SkyShader',\n\n\tuniforms: {\n\t\t'turbidity': { value: 2 },\n\t\t'rayleigh': { value: 1 },\n\t\t'mieCoefficient': { value: 0.005 },\n\t\t'mieDirectionalG': { value: 0.8 },\n\t\t'sunPosition': { value: new Vector3() },\n\t\t'up': { value: new Vector3( 0, 1, 0 ) }\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform vec3 sunPosition;\n\t\tuniform float rayleigh;\n\t\tuniform float turbidity;\n\t\tuniform float mieCoefficient;\n\t\tuniform vec3 up;\n\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float e = 2.71828182845904523536028747135266249775724709369995957;\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\t// wavelength of used primaries, according to preetham\n\t\tconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n\t\t// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\tconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\tconst float v = 4.0;\n\t\tconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\tconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\tconst float cutoffAngle = 1.6110731556870734;\n\t\tconst float steepness = 1.5;\n\t\tconst float EE = 1000.0;\n\n\t\tfloat sunIntensity( float zenithAngleCos ) {\n\t\t\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n\t\t\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n\t\t}\n\n\t\tvec3 totalMie( float T ) {\n\t\t\tfloat c = ( 0.2 * T ) * 10E-18;\n\t\t\treturn 0.434 * c * MieConst;\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvWorldPosition = worldPosition.xyz;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n\t\t\tvSunDirection = normalize( sunPosition );\n\n\t\t\tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n\t\t\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n\t\t\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n\t\t\t// extinction (absorbtion + out scattering)\n\t\t\t// rayleigh coefficients\n\t\t\tvBetaR = totalRayleigh * rayleighCoefficient;\n\n\t\t\t// mie coefficients\n\t\t\tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\tuniform float mieDirectionalG;\n\t\tuniform vec3 up;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\tconst float n = 1.0003; // refractive index of air\n\t\tconst float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\tconst float rayleighZenithLength = 8.4E3;\n\t\tconst float mieZenithLength = 1.25E3;\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\tconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\tconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n\t\t// 1.0 / ( 4.0 * pi )\n\t\tconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\n\t\tfloat rayleighPhase( float cosTheta ) {\n\t\t\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n\t\t}\n\n\t\tfloat hgPhase( float cosTheta, float g ) {\n\t\t\tfloat g2 = pow( g, 2.0 );\n\t\t\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n\t\t\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec3 direction = normalize( vWorldPosition - cameraPosition );\n\n\t\t\t// optical length\n\t\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n\t\t\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n\t\t\tfloat sR = rayleighZenithLength * inverse;\n\t\t\tfloat sM = mieZenithLength * inverse;\n\n\t\t\t// combined extinction factor\n\t\t\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n\t\t\t// in scattering\n\t\t\tfloat cosTheta = dot( direction, vSunDirection );\n\n\t\t\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n\t\t\tvec3 betaRTheta = vBetaR * rPhase;\n\n\t\t\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n\t\t\tvec3 betaMTheta = vBetaM * mPhase;\n\n\t\t\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n\t\t\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n\t\t\t// nightsky\n\t\t\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n\t\t\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n\t\t\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n\t\t\tvec3 L0 = vec3( 0.1 ) * Fex;\n\n\t\t\t// composition + solar disc\n\t\t\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n\t\t\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n\t\t\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n\t\t\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n\t\t\tgl_FragColor = vec4( retColor, 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n\n};\n\nexport { Sky };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - see http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nconst HorizontalBlurShader = {\n\n\tname: 'HorizontalBlurShader',\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'h': { value: 1.0 / 512.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}`\n\n};\n\nexport { HorizontalBlurShader };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - see http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nconst VerticalBlurShader = {\n\n\tname: 'VerticalBlurShader',\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'v': { value: 1.0 / 512.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}`\n\n};\n\nexport { VerticalBlurShader };\n","export default /* glsl */`\n#ifdef USE_TRANSMISSION\n\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\n\t#ifdef USE_TRANSMISSIONMAP\n\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\n\t#endif\n\n\t#ifdef USE_THICKNESSMAP\n\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\n\t#endif\n\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n\n#endif\n`;\n"],"names":[],"sourceRoot":""}