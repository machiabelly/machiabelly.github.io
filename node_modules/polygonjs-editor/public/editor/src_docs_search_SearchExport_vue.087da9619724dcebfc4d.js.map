{"version":3,"file":"src_docs_search_SearchExport_vue.087da9619724dcebfc4d.js","mappings":";;;;;;;;;;;;;;;;AAA8H;AAE9H,MAAM,aAAa,EAAE,OAAO,WAAW;AACvC,MAAM,aAA0B,sEAAmB;AAAnB,EAAoB;AAAA,EAAM,EAAE,OAAO,QAAQ;AAAA,EAAG;AAAA,IAC/D,sEAAmB,CAAC,QAAQ,MAAM,eAAe;AAAA,EAChE;AAAA,EAAG;AAAA;AAAgB;AACnB,MAAM,aAAa;AAAA,EACjB;AACF;AAEO,SAAS,OAAO,MAAU,QAAY,QAAY,QAAY,OAAW,UAAe;AAC7F,SAAQ,8CAAU,CAAC,GAAG,uDAAmB,CAAC,OAAO,YAAY,UAAU;AACzE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZmB;AACW;AAEvB,MAAM,4BAA4B;AAAA,EAExC,OAAO,WAAW;AACjB,WAAQ,KAAK,YAAY,KAAK,aAAa,IAAI,4BAA4B;AAAA,EAC5E;AAAA,EACQ,cAAc;AAAA,EAAC;AAAA,EAEjB,aAAa;AAAA;AAClB,YAAM,MAAM;AACZ,YAAM,WAAW,IAAI,SAAS;AAG9B,YAAM,WAAW,MAAM,MAAM,KAAK;AAAA,QACjC,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,SAAS,mBACL,gCAAY,CAAC;AAAA,MAGlB,CAAC;AACD,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,cAAQ,IAAI,IAAI;AAAA,IACjB;AAAA;AAAA,EAEM,YAAY,KAAa,SAAiB;AAAA;AAC/C,YAAM,MAAM;AACZ,YAAM,OAAO,IAAI,KAAK,CAAC,OAAO,GAAG,EAAC,MAAM,aAAY,CAAC;AACrD,YAAM,WAAW,IAAI,SAAS;AAC9B,eAAS,OAAO,OAAO,GAAG;AAC1B,eAAS,OAAO,QAAQ,IAAI;AAC5B,YAAM,WAAW,MAAM,MAAM,KAAK;AAAA,QACjC,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,SAAS,mBACL,gCAAY,CAAC;AAAA,MAGlB,CAAC;AACD,YAAM,SAAS,KAAK;AACpB,cAAQ,IAAI,iBAAiB,GAAG;AAChC,UAAI,SAAS,IAAI;AAAA,MACjB,OAAO;AACN,4FAAsC,CAAC,uCAAuC,KAAK;AAAA,MACpF;AAAA,IACD;AAAA;AACD;AACO,MAAM,yBAAyB,4BAA4B,SAAS;;;;;;;;;;;;;;;;;;;;;;;AFhDlC;AACL;AACC;AACrC,wEAAe,oDAAe,CAAC;AAAA,EAC9B,MAAM;AAAA,EACN,YAAY,CAAC;AAAA,EAEb,OAAO,CAAC;AAAA,EAER,MAAM,OAAO;AACZ,kDAAS,CAAC,aAAa;AACvB,aAAe,gBAAgB;AAAA;AAC9B,gBAAQ,IAAI,oBAAoB;AAChC,cAAM,8EAAmC,CAAC;AAC1C,gBAAQ,IAAI,wBAAwB;AACpC,cAAM,iCAAiC,CAAC;AACxC,gBAAQ,IAAI,sBAAsB;AAClC,cAAM,mEAA4B,CAAC,CAAC,KAAK,SAAS;AACjD,cAAI,QAAQ,MAAM;AACjB,oBAAQ,IAAI,oBAAoB,GAAG;AACnC,8CAAkC,CAAC,KAAK,IAAI;AAAA,UAC7C;AAAA,QACD,CAAC;AAAA,MACF;AAAA;AAEA,WAAO,CAAC;AAAA,EACT;AACD,CAAC,CAAC,EAAC;;;AG5B4N;;;;ACA9I;AAClB;AACL;;AAE1D,CAAmF;AACnF,iCAAiC,+BAAe,CAAC,mCAAM,aAAa,MAAM;;AAE1E,iDAAe","sources":["webpack:///../src/docs/search/SearchExport.vue","webpack:///../src/docs/search/SearchExport.vue?d01a","webpack:///../src/docs/search/SearchExportController.ts","webpack:///../src/docs/search/SearchExport.vue?98e5","webpack:///../src/docs/search/SearchExport.vue?43c3"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"Docs-Api\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mb-16\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", null, \"Search Export\")\n], -1 /* HOISTED */)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n}","export * from \"-!../../../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!./SearchExport.vue?vue&type=template&id=da79aca6&ts=true\"","import {Csrf} from '../../editor/core/Csrf';\nimport {StoreController} from '../../editor/store/controllers/StoreController';\n\nexport class SearchExportControllerClass {\n\tprivate static _instance: SearchExportControllerClass;\n\tstatic instance() {\n\t\treturn (this._instance = this._instance || new SearchExportControllerClass());\n\t}\n\tprivate constructor() {}\n\n\tasync clearIndex() {\n\t\tconst url = '/docs/search/clear_index';\n\t\tconst formData = new FormData();\n\t\t// formData.append('key', key);\n\t\t// formData.append('file', file);\n\t\tconst response = await fetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: {\n\t\t\t\t...Csrf.headers(),\n\t\t\t\t// 'Content-Type': 'application/json',\n\t\t\t},\n\t\t});\n\t\tconst json = await response.json();\n\t\tconsole.log(json);\n\t}\n\n\tasync downloadKey(key: string, content: string) {\n\t\tconst url = '/docs/search/save_index';\n\t\tconst file = new Blob([content], {type: 'text/plain'});\n\t\tconst formData = new FormData();\n\t\tformData.append('key', key);\n\t\tformData.append('file', file);\n\t\tconst response = await fetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: {\n\t\t\t\t...Csrf.headers(),\n\t\t\t\t// 'Content-Type': 'application/json',\n\t\t\t},\n\t\t});\n\t\tawait response.json();\n\t\tconsole.log('save complete', key);\n\t\tif (response.ok) {\n\t\t} else {\n\t\t\tStoreController.editor.status.setError(`search index NOT downloaded for key ${key}`);\n\t\t}\n\t}\n}\nexport const SearchExportController = SearchExportControllerClass.instance();\n","export { default } from \"-!../../../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!./SearchExport.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/esbuild-loader/dist/index.cjs??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[14].use[0]!./SearchExport.vue?vue&type=script&lang=ts\"","import { render } from \"./SearchExport.vue?vue&type=template&id=da79aca6&ts=true\"\nimport script from \"./SearchExport.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchExport.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":[],"sourceRoot":""}