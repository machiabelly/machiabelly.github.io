{
  "version": 3,
  "sources": ["../../@polygonjs/polygonjs/dist/src/core/geometry/CorePath.js"],
  "sourcesContent": ["\"use strict\";\nimport { stringMatchMask } from \"../String\";\nexport const ROOT_NAME = \"/\";\nconst REGEX_PATH_SANITIZE = /\\/+/g;\nexport function findObjectByMask(mask, parent) {\n  return findObjectByMaskInObject(mask, parent);\n}\nexport function findObjectByMaskInObject(mask, object, objectPath2 = \"\") {\n  for (const child of object.children) {\n    const childName = sanitizeObjectPath(child.name);\n    const path = sanitizeObjectPath(`${objectPath2}/${childName}`);\n    if (stringMatchMask(path, mask)) {\n      return child;\n    }\n    const grandChild = findObjectByMaskInObject(mask, child, path);\n    if (grandChild) {\n      return grandChild;\n    }\n  }\n}\nexport function objectsByMask(mask, parent, invertMask = false) {\n  const list = [];\n  traverseObjectsWithMask(\n    mask,\n    (obj) => {\n      list.push(obj);\n    },\n    parent,\n    invertMask\n  );\n  return list;\n}\nexport function objectsByMaskInObject(mask, object, list = [], objectPath2 = \"\") {\n  traverseObjectsWithMask(\n    mask,\n    (obj) => {\n      list.push(obj);\n    },\n    object\n  );\n  return list;\n}\nexport function traverseObjectsWithMask(mask, callback, object, invertMask = false) {\n  traverseObjectsWithMaskInObject(mask, object, callback, invertMask);\n}\nexport function traverseObjectsWithMaskInObject(mask, object, callback, invertMask, objectPath2) {\n  const objectName = sanitizeObjectPath(object.name);\n  const path = sanitizeObjectPath(objectPath2 != null ? `${objectPath2}/${objectName}` : objectName);\n  let match = stringMatchMask(path, mask);\n  if (invertMask) {\n    match = !match;\n  }\n  if (match) {\n    callback(object);\n  }\n  for (const child of object.children) {\n    traverseObjectsWithMaskInObject(mask, child, callback, invertMask, path);\n  }\n}\nexport function sanitizeObjectPath(path) {\n  return path.replace(REGEX_PATH_SANITIZE, \"/\");\n}\nexport function objectPath(object, topParent) {\n  const parent = object.parent;\n  if (parent && object != topParent) {\n    const parentPath = objectPath(parent, topParent);\n    return sanitizeObjectPath(`${parentPath}/${object.name}`);\n  } else {\n    return object.name;\n  }\n}\nexport class CorePath {\n}\nCorePath.findObjectByMask = findObjectByMask;\nCorePath.findObjectByMaskInObject = findObjectByMaskInObject;\nCorePath.objectsByMask = objectsByMask;\nCorePath.objectsByMaskInObject = objectsByMaskInObject;\nCorePath.traverseObjectsWithMask = traverseObjectsWithMask;\nCorePath.traverseObjectsWithMaskInObject = traverseObjectsWithMaskInObject;\nCorePath.objectPath = objectPath;\nCorePath.sanitizePath = sanitizeObjectPath;\n"],
  "mappings": ";;;;;AAGA,IAAM,sBAAsB;AACrB,SAAS,iBAAiB,MAAM,QAAQ;AAC7C,SAAO,yBAAyB,MAAM,MAAM;AAC9C;AACO,SAAS,yBAAyB,MAAM,QAAQ,cAAc,IAAI;AACvE,aAAW,SAAS,OAAO,UAAU;AACnC,UAAM,YAAY,mBAAmB,MAAM,IAAI;AAC/C,UAAM,OAAO,mBAAmB,GAAG,WAAW,IAAI,SAAS,EAAE;AAC7D,QAAI,gBAAgB,MAAM,IAAI,GAAG;AAC/B,aAAO;AAAA,IACT;AACA,UAAM,aAAa,yBAAyB,MAAM,OAAO,IAAI;AAC7D,QAAI,YAAY;AACd,aAAO;AAAA,IACT;AAAA,EACF;AACF;AACO,SAAS,cAAc,MAAM,QAAQ,aAAa,OAAO;AAC9D,QAAM,OAAO,CAAC;AACd;AAAA,IACE;AAAA,IACA,CAAC,QAAQ;AACP,WAAK,KAAK,GAAG;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,SAAO;AACT;AACO,SAAS,sBAAsB,MAAM,QAAQ,OAAO,CAAC,GAAG,cAAc,IAAI;AAC/E;AAAA,IACE;AAAA,IACA,CAAC,QAAQ;AACP,WAAK,KAAK,GAAG;AAAA,IACf;AAAA,IACA;AAAA,EACF;AACA,SAAO;AACT;AACO,SAAS,wBAAwB,MAAM,UAAU,QAAQ,aAAa,OAAO;AAClF,kCAAgC,MAAM,QAAQ,UAAU,UAAU;AACpE;AACO,SAAS,gCAAgC,MAAM,QAAQ,UAAU,YAAY,aAAa;AAC/F,QAAM,aAAa,mBAAmB,OAAO,IAAI;AACjD,QAAM,OAAO,mBAAmB,eAAe,OAAO,GAAG,WAAW,IAAI,UAAU,KAAK,UAAU;AACjG,MAAI,QAAQ,gBAAgB,MAAM,IAAI;AACtC,MAAI,YAAY;AACd,YAAQ,CAAC;AAAA,EACX;AACA,MAAI,OAAO;AACT,aAAS,MAAM;AAAA,EACjB;AACA,aAAW,SAAS,OAAO,UAAU;AACnC,oCAAgC,MAAM,OAAO,UAAU,YAAY,IAAI;AAAA,EACzE;AACF;AACO,SAAS,mBAAmB,MAAM;AACvC,SAAO,KAAK,QAAQ,qBAAqB,GAAG;AAC9C;AACO,SAAS,WAAW,QAAQ,WAAW;AAC5C,QAAM,SAAS,OAAO;AACtB,MAAI,UAAU,UAAU,WAAW;AACjC,UAAM,aAAa,WAAW,QAAQ,SAAS;AAC/C,WAAO,mBAAmB,GAAG,UAAU,IAAI,OAAO,IAAI,EAAE;AAAA,EAC1D,OAAO;AACL,WAAO,OAAO;AAAA,EAChB;AACF;AACO,IAAM,WAAN,MAAe;AACtB;AACA,SAAS,mBAAmB;AAC5B,SAAS,2BAA2B;AACpC,SAAS,gBAAgB;AACzB,SAAS,wBAAwB;AACjC,SAAS,0BAA0B;AACnC,SAAS,kCAAkC;AAC3C,SAAS,aAAa;AACtB,SAAS,eAAe;",
  "names": []
}
